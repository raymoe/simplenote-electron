!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=184)}([function(e,t,n){e.exports=n(4)("./node_modules/react/index.js")},function(e,t,n){e.exports=n(4)("./node_modules/prop-types/index.js")},function(e,t,n){e.exports=n(4)("./node_modules/lodash/lodash.js")},function(e,t,n){e.exports=n(4)("./node_modules/classnames/index.js")},function(e,t){e.exports=vendor},function(e,t,n){e.exports=n(4)("./node_modules/react-redux/es/index.js")},function(e,t,n){var o,r;n(183);const i={initialize:function(e){i.setUser(e),i.identifyUser()},getPlatformPrefix:function(){return-1!==navigator.appVersion.indexOf("Win")?"spwindows_":-1!==navigator.appVersion.indexOf("Linux")?"splinux_":"unknown_"},setUser:function(e){o=e},tracks:{recordEvent:function(e,t){window.analyticsEnabled&&(t=t||{},r||(r=i.getPlatformPrefix()),((e=r+e).includes("splinux_")||e.includes("spwindows_"))&&window._tkq.push(["recordEvent",e,t]))}},identifyUser:function(){o&&window._tkq.push(["identifyUser",o,o])},clearedIdentity:function(){window._tkq.push(["clearIdentity"])}};window._tkq=window._tkq||[],e.exports=i},function(e,t,n){e.exports=n(4)("./node_modules/react-addons-update/index.js")},function(e,t,n){"use strict";var o=n(16),r=n(76),i=n(29),a=n(180),s=n(24);function l(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}t.newBlob=function(e,n){t.checkSupport("blob");try{return new Blob([e],{type:n})}catch(t){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return o.append(e),o.getBlob(n)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(e,t,n){var o=[],r=0,i=e.length;if(i<=n)return String.fromCharCode.apply(null,e);for(;r<i;)"array"===t||"nodebuffer"===t?o.push(String.fromCharCode.apply(null,e.slice(r,Math.min(r+n,i)))):o.push(String.fromCharCode.apply(null,e.subarray(r,Math.min(r+n,i)))),r+=n;return o.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&1===String.fromCharCode.apply(null,i.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var n=65536,o=t.getTypeOf(e),r=!0;if("uint8array"===o?r=d.applyCanBeUsed.uint8array:"nodebuffer"===o&&(r=d.applyCanBeUsed.nodebuffer),r)for(;n>1;)try{return d.stringifyByChunk(e,o,n)}catch(e){n=Math.floor(n/2)}return d.stringifyByChar(e)}function p(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}t.applyFromCharCode=u;var h={};h.string={string:l,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return h.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,i.allocBuffer(e.length))}},h.array={string:u,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(e)}},h.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return p(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return i.newBufferFrom(new Uint8Array(e))}},h.uint8array={string:u,array:function(e){return p(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return i.newBufferFrom(e)}},h.nodebuffer={string:u,array:function(e){return p(e,new Array(e.length))},arraybuffer:function(e){return h.nodebuffer.uint8array(e).buffer},uint8array:function(e){return p(e,new Uint8Array(e.length))},nodebuffer:l},t.transformTo=function(e,n){if(n||(n=""),!e)return n;t.checkSupport(e);var o=t.getTypeOf(n);return h[o][e](n)},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":o.nodebuffer&&i.isBuffer(e)?"nodebuffer":o.uint8array&&e instanceof Uint8Array?"uint8array":o.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!o[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,n,o="";for(n=0;n<(e||"").length;n++)o+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return o},t.delay=function(e,t,n){a(function(){e.apply(n||null,t||[])})},t.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},t.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},t.prepareContent=function(e,n,i,a,l){return s.Promise.resolve(n).then(function(e){return o.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise(function(t,n){var o=new FileReader;o.onload=function(e){t(e.target.result)},o.onerror=function(e){n(e.target.error)},o.readAsArrayBuffer(e)}):e}).then(function(n){var d=t.getTypeOf(n);return d?("arraybuffer"===d?n=t.transformTo("uint8array",n):"string"===d&&(l?n=r.decode(n):i&&!0!==a&&(n=function(e){return c(e,o.uint8array?new Uint8Array(e.length):new Array(e.length))}(n))),n):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},function(e,t,n){e.exports=n(4)("./node_modules/draft-js/lib/Draft.js")},function(e,t,n){e.exports=n(4)("./node_modules/react-dom/index.js")},function(e,t,n){e.exports=n(4)("./node_modules/redux/es/index.js")},function(e,t,n){"use strict";function o(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},e.exports=o},function(e,t,n){e.exports=n(4)("./node_modules/simperium/lib/simperium/index.js")},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,r.default)(o.default.findDOMNode(e))};var o=i(n(10)),r=i(n(17));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var o in n)r(n,o)&&(e[o]=n[o])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,o,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+o),r);else for(var i=0;i<o;i++)e[r+i]=t[n+i]},flattenChunks:function(e){var t,n,o,r,i,a;for(o=0,t=0,n=e.length;t<n;t++)o+=e[t].length;for(a=new Uint8Array(o),r=0,t=0,n=e.length;t<n;t++)i=e[t],a.set(i,r),r+=i.length;return a}},a={arraySet:function(e,t,n,o,r){for(var i=0;i<o;i++)e[r+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(o)},function(e,t,n){"use strict";(function(e){if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer=void 0!==e,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var o=new ArrayBuffer(0);try{t.blob=0===new Blob([o],{type:"application/zip"}).size}catch(e){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(o),t.blob=0===r.getBlob("application/zip").size}catch(e){t.blob=!1}}}try{t.nodestream=!!n(77).Readable}catch(e){t.nodestream=!1}}).call(this,n(30).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&e.ownerDocument||document},e.exports=t.default},function(e,t,n){e.exports=n(4)("./node_modules/dom-helpers/util/inDOM.js")},function(e,t,n){"use strict";for(var o=n(8),r=n(16),i=n(29),a=n(12),s=new Array(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;s[254]=s[254]=1;function c(){a.call(this,"utf-8 decode"),this.leftOver=null}function d(){a.call(this,"utf-8 encode")}t.utf8encode=function(e){return r.nodebuffer?i.newBufferFrom(e,"utf-8"):function(e){var t,n,o,i,a,s=e.length,l=0;for(i=0;i<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=r.uint8array?new Uint8Array(l):new Array(l),a=0,i=0;a<l;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(o=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(o-56320),i++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t}(e)},t.utf8decode=function(e){return r.nodebuffer?o.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,r,i,a=e.length,l=new Array(2*a);for(n=0,t=0;t<a;)if((r=e[t++])<128)l[n++]=r;else if((i=s[r])>4)l[n++]=65533,t+=i-1;else{for(r&=2===i?31:3===i?15:7;i>1&&t<a;)r=r<<6|63&e[t++],i--;i>1?l[n++]=65533:r<65536?l[n++]=r:(r-=65536,l[n++]=55296|r>>10&1023,l[n++]=56320|1023&r)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),o.applyFromCharCode(l)}(e=o.transformTo(r.uint8array?"uint8array":"array",e))},o.inherits(c,a),c.prototype.processChunk=function(e){var n=o.transformTo(r.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var i=n;(n=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),n.set(i,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+s[e[n]]>t?n:t}(n),l=n;a!==n.length&&(r.uint8array?(l=n.subarray(0,a),this.leftOver=n.subarray(a,n.length)):(l=n.slice(0,a),this.leftOver=n.slice(a,n.length))),this.push({data:t.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=c,o.inherits(d,a),d.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=d},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e="function"==typeof e?e():e,o.default.findDOMNode(e)||t};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(10));e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=a(n(0)),i=a(n(49));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)(function(e,t,n,i,a){var s=e[t],l=void 0===s?"undefined":o(s);return r.default.isValidElement(s)?new Error("Invalid "+i+" `"+a+"` of type ReactElement supplied to `"+n+"`, expected a ReactComponent or a DOMElement. You can usually obtain a ReactComponent or DOMElement from a ReactElement by attaching a ref to it."):"object"===l&&"function"==typeof s.render||1===s.nodeType?null:new Error("Invalid "+i+" `"+a+"` of value `"+s+"` supplied to `"+n+"`, expected a ReactComponent or a DOMElement.")}),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e===e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,i.default)(e),n=(0,r.default)(t),a=t&&t.documentElement,s={top:0,left:0,height:0,width:0};if(!t)return;if(!(0,o.default)(a,e))return s;void 0!==e.getBoundingClientRect&&(s=e.getBoundingClientRect());return s={top:s.top+(n.pageYOffset||a.scrollTop)-(a.clientTop||0),left:s.left+(n.pageXOffset||a.scrollLeft)-(a.clientLeft||0),width:(null==s.width?e.offsetWidth:s.width)||0,height:(null==s.height?e.offsetHeight:s.height)||0}};var o=a(n(37)),r=a(n(22)),i=a(n(17));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";var o=null;o="undefined"!=typeof Promise?Promise:n(166),e.exports={Promise:o}},function(e,t,n){e.exports=n(4)("./node_modules/react-virtualized/dist/es/index.js")},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(o),i=o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"});return[n].concat(i).concat([r]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,i){return(0,o.default)(e,t,n,i),{remove:function(){(0,r.default)(e,t,n,i)}}};var o=i(n(128)),r=i(n(127));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";(function(t){e.exports={isNode:void 0!==t,newBufferFrom:function(e,n){return new t(e,n)},allocBuffer:function(e){return t.alloc?t.alloc(e):new t(e)},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}}).call(this,n(30).Buffer)},function(e,t,n){e.exports=n(4)("./node_modules/buffer/index.js")},function(e,t,n){e.exports=function(){var e=function(){try{const e=n(106);if("function"==typeof e)throw new Error("Invalid config file. Config must be JSON.");return e}catch(e){throw console.error("Could not read in the required configuration file.\nThis file should exist as `config.json` inside the project root directory.\nPlease consult the project README.md for further information.\n"),e}}(),t=n(105);return e.version=t.version,e}},function(e,t,n){e.exports=n(4)("./node_modules/moment/moment.js")},function(e,t,n){var o=n(104),r=window.indexedDB,i=new o(function(e,t){var n=r.open("ghost",200);n.onupgradeneeded=function(e){var t=e.target.result,n=t.objectStoreNames;n.contains("cv")&&t.deleteObjectStore("cv"),t.createObjectStore("cv",{keyPath:"bucket"}).createIndex("bucket","bucket",{unique:!0}),n.contains("ghosts")&&t.deleteObjectStore("ghosts");let o=t.createObjectStore("ghosts",{keyPath:"full_key"});o.createIndex("bucket","bucket"),o.createIndex("full_key","full_key",{unique:!0})},n.onsuccess=function(t){var n=t.target.result;e(n)},n.onerror=function(e){t(e.target.error)}});function a(e){this.bucket=e}i.then(function(){}),i.catch(function(e){console.error(e)}),r.onerror=function(e){console.log("Some kind of error",e)},a.prototype.getChangeVersion=function(){var e=this.bucket;return new o(function(t){i.then(function(n){n.transaction("cv").objectStore("cv").get(e.name).onsuccess=function(e){var n=e.target.result,o=null;n&&(o=n.cv),t(o)}})})},a.prototype.setChangeVersion=function(e){var t=this.bucket;return new o(function(n){i.then(function(o){o.transaction("cv","readwrite").objectStore("cv").put({bucket:t.name,cv:e}).onsuccess=n})})},a.prototype.put=function(e,t,n){var r=this.bucket;return new o(function(o){i.then(function(i){var a=i.transaction(["ghosts"],"readwrite").objectStore("ghosts"),s=r.name+"."+e,l={key:e,version:t,data:n,full_key:s,bucket:r.name};a.put(l).onsuccess=function(e){o(e.target.result)}})})},a.prototype.get=function(e){var t=this.bucket;return new o(function(n,o){i.then(function(r){var i=r.transaction("ghosts").objectStore("ghosts"),a=t.name+"."+e,s=i.get(a);s.onsuccess=function(t){var o=t.target.result;o||(o={key:e,data:{}}),n(o)},s.onerror=function(e){var t=new Error("failed to get ghost "+a);t.objectStoreEvent=e,o(t)}})})},a.prototype.remove=function(e){var t=this.bucket;return new o(function(n,o){i.then(function(r){var i=r.transaction("ghosts","readwrite").objectStore("ghosts"),a=t.name+"."+e,s=i.delete(a);s.onsuccess=function(){n()},s.onerror=function(){o(new Error("Failed to delete ghost "+a))}})})},a.prototype.eachGhost=function(e){var t=this.bucket;i.then(function(n){n.transaction("ghosts").objectStore("ghosts").index("bucket").openCursor(IDBKeyRange.only(t.name)).onsuccess=function(t){var n=t.target.result;n&&(e(n.value),n.continue())}},function(){console.log("Failed!")})},e.exports=function(e){return new a(e)},e.exports.GhostStore=a,e.exports.reset=function(){return i.then(e=>o.all([].map.call(e.objectStoreNames,t=>new o((n,o)=>{var r=e.transaction(t,"readwrite").objectStore(t).clear();r.onsuccess=(()=>{n(t)}),r.onerror=(e=>{o(e)})}))))}},function(e,t,n){"use strict";t.__esModule=!0;var o=d(n(1)),r=d(n(21)),i=d(n(0)),a=d(n(10)),s=d(n(20)),l=d(n(14)),c=d(n(114));function d(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=o=u(this,e.call.apply(e,[this].concat(i))),o.setContainer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.props;o._portalContainerNode=(0,s.default)(e.container,(0,l.default)(o).body)},o.getMountNode=function(){return o._portalContainerNode},u(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.setContainer(),this.forceUpdate(this.props.onRendered)},t.prototype.componentWillReceiveProps=function(e){e.container!==this.props.container&&this.setContainer(e)},t.prototype.componentWillUnmount=function(){this._portalContainerNode=null},t.prototype.render=function(){return this.props.children&&this._portalContainerNode?a.default.createPortal(this.props.children,this._portalContainerNode):null},t}(i.default.Component);p.displayName="Portal",p.propTypes={container:o.default.oneOfType([r.default,o.default.func]),onRendered:o.default.func},t.default=a.default.createPortal?p:c.default,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(e);if(void 0===t)return n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:e.scrollTop;n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,t):e.scrollTop=t};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(22));e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var c="",d="",u=t;if("string"==typeof t){if(void 0===n)return e.style[(0,o.default)(t)]||(0,i.default)(e).getPropertyValue((0,r.default)(t));(u={})[t]=n}Object.keys(u).forEach(function(t){var n=u[t];n||0===n?(0,l.default)(t)?d+=t+"("+n+") ":c+=(0,r.default)(t)+": "+n+";":(0,a.default)(e,(0,r.default)(t))}),d&&(c+=s.transform+": "+d+";");e.style.cssText+=";"+c};var o=c(n(53)),r=c(n(134)),i=c(n(132)),a=c(n(131)),s=n(130),l=c(n(129));function c(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(18));function r(e,t){if(t)do{if(t===e)return!0}while(t=t.parentNode);return!1}t.default=o.default?function(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):r(e,t)}:r,e.exports=t.default},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";var o=n(8);var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var o=0;o<8;o++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t){return void 0!==e&&e.length?"string"!==o.getTypeOf(e)?function(e,t,n,o){var i=r,a=o+n;e^=-1;for(var s=o;s<a;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}(0|t,e,e.length,0):function(e,t,n,o){var i=r,a=o+n;e^=-1;for(var s=o;s<a;s++)e=e>>>8^i[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length,0):0}},function(e,t,n){"use strict";var o=n(24),r=n(69),i=n(68),a=n(67);i=n(68);function s(e,t,n,o,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=o,this.compressedContent=r}s.prototype={getContentWorker:function(){var e=new r(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new i("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new r(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new i("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new i("compressedSize")).withStreamInfo("compression",t)},e.exports=s},function(e,t,n){e.exports=n(4)("./node_modules/webpack/buildin/global.js")},function(e,t,n){e.exports=!n(73)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";t.__esModule=!0;var o=c(n(37)),r=c(n(1)),i=c(n(0)),a=c(n(10)),s=c(n(27)),l=c(n(14));function c(e){return e&&e.__esModule?e:{default:e}}var d=27;var u=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return i.addEventListeners=function(){var e=i.props.event,t=(0,l.default)(i);i.documentMouseCaptureListener=(0,s.default)(t,e,i.handleMouseCapture,!0),i.documentMouseListener=(0,s.default)(t,e,i.handleMouse),i.documentKeyupListener=(0,s.default)(t,"keyup",i.handleKeyUp)},i.removeEventListeners=function(){i.documentMouseCaptureListener&&i.documentMouseCaptureListener.remove(),i.documentMouseListener&&i.documentMouseListener.remove(),i.documentKeyupListener&&i.documentKeyupListener.remove()},i.handleMouseCapture=function(e){i.preventMouseRootClose=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||!function(e){return 0===e.button}(e)||(0,o.default)(a.default.findDOMNode(i),e.target)},i.handleMouse=function(e){!i.preventMouseRootClose&&i.props.onRootClose&&i.props.onRootClose(e)},i.handleKeyUp=function(e){e.keyCode===d&&i.props.onRootClose&&i.props.onRootClose(e)},i.preventMouseRootClose=!1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.disabled||this.addEventListeners()},t.prototype.componentDidUpdate=function(e){!this.props.disabled&&e.disabled?this.addEventListeners():this.props.disabled&&!e.disabled&&this.removeEventListeners()},t.prototype.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},t.prototype.render=function(){return this.props.children},t}(i.default.Component);u.displayName="RootCloseWrapper",u.propTypes={onRootClose:r.default.func,children:r.default.element,disabled:r.default.bool,event:r.default.oneOf(["click","mousedown"])},u.defaultProps={event:"click"},t.default=u,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=h(n(3)),i=h(n(1)),a=h(n(21)),s=n(0),l=h(s),c=h(n(10)),d=h(n(110)),u=h(n(20)),p=h(n(14));function h(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}var m=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return r.getTarget=function(){var e=r.props.target,t="function"==typeof e?e():e;return t&&c.default.findDOMNode(t)||null},r.maybeUpdatePosition=function(e){var t=r.getTarget();(r.props.shouldUpdatePosition||t!==r._lastTarget||e)&&r.updatePosition(t)},r.state={positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null},r._needsFlush=!1,r._lastTarget=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.updatePosition(this.getTarget())},t.prototype.componentWillReceiveProps=function(){this._needsFlush=!0},t.prototype.componentDidUpdate=function(e){this._needsFlush&&(this._needsFlush=!1,this.maybeUpdatePosition(this.props.placement!==e.placement))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,i=f(e,["children","className"]),a=this.state,c=a.positionLeft,d=a.positionTop,u=f(a,["positionLeft","positionTop"]);delete i.target,delete i.container,delete i.containerPadding,delete i.shouldUpdatePosition;var p=l.default.Children.only(t);return(0,s.cloneElement)(p,o({},i,u,{positionLeft:c,positionTop:d,className:(0,r.default)(n,p.props.className),style:o({},p.props.style,{left:c,top:d})}))},t.prototype.updatePosition=function(e){if(this._lastTarget=e,e){var t=c.default.findDOMNode(this),n=(0,u.default)(this.props.container,(0,p.default)(this).body);this.setState((0,d.default)(this.props.placement,t,e,n,this.props.containerPadding))}else this.setState({positionLeft:0,positionTop:0,arrowOffsetLeft:null,arrowOffsetTop:null})},t}(l.default.Component);m.propTypes={target:i.default.oneOfType([a.default,i.default.func]),container:i.default.oneOfType([a.default,i.default.func]),containerPadding:i.default.number,placement:i.default.oneOf(["top","right","bottom","left"]),shouldUpdatePosition:i.default.bool},m.displayName="Position",m.defaultProps={containerPadding:0,placement:"right",shouldUpdatePosition:!1},t.default=m,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=a(n(0)),i=a(n(49));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)(function(e,t,n,i,a){var s=e[t],l=void 0===s?"undefined":o(s);return r.default.isValidElement(s)?new Error("Invalid "+i+" `"+a+"` of type ReactElement supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):"function"!==l&&"string"!==l?new Error("Invalid "+i+" `"+a+"` of value `"+s+"` supplied to `"+n+"`, expected an element type (a string or a ReactClass)."):null}),e.exports=t.default},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,o,r,i,a){var s=r||"<<anonymous>>",l=a||o;if(null==n[o])return t?new Error("Required "+i+" `"+l+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,d=Array(c>6?c-6:0),u=6;u<c;u++)d[u-6]=arguments[u];return e.apply(void 0,[n,o,s,i,l].concat(d))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,r.default)(o.default.findDOMNode(e))};var o=i(n(10)),r=i(n(126));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return Math.max(e.documentElement.offsetHeight||0,e.height||0,e.body.scrollHeight||0,e.body.offsetHeight||0)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="clearTimeout",i=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-s)),o=setTimeout(e,n);return s=t,o},a=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};(function(e){return e&&e.__esModule?e:{default:e}})(n(18)).default&&["","webkit","moz","o","ms"].some(function(e){var t=a(e,"request");if(t in window)return r=a(e,"cancel"),i=function(e){return window[t](e)}});var s=(new Date).getTime();(o=function(e){return i(e)}).cancel=function(e){window[r]&&"function"==typeof window[r]&&window[r](e)},t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(e.replace(r,"ms-"))};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(135));var r=/^-ms-/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,o.default)(e),n=e&&e.offsetParent;for(;n&&"html"!==a(e)&&"static"===(0,r.default)(n,"position");)n=n.offsetParent;return n||t.documentElement};var o=i(n(17)),r=i(n(36));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return e.nodeName&&e.nodeName.toLowerCase()}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=b(n(3)),i=b(n(136)),a=b(n(23)),s=b(n(54)),l=b(n(35)),c=b(n(52)),d=b(n(1)),u=b(n(0)),p=b(n(10)),h=b(n(27)),f=b(n(51)),m=b(n(14)),g=b(n(50));function b(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return r.onWindowScroll=function(){r.onUpdate()},r.onDocumentClick=function(){(0,c.default)(function(){return r.onUpdate()})},r.onUpdate=function(){if(r._isMounted){var e=r.props,t=e.offsetTop,n=e.viewportOffsetTop,o=(0,l.default)((0,g.default)(r))+(n||0);o<=t?r.updateState("top",null,null):o>r.getPositionTopMax()?"bottom"===r.state.affixed?r.updateStateAtBottom():r.setState({affixed:"bottom",position:"absolute",top:null},function(){r._isMounted&&r.updateStateAtBottom()}):r.updateState("affix","fixed",n)}},r.getPositionTopMax=function(){return(0,f.default)((0,m.default)(r))-(0,i.default)(p.default.findDOMNode(r))-r.props.offsetBottom},r.updateState=function(e,t,n){if(e!==r.state.affixed||t!==r.state.position||n!==r.state.top){var o="affix"===e?"":e.charAt(0).toUpperCase()+e.substr(1);r.props["onAffix"+o]&&r.props["onAffix"+o](),r.setState({affixed:e,position:t,top:n},function(){r.props["onAffixed"+o]&&r.props["onAffixed"+o]()})}},r.updateStateAtBottom=function(){var e=r.getPositionTopMax(),t=(0,s.default)(p.default.findDOMNode(r)),n=(0,a.default)(t).top;r.updateState("bottom","absolute",e-n)},r.state={affixed:"top",position:null,top:null},r._needPositionUpdate=!1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this._isMounted=!0,this._windowScrollListener=(0,h.default)((0,g.default)(this),"scroll",function(){return e.onWindowScroll()}),this._documentClickListener=(0,h.default)((0,m.default)(this),"click",function(){return e.onDocumentClick()}),this.onUpdate()},t.prototype.componentWillReceiveProps=function(){this._needPositionUpdate=!0},t.prototype.componentDidUpdate=function(){this._needPositionUpdate&&(this._needPositionUpdate=!1,this.onUpdate())},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._windowScrollListener&&this._windowScrollListener.remove(),this._documentClickListener&&this._documentClickListener.remove()},t.prototype.render=function(){var e=u.default.Children.only(this.props.children),t=e.props,n=t.className,i=t.style,a=this.state,s=a.affixed,l={position:a.position,top:a.top},c=void 0,d=void 0;return"top"===s?(c=this.props.topClassName,d=this.props.topStyle):"bottom"===s?(c=this.props.bottomClassName,d=this.props.bottomStyle):(c=this.props.affixClassName,d=this.props.affixStyle),u.default.cloneElement(e,{className:(0,r.default)(c,n),style:o({},l,d,i)})},t}(u.default.Component);v.propTypes={offsetTop:d.default.number,viewportOffsetTop:d.default.number,offsetBottom:d.default.number,topClassName:d.default.string,topStyle:d.default.object,affixClassName:d.default.string,affixStyle:d.default.object,bottomClassName:d.default.string,bottomStyle:d.default.object,onAffix:d.default.func,onAffixed:d.default.func,onAffixTop:d.default.func,onAffixedTop:d.default.func,onAffixBottom:d.default.func,onAffixedBottom:d.default.func},v.defaultProps={offsetTop:0,viewportOffsetTop:null,offsetBottom:0},t.default=v,e.exports=t.default},function(e,t,n){"use strict";var o=n(58);function r(e){o.call(this,e)}n(8).inherits(r,o),r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=r},function(e,t,n){"use strict";var o=n(8);function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return o.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},e.exports=r},function(e,t,n){"use strict";var o=n(57);function r(e){o.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}n(8).inherits(r,o),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),o=e.charCodeAt(2),r=e.charCodeAt(3),i=this.length-4;i>=0;--i)if(this.data[i]===t&&this.data[i+1]===n&&this.data[i+2]===o&&this.data[i+3]===r)return i-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),o=e.charCodeAt(2),r=e.charCodeAt(3),i=this.readData(4);return t===i[0]&&n===i[1]&&o===i[2]&&r===i[3]},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=r},function(e,t,n){"use strict";var o=n(8),r=n(16),i=n(58),a=n(146),s=n(145),l=n(56);e.exports=function(e){var t=o.getTypeOf(e);return o.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new s(e):r.uint8array?new l(o.transformTo("uint8array",e)):new i(o.transformTo("array",e)):new a(e)}},function(e,t,n){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";var o=n(15),r=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){i=!1}for(var a=new o.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65537&&(e.subarray&&i||!e.subarray&&r))return String.fromCharCode.apply(null,o.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,r,i,a,s=e.length,l=0;for(i=0;i<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new o.Buf8(l),a=0,i=0;a<l;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new o.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,o,r,i,s=t||e.length,c=new Array(2*s);for(o=0,n=0;n<s;)if((r=e[n++])<128)c[o++]=r;else if((i=a[r])>4)c[o++]=65533,n+=i-1;else{for(r&=2===i?31:3===i?15:7;i>1&&n<s;)r=r<<6|63&e[n++],i--;i>1?c[o++]=65533:r<65536?c[o++]=r:(r-=65536,c[o++]=55296|r>>10&1023,c[o++]=56320|1023&r)}return l(c,o)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+a[e[n]]>t?n:t}},function(e,t,n){"use strict";var o=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var o=0;o<8;o++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,r){var i=o,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}},function(e,t,n){"use strict";e.exports=function(e,t,n,o){for(var r=65535&e|0,i=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{i=i+(r=r+t[o++]|0)|0}while(--a);r%=65521,i%=65521}return r|i<<16|0}},function(e,t,n){"use strict";var o=n(12);t.STORE={magic:"\0\0",compressWorker:function(e){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},t.DEFLATE=n(160)},function(e,t,n){"use strict";var o=n(12),r=n(39);function i(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n(8).inherits(i,o),i.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},e.exports=i},function(e,t,n){"use strict";var o=n(8),r=n(12);function i(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}o.inherits(i,r),i.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}r.prototype.processChunk.call(this,e)},e.exports=i},function(e,t,n){"use strict";var o=n(8),r=n(12);function i(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=o.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}o.inherits(i,r),i.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=i},function(e,t,n){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},function(e,t,n){"use strict";(function(t){var o=n(8),r=n(164),i=n(12),a=n(76),s=n(16),l=n(24),c=null;if(s.nodestream)try{c=n(163)}catch(e){}function d(e,n){return new l.Promise(function(r,i){var s=[],l=e._internalType,c=e._outputType,d=e._mimeType;e.on("data",function(e,t){s.push(e),n&&n(t)}).on("error",function(e){s=[],i(e)}).on("end",function(){try{var e=function(e,t,n){switch(e){case"blob":return o.newBlob(o.transformTo("arraybuffer",t),n);case"base64":return a.encode(t);default:return o.transformTo(e,t)}}(c,function(e,n){var o,r=0,i=null,a=0;for(o=0;o<n.length;o++)a+=n[o].length;switch(e){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(i=new Uint8Array(a),o=0;o<n.length;o++)i.set(n[o],r),r+=n[o].length;return i;case"nodebuffer":return t.concat(n);default:throw new Error("concat : unsupported type '"+e+"'")}}(l,s),d);r(e)}catch(e){i(e)}s=[]}).resume()})}function u(e,t,n){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=n,o.checkSupport(a),this._worker=e.pipe(new r(a)),e.lock()}catch(e){this._worker=new i("error"),this._worker.error(e)}}u.prototype={accumulate:function(e){return d(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){o.delay(t,arguments,n)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(o.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},e.exports=u}).call(this,n(30).Buffer)},function(e,t,n){var o=n(43),r=n(28).document,i=o(r)&&o(r.createElement);e.exports=function(e){return i?r.createElement(e):{}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var o=n(177);e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,r){return e.call(t,n,o,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";var o=n(8),r=n(16),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,n,r,a,s,l,c,d=[],u=0,p=e.length,h=p,f="string"!==o.getTypeOf(e);u<e.length;)h=p-u,f?(t=e[u++],n=u<p?e[u++]:0,r=u<p?e[u++]:0):(t=e.charCodeAt(u++),n=u<p?e.charCodeAt(u++):0,r=u<p?e.charCodeAt(u++):0),a=t>>2,s=(3&t)<<4|n>>4,l=h>1?(15&n)<<2|r>>6:64,c=h>2?63&r:64,d.push(i.charAt(a)+i.charAt(s)+i.charAt(l)+i.charAt(c));return d.join("")},t.decode=function(e){var t,n,o,a,s,l,c=0,d=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var u,p=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===i.charAt(64)&&p--,e.charAt(e.length-2)===i.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=r.uint8array?new Uint8Array(0|p):new Array(0|p);c<e.length;)t=i.indexOf(e.charAt(c++))<<2|(a=i.indexOf(e.charAt(c++)))>>4,n=(15&a)<<4|(s=i.indexOf(e.charAt(c++)))>>2,o=(3&s)<<6|(l=i.indexOf(e.charAt(c++))),u[d++]=t,64!==s&&(u[d++]=n),64!==l&&(u[d++]=o);return u}},function(e,t,n){e.exports=n(181)},function(e,t,n){e.exports=n(4)("./node_modules/cookie/index.js")},function(e,t,n){e.exports=n(4)("./node_modules/redux-localstorage/lib/persistState.js")},function(e,t,n){e.exports=n(4)("./node_modules/redux-thunk/lib/index.js")},function(e,t,n){e.exports=n(4)("./node_modules/events/events.js")},function(e,t,n){e.exports=n(4)("./node_modules/util/util.js")},function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r{constructor(e,t){o(this,"withBucket",e=>this.setup.then(t=>e.call(this,t,this.bucket.name)).catch(e=>console.log("Failed",e))),o(this,"get",(e,t)=>this.withBucket((n,o)=>{const r=n.transaction(o).objectStore(o).get(e);r.onsuccess=(({target:{result:e}})=>t(null,e)),r.onerror=(e=>t(e))})),o(this,"update",(e,t,n,o)=>this.withBucket((n,r)=>{const i=n.transaction(r,"readwrite").objectStore(r).put(this.beforeIndex({id:e,data:t}));i.onsuccess=(()=>this.get(e,o)),i.onerror=(e=>o(e))})),o(this,"remove",(e,t)=>this.withBucket((n,o)=>n.transaction(o,"readwrite").objectStore(o).delete(e).onsuccess=(({target:{result:e}})=>t(null,e)))),o(this,"find",(e,t)=>this.withBucket((e,n)=>{const o=[],r=e.transaction(n).objectStore(n).openCursor();r.onsuccess=(({target:{result:e}})=>e?o.push(e.value)&&e.continue():t(null,o)),r.onerror=(e=>t(e))})),this.bucket=e,this.setup=t,this.beforeIndex=(e=>e)}}t.a=(e=>new class{constructor(e){o(this,"provider",()=>e=>new r(e,this.setup)),o(this,"reset",()=>this.setup.then(e=>Promise.all(Array.prototype.map.call(e.objectStoreNames,t=>new Promise((n,o)=>{const r=e.transaction(t,"readwrite").objectStore(t).clear();r.onsuccess=(()=>n(t)),r.onerror=(e=>o(e))})))).catch(e=>console.error("Failed to reset stores",e))),this.setup=new Promise((t,n)=>e(t,n))}}(e))},function(e,t,n){"use strict";(function(e){var o=n(13),r=n.n(o),i=n(83),a=n(33),s=n.n(a),l=n(82),c=n.n(l),d=n(81),u=n.n(d);const p=o.Client.Bucket;r.a.Auth;function h({appID:e,token:t,bucketConfig:n,database:o,version:a}){this.databaseName=o||"simperium-objects",this.databaseVersion=a||1;let l=this.bucketConfig=n;this.bucketDB=Object(i.a)(this.configureDb.bind(this)),this.buckets={};let c=this.bucketDB.provider();this.ghostStore=s.a,this.client=r()(e,t,{ghostStoreProvider:s.a,objectStoreProvider:function(e){var t=c.apply(null,arguments);return l[e.name].beforeIndex&&(t.beforeIndex=l[e.name].beforeIndex),t}}),["send","message","connect","reconnect","disconnect","unauthorized"].forEach(function(e){this.client.on(e,function(){let t=[].slice.call(arguments);this.emit.apply(this,[e].concat(t))}.bind(this))}.bind(this));for(let e in n)this.buckets[e]=this.client.bucket(e)}t.a=function(e){return new h(e)},p.prototype.query=function(e){this.store.setup.then(e)},c.a.inherits(h,u.a.EventEmitter),h.prototype.configureDb=function(t){var n=window.indexedDB.open(this.databaseName,this.databaseVersion),o=!1;n.onupgradeneeded=function(e){o=!0;let t,n=e.target.result,r=n.objectStoreNames;for(let e in this.bucketConfig){let o=this.bucketConfig[e];"function"!=typeof o&&(o=o.configure),r.contains(e)&&n.deleteObjectStore(e),o(t=n.createObjectStore(e,{keyPath:"id"}))}}.bind(this),n.onerror=function(e){console.log("So failed",e)},n.onsuccess=function(n){if(e.bucketDB=n.target.result,t(n.target.result),o)for(let e in this.buckets)this.buckets[e].reload()}.bind(this)},h.prototype.isAuthorized=function(){return!!this.client.accessToken},h.prototype.reset=function(){return this.bucketDB.reset().then(()=>s.a.reset(),e=>{console.error("Failed to reset",e)})},h.prototype.bucket=function(e){return this.buckets[e]},h.prototype.setUser=function(e){this.client.setAccessToken(e.access_token),this.emit("authorized")},h.prototype.deauthorize=function(){this.client.setAccessToken(null),this.emit("unauthorized"),this.client.disconnect(),this.reset()}}).call(this,n(41))},function(e,t,n){e.exports=n(4)("./node_modules/create-hash/browser.js")},function(e,t,n){"use strict";(function(e){var o=n(0),r=n.n(o),i=n(1),a=n.n(i),s=n(3),l=n.n(s);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let d=0;class u extends o.Component{constructor(...t){super(...t),c(this,"isSVGCSSAnimationSupported",()=>{const t=e.window?e.window.navigator.userAgent:"";return!/(MSIE |Trident\/)/.test(t)}),c(this,"getClassName",()=>l()("spinner",this.props.className,{"is-fallback":!this.isSVGCSSAnimationSupported()})),c(this,"renderFallback",()=>{const e={width:this.props.size,height:this.props.size};return r.a.createElement("div",{className:this.getClassName(),style:e},r.a.createElement("span",{className:"spinner__progress is-left"}),r.a.createElement("span",{className:"spinner__progress is-right"}))})}componentWillMount(){this.setState({instanceId:++d})}render(){const e=parseInt(this.state.instanceId,10);return this.isSVGCSSAnimationSupported()?r.a.createElement("div",{className:this.getClassName()},r.a.createElement("svg",{className:"spinner__image",width:this.props.size,height:this.props.size,viewBox:"0 0 100 100",dangerouslySetInnerHTML:{__html:`\n\t\t\t\t\t<defs>\n\t\t\t\t\t\t<mask id="maskBorder${e}">\n\t\t\t\t\t\t\t<rect x="0" y="0" width="100%" height="100%" fill="white" />\n\t\t\t\t\t\t\t<circle r="46%" cx="50%" cy="50%" fill="black" />\n\t\t\t\t\t\t</mask>\n\t\t\t\t\t\t<mask id="maskDonut${e}">\n\t\t\t\t\t\t\t<rect x="0" y="0" width="100%" height="100%" fill="black" />\n\t\t\t\t\t\t\t<circle r="46%" cx="50%" cy="50%" fill="white" />\n\t\t\t\t\t\t\t<circle r="30%" cx="50%" cy="50%" fill="black" />\n\t\t\t\t\t\t</mask>\n\t\t\t\t\t\t<mask id="maskLeft${e}">\n\t\t\t\t\t\t\t<rect x="0" y="0" width="50%" height="100%" fill="white" />\n\t\t\t\t\t\t</mask>\n\t\t\t\t\t\t<mask id="maskRight${e}">\n\t\t\t\t\t\t\t<rect x="50%" y="0" width="50%" height="100%" fill="white" />\n\t\t\t\t\t\t</mask>\n\t\t\t\t\t</defs>\n\t\t\t\t\t<circle class="spinner__border" r="50%" cx="50%" cy="50%" mask="url( #maskBorder${e} )" />\n\t\t\t\t\t<g mask="url( #maskDonut${e} )">\n\t\t\t\t\t\t<g mask="url( #maskLeft${e} )">\n\t\t\t\t\t\t\t<rect class="spinner__progress is-left" x="0" y="0" width="50%" height="100%" />\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<g mask="url( #maskRight${e} )">\n\t\t\t\t\t\t\t<rect class="spinner__progress is-right" x="50%" y="0" width="50%" height="100%" />\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</g>\n\t\t\t\t`}})):this.renderFallback()}}c(u,"propTypes",{className:a.a.string,size:a.a.number,duration:a.a.number}),c(u,"defaultProps",{size:20,duration:3e3}),t.a=u}).call(this,n(41))},function(e,t,n){"use strict";const o=n(107);e.exports=(e=>{if(!Number.isFinite(e))throw new TypeError("Expected a finite number");return o.randomBytes(Math.ceil(e/2)).toString("hex").slice(0,e)})},function(e,t,n){"use strict";t.__esModule=!0,t.RootCloseWrapper=t.Position=t.Portal=t.Overlay=t.Modal=t.AutoAffix=t.Affix=void 0;var o=d(n(55)),r=d(n(125)),i=d(n(124)),a=d(n(111)),s=d(n(34)),l=d(n(45)),c=d(n(44));function d(e){return e&&e.__esModule?e:{default:e}}t.Affix=o.default,t.AutoAffix=r.default,t.Modal=i.default,t.Overlay=a.default,t.Portal=s.default,t.Position=l.default,t.RootCloseWrapper=c.default},function(e,t,n){(function(e){!function(e){"use strict";e.exports.is_uri=n,e.exports.is_http_uri=o,e.exports.is_https_uri=r,e.exports.is_web_uri=i,e.exports.isUri=n,e.exports.isHttpUri=o,e.exports.isHttpsUri=r,e.exports.isWebUri=i;var t=function(e){return e.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/)};function n(e){if(e&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(e)&&!/%[^0-9a-f]/i.test(e)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(e)){var n,o,r,i,a,s="",l="";if(s=(n=t(e))[1],o=n[2],r=n[3],i=n[4],a=n[5],s&&s.length&&r.length>=0){if(o&&o.length){if(0!==r.length&&!/^\//.test(r))return}else if(/^\/\//.test(r))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(s.toLowerCase()))return l+=s+":",o&&o.length&&(l+="//"+o),l+=r,i&&i.length&&(l+="?"+i),a&&a.length&&(l+="#"+a),l}}}function o(e,o){if(n(e)){var r,i,a,s,l="",c="",d="",u="";if(l=(r=t(e))[1],c=r[2],i=r[3],a=r[4],s=r[5],l){if(o){if("https"!=l.toLowerCase())return}else if("http"!=l.toLowerCase())return;if(c)return/:(\d+)$/.test(c)&&(d=c.match(/:(\d+)$/)[0],c=c.replace(/:\d+$/,"")),u+=l+":",u+="//"+c,d&&(u+=d),u+=i,a&&a.length&&(u+="?"+a),s&&s.length&&(u+="#"+s),u}}}function r(e){return o(e,!0)}function i(e){return o(e)||r(e)}}(e)}).call(this,n(137)(e))},function(e,t,n){"use strict";(function(e,o){const r=n(138),i={hasOwn:Object.prototype.hasOwnProperty,indexOf:Array.prototype.indexOf,defaultThreshold:16,maxIPv6Groups:8,categories:{valid:1,dnsWarn:7,rfc5321:15,cfws:31,deprecated:63,rfc5322:127,error:255},diagnoses:{valid:0,rfc5321TLD:9,rfc5321TLDNumeric:10,rfc5321QuotedString:11,rfc5321AddressLiteral:12,cfwsComment:17,cfwsFWS:18,undesiredNonAscii:25,deprecatedLocalPart:33,deprecatedFWS:34,deprecatedQTEXT:35,deprecatedQP:36,deprecatedComment:37,deprecatedCTEXT:38,deprecatedIPv6:39,deprecatedCFWSNearAt:49,rfc5322Domain:65,rfc5322TooLong:66,rfc5322LocalTooLong:67,rfc5322DomainTooLong:68,rfc5322LabelTooLong:69,rfc5322DomainLiteral:70,rfc5322DomainLiteralOBSDText:71,rfc5322IPv6GroupCount:72,rfc5322IPv62x2xColon:73,rfc5322IPv6BadCharacter:74,rfc5322IPv6MaxGroups:75,rfc5322IPv6ColonStart:76,rfc5322IPv6ColonEnd:77,errExpectingDTEXT:129,errNoLocalPart:130,errNoDomain:131,errConsecutiveDots:132,errATEXTAfterCFWS:133,errATEXTAfterQS:134,errATEXTAfterDomainLiteral:135,errExpectingQPair:136,errExpectingATEXT:137,errExpectingQTEXT:138,errExpectingCTEXT:139,errBackslashEnd:140,errDotStart:141,errDotEnd:142,errDomainHyphenStart:143,errDomainHyphenEnd:144,errUnclosedQuotedString:145,errUnclosedComment:146,errUnclosedDomainLiteral:147,errFWSCRLFx2:148,errFWSCRLFEnd:149,errCRNoLF:150,errUnknownTLD:160,errDomainTooShort:161},components:{localpart:0,domain:1,literal:2,contextComment:3,contextFWS:4,contextQuotedString:5,contextQuotedPair:6}};i.specials=function(){const e=new Array(256);e.fill(!1);for(let t=0;t<'()<>[]:;@\\,."'.length;++t)e['()<>[]:;@\\,."'.codePointAt(t)]=!0;return function(t){return e[t]}}(),i.c0Controls=function(){const e=new Array(256);e.fill(!1);for(let t=0;t<33;++t)e[t]=!0;return function(t){return e[t]}}(),i.c1Controls=function(){const e=new Array(256);e.fill(!1);for(let t=127;t<160;++t)e[t]=!0;return function(t){return e[t]}}(),i.regex={ipV4:/\b(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipV6:/^[a-fA-F\d]{0,4}$/},i.nulNormalize=function(e){let t=e.split("\0");return(t=t.map(e=>e.normalize("NFC"))).join("\0")},i.checkIpV6=function(e){return e.every(e=>i.regex.ipV6.test(e))},i.validDomain=function(e,t){return t.tldBlacklist?Array.isArray(t.tldBlacklist)?-1===i.indexOf.call(t.tldBlacklist,e):!i.hasOwn.call(t.tldBlacklist,e):Array.isArray(t.tldWhitelist)?-1!==i.indexOf.call(t.tldWhitelist,e):i.hasOwn.call(t.tldWhitelist,e)},t.validate=i.validate=function(t,n,o){let a,s;if(n=n||{},t=i.normalize(t),"function"==typeof n&&(o=n,n={}),"function"!=typeof o&&(o=null),"number"==typeof n.errorLevel?(a=!0,s=n.errorLevel):(a=!!n.errorLevel,s=i.diagnoses.valid),n.tldWhitelist)if("string"==typeof n.tldWhitelist)n.tldWhitelist=[n.tldWhitelist];else if("object"!=typeof n.tldWhitelist)throw new TypeError("expected array or object tldWhitelist");if(n.tldBlacklist)if("string"==typeof n.tldBlacklist)n.tldBlacklist=[n.tldBlacklist];else if("object"!=typeof n.tldBlacklist)throw new TypeError("expected array or object tldBlacklist");if(n.minDomainAtoms&&(n.minDomainAtoms!==(0|+n.minDomainAtoms)||n.minDomainAtoms<0))throw new TypeError("expected positive integer minDomainAtoms");let l=i.diagnoses.valid;const c=e=>{e>l&&(l=e)};!(void 0===n.allowUnicode||!!n.allowUnicode)&&/[^\x00-\x7f]/.test(t)&&c(i.diagnoses.undesiredNonAscii);const d={now:i.components.localpart,prev:i.components.localpart,stack:[i.components.localpart]};let u="";const p={local:"",domain:""},h={locals:[""],domains:[""]};let f,m=0,g=0,b=0,v=!1,y=!1;const w=t.length;let _;for(let n=0;n<w;n+=_.length){switch(_=String.fromCodePoint(t.codePointAt(n)),d.now){case i.components.localpart:switch(_){case"(":0===g?c(0===m?i.diagnoses.cfwsComment:i.diagnoses.deprecatedComment):(c(i.diagnoses.cfwsComment),y=!0),d.stack.push(d.now),d.now=i.components.contextComment;break;case".":0===g?c(0===m?i.diagnoses.errDotStart:i.diagnoses.errConsecutiveDots):(y&&c(i.diagnoses.deprecatedLocalPart),y=!1,g=0,++m,p.local+=_,h.locals[m]="");break;case'"':0===g?(c(0===m?i.diagnoses.rfc5321QuotedString:i.diagnoses.deprecatedLocalPart),p.local+=_,h.locals[m]+=_,g+=e.byteLength(_,"utf8"),y=!0,d.stack.push(d.now),d.now=i.components.contextQuotedString):c(i.diagnoses.errExpectingATEXT);break;case"\r":if(w===++n||"\n"!==t[n]){c(i.diagnoses.errCRNoLF);break}case" ":case"\t":0===g?c(0===m?i.diagnoses.cfwsFWS:i.diagnoses.deprecatedFWS):y=!0,d.stack.push(d.now),d.now=i.components.contextFWS,u=_;break;case"@":if(1!==d.stack.length)throw new Error("unexpected item on context stack");0===p.local.length?c(i.diagnoses.errNoLocalPart):0===g?c(i.diagnoses.errDotEnd):e.byteLength(p.local,"utf8")>64?c(i.diagnoses.rfc5322LocalTooLong):d.prev!==i.components.contextComment&&d.prev!==i.components.contextFWS||c(i.diagnoses.deprecatedCFWSNearAt),d.now=i.components.domain,d.stack[0]=i.components.domain,m=0,g=0,y=!1;break;default:if(y)switch(d.prev){case i.components.contextComment:case i.components.contextFWS:c(i.diagnoses.errATEXTAfterCFWS);break;case i.components.contextQuotedString:c(i.diagnoses.errATEXTAfterQS);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+d.prev)}else d.prev=d.now,f=_.codePointAt(0),(i.specials(f)||i.c0Controls(f)||i.c1Controls(f))&&c(i.diagnoses.errExpectingATEXT),p.local+=_,h.locals[m]+=_,g+=e.byteLength(_,"utf8")}break;case i.components.domain:switch(_){case"(":0===g?c(0===m?i.diagnoses.deprecatedCFWSNearAt:i.diagnoses.deprecatedComment):(y=!0,c(i.diagnoses.cfwsComment)),d.stack.push(d.now),d.now=i.components.contextComment;break;case".":const o=r.encode(h.domains[m]).length;0===g?c(0===m?i.diagnoses.errDotStart:i.diagnoses.errConsecutiveDots):v?c(i.diagnoses.errDomainHyphenEnd):o>63&&c(i.diagnoses.rfc5322LabelTooLong),y=!1,g=0,++m,h.domains[m]="",p.domain+=_;break;case"[":0===p.domain.length?(y=!0,g+=e.byteLength(_,"utf8"),d.stack.push(d.now),d.now=i.components.literal,p.domain+=_,h.domains[m]+=_,p.literal=""):c(i.diagnoses.errExpectingATEXT);break;case"\r":if(w===++n||"\n"!==t[n]){c(i.diagnoses.errCRNoLF);break}case" ":case"\t":0===g?c(0===m?i.diagnoses.deprecatedCFWSNearAt:i.diagnoses.deprecatedFWS):(c(i.diagnoses.cfwsFWS),y=!0),d.stack.push(d.now),d.now=i.components.contextFWS,u=_;break;default:if(y)switch(d.prev){case i.components.contextComment:case i.components.contextFWS:c(i.diagnoses.errATEXTAfterCFWS);break;case i.components.literal:c(i.diagnoses.errATEXTAfterDomainLiteral);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+d.prev)}f=_.codePointAt(0),v=!1,i.specials(f)||i.c0Controls(f)||i.c1Controls(f)?c(i.diagnoses.errExpectingATEXT):"-"===_?(0===g&&c(i.diagnoses.errDomainHyphenStart),v=!0):(f<48||f>122&&f<192||f>57&&f<65||f>90&&f<97)&&c(i.diagnoses.rfc5322Domain),p.domain+=_,h.domains[m]+=_,g+=e.byteLength(_,"utf8")}break;case i.components.literal:switch(_){case"]":if(l<i.categories.deprecated){let e=-1,t=p.literal;const n=i.regex.ipV4.exec(t);if(n&&0!==(e=n.index)&&(t=t.slice(0,e)+"0:0"),0===e)c(i.diagnoses.rfc5321AddressLiteral);else if("ipv6:"!==t.slice(0,5).toLowerCase())c(i.diagnoses.rfc5322DomainLiteral);else{const n=t.slice(5);let o=i.maxIPv6Groups;const r=n.split(":");~(e=n.indexOf("::"))?e!==n.lastIndexOf("::")?c(i.diagnoses.rfc5322IPv62x2xColon):(0!==e&&e!==n.length-2||++o,r.length>o?c(i.diagnoses.rfc5322IPv6MaxGroups):r.length===o&&c(i.diagnoses.deprecatedIPv6)):r.length!==o&&c(i.diagnoses.rfc5322IPv6GroupCount),":"===n[0]&&":"!==n[1]?c(i.diagnoses.rfc5322IPv6ColonStart):":"===n[n.length-1]&&":"!==n[n.length-2]?c(i.diagnoses.rfc5322IPv6ColonEnd):i.checkIpV6(r)?c(i.diagnoses.rfc5321AddressLiteral):c(i.diagnoses.rfc5322IPv6BadCharacter)}}else c(i.diagnoses.rfc5322DomainLiteral);p.domain+=_,h.domains[m]+=_,g+=e.byteLength(_,"utf8"),d.prev=d.now,d.now=d.stack.pop();break;case"\\":c(i.diagnoses.rfc5322DomainLiteralOBSDText),d.stack.push(d.now),d.now=i.components.contextQuotedPair;break;case"\r":if(w===++n||"\n"!==t[n]){c(i.diagnoses.errCRNoLF);break}case" ":case"\t":c(i.diagnoses.cfwsFWS),d.stack.push(d.now),d.now=i.components.contextFWS,u=_;break;default:if(127!==(f=_.codePointAt(0))&&i.c1Controls(f)||0===f||"["===_){c(i.diagnoses.errExpectingDTEXT);break}(i.c0Controls(f)||127===f)&&c(i.diagnoses.rfc5322DomainLiteralOBSDText),p.literal+=_,p.domain+=_,h.domains[m]+=_,g+=e.byteLength(_,"utf8")}break;case i.components.contextQuotedString:switch(_){case"\\":d.stack.push(d.now),d.now=i.components.contextQuotedPair;break;case"\r":if(w===++n||"\n"!==t[n]){c(i.diagnoses.errCRNoLF);break}case"\t":p.local+=" ",h.locals[m]+=" ",g+=e.byteLength(_,"utf8"),c(i.diagnoses.cfwsFWS),d.stack.push(d.now),d.now=i.components.contextFWS,u=_;break;case'"':p.local+=_,h.locals[m]+=_,g+=e.byteLength(_,"utf8"),d.prev=d.now,d.now=d.stack.pop();break;default:127!==(f=_.codePointAt(0))&&i.c1Controls(f)||0===f||10===f?c(i.diagnoses.errExpectingQTEXT):(i.c0Controls(f)||127===f)&&c(i.diagnoses.deprecatedQTEXT),p.local+=_,h.locals[m]+=_,g+=e.byteLength(_,"utf8")}break;case i.components.contextQuotedPair:127!==(f=_.codePointAt(0))&&i.c1Controls(f)?c(i.diagnoses.errExpectingQPair):(f<31&&9!==f||127===f)&&c(i.diagnoses.deprecatedQP),d.prev=d.now,d.now=d.stack.pop();const o="\\"+_;switch(d.now){case i.components.contextComment:break;case i.components.contextQuotedString:p.local+=o,h.locals[m]+=o,g+=2;break;case i.components.literal:p.domain+=o,h.domains[m]+=o,g+=2;break;default:throw new Error("quoted pair logic invoked in an invalid context: "+d.now)}break;case i.components.contextComment:switch(_){case"(":d.stack.push(d.now),d.now=i.components.contextComment;break;case")":d.prev=d.now,d.now=d.stack.pop();break;case"\\":d.stack.push(d.now),d.now=i.components.contextQuotedPair;break;case"\r":if(w===++n||"\n"!==t[n]){c(i.diagnoses.errCRNoLF);break}case" ":case"\t":c(i.diagnoses.cfwsFWS),d.stack.push(d.now),d.now=i.components.contextFWS,u=_;break;default:if(0===(f=_.codePointAt(0))||10===f||127!==f&&i.c1Controls(f)){c(i.diagnoses.errExpectingCTEXT);break}(i.c0Controls(f)||127===f)&&c(i.diagnoses.deprecatedCTEXT)}break;case i.components.contextFWS:if("\r"===u){if("\r"===_){c(i.diagnoses.errFWSCRLFx2);break}++b>1?c(i.diagnoses.deprecatedFWS):b=1}switch(_){case"\r":w!==++n&&"\n"===t[n]||c(i.diagnoses.errCRNoLF);break;case" ":case"\t":break;default:"\r"===u&&c(i.diagnoses.errFWSCRLFEnd),b=0,d.prev=d.now,d.now=d.stack.pop(),--n}u=_;break;default:throw new Error("unknown context: "+d.now)}if(l>i.categories.rfc5322)break}if(l<i.categories.rfc5322){const t=r.encode(p.domain).length;if(d.now===i.components.contextQuotedString)c(i.diagnoses.errUnclosedQuotedString);else if(d.now===i.components.contextQuotedPair)c(i.diagnoses.errBackslashEnd);else if(d.now===i.components.contextComment)c(i.diagnoses.errUnclosedComment);else if(d.now===i.components.literal)c(i.diagnoses.errUnclosedDomainLiteral);else if("\r"===_)c(i.diagnoses.errFWSCRLFEnd);else if(0===p.domain.length)c(i.diagnoses.errNoDomain);else if(0===g)c(i.diagnoses.errDotEnd);else if(v)c(i.diagnoses.errDomainHyphenEnd);else if(t>255)c(i.diagnoses.rfc5322DomainTooLong);else if(e.byteLength(p.local,"utf8")+t+1>254)c(i.diagnoses.rfc5322TooLong);else if(g>63)c(i.diagnoses.rfc5322LabelTooLong);else if(n.minDomainAtoms&&h.domains.length<n.minDomainAtoms)c(i.diagnoses.errDomainTooShort);else if(n.tldWhitelist||n.tldBlacklist){const e=h.domains[m];i.validDomain(e,n)||c(i.diagnoses.errUnknownTLD)}}if(l<i.categories.dnsWarn){h.domains[m].codePointAt(0)<=57&&c(i.diagnoses.rfc5321TLDNumeric)}l<s&&(l=i.diagnoses.valid);const x=a?l:l<i.defaultThreshold;return o&&o(x),x},t.diagnoses=i.validate.diagnoses=function(){const e={},t=Object.keys(i.diagnoses);for(let n=0;n<t.length;++n){const o=t[n];e[o]=i.diagnoses[o]}return e}(),t.normalize=i.normalize=function(e){return"4"===o.version[1]&&e.indexOf("\0")>=0?i.nulNormalize(e):e.normalize("NFC")}}).call(this,n(30).Buffer,n(139))},function(e,t,n){e.exports=n(4)("./node_modules/showdown/dist/showdown.js")},function(e,t,n){var o=n(140),r="-";function i(e,t){this.decorated={},this.strategy=e,this.getComponent=t}i.prototype.getDecorations=function(e,t){var n=Array(e.getText().length).fill(null);var i,a=e.getKey(),s=0,l=this.decorated;return l[a]={},this.strategy(e,function(e,t,o){void 0===o&&(o={}),i=a+r+s,l[a][s]=o,function(e,t,n,o){for(var r=t;r<n;r++)e[r]=o}(n,e,t,i),s++},t),o.List(n)},i.prototype.getComponentForKey=function(e){return this.getComponent},i.prototype.getPropsForKey=function(e){var t=e.split(r),n=t[0],o=t[1];return this.decorated[n][o]},e.exports=i},function(e,t,n){e.exports=n(4)("./node_modules/highlight.js/lib/index.js")},function(e,t,n){"use strict";var o=n(143),r=/[\/\?<>\\:\*\|":]/g,i=/[\x00-\x1f\x80-\x9f]/g,a=/^\.+$/,s=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,l=/[\. ]+$/;function c(e,t){var n=e.replace(r,t).replace(i,t).replace(a,t).replace(s,t).replace(l,t);return o(n,255)}e.exports=function(e,t){var n=t&&t.replacement||"",o=c(e,n);return""===n?o:c(o,"")}},function(e,t,n){"use strict";function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new o;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}o.prototype=n(182),o.prototype.loadAsync=n(148),o.support=n(16),o.defaults=n(70),o.version="3.1.5",o.loadAsync=function(e,t){return(new o).loadAsync(e,t)},o.external=n(24),e.exports=o},function(e,t,n){"use strict";n.r(t);var o={};n.d(o,"reset",function(){return q}),n.d(o,"setInvalidCredentials",function(){return H}),n.d(o,"setLoginError",function(){return $}),n.d(o,"setPending",function(){return V}),n.d(o,"setAuthorized",function(){return K});var r={};n.d(r,"setFontSize",function(){return Z}),n.d(r,"increaseFontSize",function(){return Y}),n.d(r,"decreaseFontSize",function(){return X}),n.d(r,"resetFontSize",function(){return G}),n.d(r,"activateTheme",function(){return Q}),n.d(r,"setNoteDisplay",function(){return J}),n.d(r,"setLineLength",function(){return ee}),n.d(r,"setSortOrder",function(){return te}),n.d(r,"toggleSortOrder",function(){return ne}),n.d(r,"setSortType",function(){return oe}),n.d(r,"setMarkdown",function(){return re}),n.d(r,"setAccountName",function(){return ie}),n.d(r,"setWPToken",function(){return ae}),n.d(r,"setFocusMode",function(){return se}),n.d(r,"toggleFocusMode",function(){return le}),n.d(r,"setSpellCheck",function(){return ce}),n.d(r,"toggleSpellCheck",function(){return de});var i={};n.d(i,"authIsPending",function(){return pe}),n.d(i,"hasInvalidCredentials",function(){return he}),n.d(i,"hasLoginError",function(){return fe}),n.d(i,"isAuthorized",function(){return me});var a={};n.d(a,"About",function(){return lr}),n.d(a,"Settings",function(){return Nr}),n.d(a,"Share",function(){return Pr});var s=n(0),l=n.n(s),c=n(1),d=n.n(c),u=n(11),p=n(5),h=n(2),f=n(7),m=n.n(f);function g(){return Object.assign({type:this},...arguments)}var b=class{constructor({namespace:e,initialState:t,handlers:n}){this.namespace=e,this.initialState=t,this.actionCreators={},this.actionReducers={},e=e?`${e}.`:"";for(let t in n)if(n.hasOwnProperty(t)){let o=n[t];"function"==typeof o?(this.actionCreators[t]=g.bind(`${e}${t}`),this.actionReducers[`${e}${t}`]=o):(this.actionCreators[t]=o.creator.bind(this)||g.bind(`${e}${t}`),this.actionReducers[`${e}${t}`]=o.reducer)}}action(e,...t){return this.actionCreators[e].apply(this,t)}reducer(e,t){e||(e="function"==typeof this.initialState?this.initialState():this.initialState);let n=this.actionReducers[t.type];return"function"==typeof n&&(e=n(e,t)||e),e}};const v=/^(?:[^@]+)@(?:.+)(?:\.[^.]{2,})$/;var y=e=>v.test(e);const w=e=>e.replace(/(?:\btag:)([\w-]+)(?!\B)/g,"").trim(),_=e=>!!w(e),x=e=>{if(!e)return[];const t=/(?:")((?:"|[^"])+)(?:")/g;let n,o="";const r=w(e),i=[];for(;null!==(n=t.exec(r));)i.push(n[0].slice(1,-1)),o+=r.slice(t.lastIndex,n.index);(t.lastIndex>0||0===i.length)&&t.lastIndex<r.length&&(o+=r.slice(t.lastIndex));const a=o.split(/[\b\s]/g).map(e=>e.trim()).filter(e=>e);return[...i,...a]},k=e=>{const t=x(w(e));return t.length?new RegExp(`(?:${t.map(e=>`(?:${Object(h.escapeRegExp)(e)})`).join("|")})`,"gi"):new RegExp(".+","g")},E=e=>t=>e===!!Object(h.get)(t,"data.deleted",!1),S=(e,t="")=>n=>{let o,r=[];const i=/(?:\btag:)([\w-]+)(?!\B)/g;for(;null!==(o=i.exec(t))&&(r.push(o[1]),!(r.length>100)););const a=e?[Object(h.get)(e,"data.name","")]:[],s=Object(h.get)(n,"data.tags",[]);return 0===Object(h.difference)([...r,...a],s).length},C=(e="")=>t=>{if(!e)return!0;const n=Object(h.get)(t,"data.content");return!!n&&x(e).every(e=>new RegExp(Object(h.escapeRegExp)(e),"gi").test(n))};function N(e,t=null){const{filter:n,notes:o,showTrash:r,tag:i}=e;return(t||o).filter(Object(h.overEvery)([E(r),S(i,n),C(n)]))}var O={};function T(e){return O[e]||(O[e]={start:(new Date).getTime(),id:-1}),O[e]}function R(e,t,n){var o=T(e),r=(new Date).getTime()-o.start;function i(){n(),function(e){delete O[e]}(e)}if(clearTimeout(T.id),r>t)return i();T.id=setTimeout(i,t)}var j=n(6),D=n.n(j),I=n(13);function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){L(e,t,n[t])})}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const A=new b({namespace:"App",initialState:{editorMode:"edit",filter:"",selectedNoteId:null,previousIndex:-1,notes:[],tags:[],revision:null,showTrash:!1,listTitle:"All Notes",showNavigation:!1,showNoteInfo:!1,isViewingRevisions:!1,editingTags:!1,dialogs:[],nextDialogKey:0,shouldPrint:!1,searchFocus:!1},handlers:{authChanged:e=>m()(e,{notes:{$set:[]},tags:{$set:[]},dialogs:{$set:[]}}),toggleNavigation:e=>e.showNavigation?m()(e,{showNavigation:{$set:!1},editingTags:{$set:!1}}):m()(e,{showNavigation:{$set:!0},showNoteInfo:{$set:!1}}),selectAllNotes:e=>m()(e,{showNavigation:{$set:!1},editingTags:{$set:!1},showTrash:{$set:!1},listTitle:{$set:"All Notes"},tag:{$set:null},note:{$set:null},selectedNoteId:{$set:null},previousIndex:{$set:-1}}),selectTrash:e=>m()(e,{showNavigation:{$set:!1},editingTags:{$set:!1},showTrash:{$set:!0},listTitle:{$set:"Trash"},tag:{$set:null},note:{$set:null},selectedNoteId:{$set:null},previousIndex:{$set:-1}}),selectTag:(e,{tag:t})=>m()(e,{showNavigation:{$set:!1},editingTags:{$set:!1},showTrash:{$set:!1},listTitle:{$set:t.data.name},tag:{$set:t},note:{$set:null},selectedNoteId:{$set:null},previousIndex:{$set:-1}}),setEditorMode:(e,{mode:t})=>m()(e,{editorMode:{$set:t}}),showDialog(e,{dialog:t,params:n}){var o=e.dialogs,{type:r}=t;if(t.single)for(let e=0;e<o.length;e++)if(o[e].type===r)return;const i={dialogs:{$push:[P({},t,{params:n,key:e.nextDialogKey})]},nextDialogKey:{$set:e.nextDialogKey+1}};return"Settings"===r&&(i.showNavigation={$set:!1}),m()(e,i)},closeDialog(e,{key:t}){var n=e.dialogs;for(let o=0;o<n.length;o++)if(n[o].key===t)return m()(e,{dialogs:{$splice:[[o,1]]}})},editTags:e=>m()(e,{editingTags:{$set:!e.editingTags}}),newTag:{creator:({tagBucket:e,name:t})=>()=>{const n=encodeURIComponent(t.toLowerCase());e.update(n,{name:t})}},renameTag:{creator({tagBucket:e,noteBucket:t,tag:n,name:o}){return(r,i)=>{let a=n.data.name;if(a===o)return;let{notes:s}=i().appState,l=[];n.data.name=o,e.update(n.id,n.data,{sync:!1});for(let e=0;e<s.length;e++){let n=s[e],r=n.data.tags||[],i=r.indexOf(a);-1!==i&&(r.splice(i,1,o),n.data.tags=r.filter(e=>e!==a),t.update(n.id,n.data,{sync:!1}),l.push(n.id))}R(n.id,3e3,()=>{e.touch(n.id,()=>{r(this.action("loadTags",{tagBucket:e}));for(let e=0;e<l.length;e++)t.touch(l[e])})})}}},trashTag:{creator({tagBucket:e,noteBucket:t,tag:n}){return(o,r)=>{var{notes:i}=r().appState,a=n.data.name;for(let e=0;e<i.length;e++){let n=i[e],o=n.data.tags||[],r=o.filter(e=>e!==a);r.length!==o.length&&(n.data.tags=r,t.update(n.id,n.data))}e.remove(n.id,()=>{o(this.action("loadTags",{tagBucket:e}))})}}},reorderTags:{creator:({tagBucket:e,tags:t})=>()=>{for(let n=0;n<t.length;n++){let o=t[n];o.data.index=n,e.update(o.id,o.data)}}},search:(e,{filter:t})=>m()(e,{filter:{$set:t}}),newNote:{creator({noteBucket:e,content:t=""}){return(n,o)=>{const r=o().appState,i=o().settings,a=(new Date).getTime()/1e3;r.showTrash&&n(this.action("selectAllNotes")),i.markdownEnabled&&n(this.action("setEditorMode",{mode:"edit"})),e.add({content:t,deleted:!1,systemTags:i.markdownEnabled?["markdown"]:[],creationDate:a,modificationDate:a,shareURL:"",publishURL:"",tags:[].concat(r.tag?r.tag.data.name:[])},(t,o)=>{n(this.action("loadNotes",{noteBucket:e})),n(this.action("loadAndSelectNote",{noteBucket:e,noteId:o.id}))})}}},loadNotes:{creator({noteBucket:e}){return(t,n)=>{const o=n().settings,{sortType:r,sortReversed:i}=o;var a;a="alphabetical"===r?i?"prev":"next":i?"next":"prev",e.query(e=>{var n=[];e.transaction("note").objectStore("note").index(r).openCursor(null,a).onsuccess=(e=>{var o=e.target.result;o?(n.push(o.value),o.continue()):t(this.action("notesLoaded",{notes:n}))})})}}},notesLoaded(e,{notes:t}){const[n,o]=Object(h.partition)(t,e=>e.pinned),r=[...n,...o];if(!(window.innerWidth<=750)&&!e.note){const t=N(e,r);if(t.length>0){const n=t[Math.max(e.previousIndex,0)];return m()(e,{notes:{$set:r},note:{$set:n},selectedNoteId:{$set:n.id}})}}return m()(e,{notes:{$set:r}})},loadAndSelectNote:{creator({noteBucket:e,noteId:t}){return n=>{n(this.action("selectNote",{noteId:t})),e.get(t,(e,t)=>{n(this.action("noteLoaded",{note:t}))})}}},pinNote:{creator({noteBucket:e,note:t,pin:n}){return o=>{let r=t.data.systemTags||[],i=r.indexOf("pinned");n&&-1===i?(t.data.systemTags.push("pinned"),e.update(t.id,t.data),o(this.action("noteLoaded",{note:t}))):n||-1===i||(t.data.systemTags=r.filter(e=>"pinned"!==e),e.update(t.id,t.data),o(this.action("noteLoaded",{note:t})))}}},setRevision:(e,{revision:t})=>m()(e,{revision:{$set:t}}),setIsViewingRevisions:(e,{isViewingRevisions:t})=>m()(e,{isViewingRevisions:{$set:t}}),setShouldPrintNote:(e,{shouldPrint:t=!0})=>m()(e,{shouldPrint:{$set:t}}),setSearchFocus:(e,{searchFocus:t=!0})=>m()(e,{searchFocus:{$set:t}}),markdownNote:{creator({noteBucket:e,note:t,markdown:n}){return o=>{let r=t.data.systemTags||[],i=r.indexOf("markdown");n&&-1===i?(t.data.systemTags.push("markdown"),e.update(t.id,t.data),o(this.action("noteLoaded",{note:t}))):n||-1===i||(t.data.systemTags=r.filter(e=>"markdown"!==e),e.update(t.id,t.data),o(this.action("noteLoaded",{note:t})))}}},publishNote:{creator({noteBucket:e,note:t,publish:n}){return o=>{let r=t.data.systemTags||[],i=r.indexOf("published");n&&-1===i?(t.data.systemTags.push("published"),e.update(t.id,t.data),o(this.action("noteLoaded",{note:t})),D.a.tracks.recordEvent("editor_note_published")):n||-1===i||(t.data.systemTags=r.filter(e=>"published"!==e),e.update(t.id,t.data),o(this.action("noteLoaded",{note:t})),D.a.tracks.recordEvent("editor_note_unpublished"))}}},selectNote:(e,{noteId:t})=>m()(e,{editingTags:{$set:!1},selectedNoteId:{$set:t},revisions:{$set:null}}),noteLoaded:(e,{note:t})=>m()(e,{note:{$set:t},selectedNoteId:{$set:t.id},revisions:{$set:null}}),closeNote:(e,{previousIndex:t=-1})=>m()(e,{note:{$set:null},selectedNoteId:{$set:null},previousIndex:{$set:t}}),noteUpdated:{creator({noteBucket:e,noteId:t,original:n,data:o,patch:r,isIndexing:i}){return(a,s)=>{var l=s().appState;if(i?this.indexCtr++:this.indexCtr>0&&(this.indexCtr=0),(!i||i&&this.indexCtr%30==0)&&a(this.action("loadNotes",{noteBucket:e})),l.selectedNoteId!==t||!r)return;const c=l.notes.find(e=>e.id===t);if(!c)return void console.error(`Cannot find note (id=${t})!`);let d=c.data,u=I.util.change.diff(n,d);if(!(Object(h.get)(u,"content.v","")===Object(h.get)(r,"content.v",""))){r=I.util.change.transform(u,r,n);let i=I.util.change.apply(r,o);l.note.data=i,e.update(t,i)}a(this.action("loadAndSelectNote",{noteBucket:e,noteId:t}))}}},updateNoteContent:{creator({noteBucket:e,note:t,content:n}){return o=>{t&&(t.data.content=n,t.data.modificationDate=Math.floor(Date.now()/1e3),e.update(t.id,t.data),o(this.action("selectNote",{noteId:t.id})))}}},updateNoteTags:{creator({noteBucket:e,tagBucket:t,note:n,tags:o}){return(r,i)=>{if(n){let a=i().appState;n.data.tags=o,n.data.modificationDate=Math.floor(Date.now()/1e3),e.update(n.id,n.data),r(this.action("selectNote",{noteId:n.id}));let s=a.tags.map(e=>e.data.name);for(let e=0;e<o.length;e++){let n=o[e];-1===s.indexOf(n)&&(y(n)||r(this.action("newTag",{tagBucket:t,name:n})))}}}}},trashNote:{creator({noteBucket:e,note:t,previousIndex:n}){return o=>{t&&(t.data.deleted=!0,e.update(t.id,t.data),o(this.action("closeNote",{previousIndex:n})))}}},restoreNote:{creator({noteBucket:e,note:t,previousIndex:n}){return o=>{t&&(t.data.deleted=!1,e.update(t.id,t.data),o(this.action("closeNote",{previousIndex:n})))}}},deleteNoteForever:{creator({noteBucket:e,note:t,previousIndex:n}){return o=>{e.remove(t.id),o(this.action("closeNote",{previousIndex:n})),o(this.action("loadNotes",{noteBucket:e}))}}},noteRevisions:{creator({noteBucket:e,note:t}){return n=>{e.getRevisions(t.id,(e,t)=>{if(e)return console.warn("Failed to load revisions",e);n(this.action("noteRevisionsLoaded",{revisions:t}))})}}},emptyTrash:{creator({noteBucket:e}){return(t,n)=>{const o=n().appState,[r,i]=Object(h.partition)(o.notes,e=>e.data.deleted);t(this.action("closeNote")),r.forEach(t=>e.remove(t.id)),t(this.action("notesLoaded",{notes:i}))}}},noteRevisionsLoaded:(e,{revisions:t})=>m()(e,{revisions:{$set:t}}),toggleNoteInfo:e=>e.showNoteInfo?m()(e,{showNoteInfo:{$set:!1}}):m()(e,{showNoteInfo:{$set:!0},showNavigation:{$set:!1},editingTags:{$set:!1}}),loadTags:{creator({tagBucket:e}){return t=>{e.query(e=>{var n=[];e.transaction("tag").objectStore("tag").openCursor(null,"prev").onsuccess=(e=>{var o=e.target.result;o?(n.push(o.value),o.continue()):t(this.action("tagsLoaded",{tags:n}))})})}}},tagsLoaded:(e,{tags:t})=>((t=t.slice()).sort((e,t)=>(0|e.data.index)-(0|t.data.index)),m()(e,{tags:{$set:t}})),loadPreferences:{creator({callback:e,preferencesBucket:t}){return n=>{t.get("preferences-key",(o,r)=>{let i=Object(h.get)(r,"data.analytics_enabled",!0);i=Boolean(i),void 0===r&&t.update("preferences-key",{}),window.analyticsEnabled=i,"function"==typeof e&&e(),n(this.action("preferencesLoaded",{analyticsEnabled:i}))})}}},preferencesLoaded:(e,{analyticsEnabled:t})=>m()(e,{preferences:{$set:{analyticsEnabled:t}}}),setPreference(e,{key:t,value:n,preferencesBucket:o}){o.get("preferences-key",(e,r)=>{o.update("preferences-key",P({},r.data,{[t]:n}))})},toggleShareAnalyticsPreference:{creator({preferencesBucket:e}){return(t,n)=>{const{appState:{preferences:{analyticsEnabled:o}}}=n();t(this.action("setPreference",{key:"analytics_enabled",value:!o,preferencesBucket:e}))}}}}});A.indexCtr=0;var z=A;const F=Symbol(),M=Symbol(),B=Symbol(),U=Symbol(),W=Symbol(),q=()=>({type:"AUTH_SET",status:W}),H=()=>({type:"AUTH_SET",status:B}),$=()=>({type:"AUTH_SET",status:U}),V=()=>({type:"AUTH_SET",status:M}),K=()=>({type:"AUTH_SET",status:F}),Z=e=>({type:"setFontSize",fontSize:e}),Y=()=>(e,t)=>{const{settings:{fontSize:n}}=t();e(Z(n+1))},X=()=>(e,t)=>{const{settings:{fontSize:n}}=t();e(Z(n-1))},G=()=>Z(void 0),Q=e=>({type:"setTheme",theme:e}),J=e=>({type:"setNoteDisplay",noteDisplay:e}),ee=e=>({type:"setLineLength",lineLength:e}),te=e=>({type:"setSortReversed",sortReversed:e}),ne=()=>(e,t)=>{const{settings:{sortReversed:n}}=t();e(te(!n))},oe=e=>({type:"setSortType",sortType:e}),re=e=>({type:"setMarkdownEnabled",markdownEnabled:e}),ie=e=>({type:"setAccountName",accountName:e}),ae=e=>({type:"setWPToken",token:e}),se=e=>({type:"setFocusMode",focusModeEnabled:e}),le=()=>(e,t)=>{const{settings:{focusModeEnabled:n}}=t();e(se(!n))},ce=e=>({type:"setSpellCheck",spellCheckEnabled:e}),de=()=>(e,t)=>{const{settings:{spellCheckEnabled:n}}=t();e(ce(!n))};var ue={auth:o,settings:r};const pe=e=>M===Object(h.get)(e,"auth.authStatus"),he=e=>B===Object(h.get)(e,"auth.authStatus"),fe=e=>U===Object(h.get)(e,"auth.authStatus"),me=e=>F===Object(h.get)(e,"auth.authStatus");var ge={auth:i};function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ye=()=>{const e=window.innerWidth;return{windowWidth:e,isSmallScreen:e<=750}};var we=e=>{var t,n;return n=t=class extends s.Component{constructor(...e){super(...e),ve(this,"state",ye()),ve(this,"updateWindowSize",()=>this.setState(ye()))}componentDidMount(){window.addEventListener("resize",this.updateWindowSize)}componentWillUnmount(){window.removeEventListener("resize",this.updateWindowSize)}render(){return l.a.createElement(e,be({},this.state,this.props))}},ve(t,"displayName","BrowserShell"),n};const _e=/(?!\r)\n/g,xe=e=>{const[t,n]=Object(h.partition)(Object(h.sortBy)(Object(h.get)(e,"data.tags",[]),e=>e.toLocaleLowerCase()),y);return Object.assign({id:Object(h.get)(e,"id",Object(h.uniqueId)("unknown_note_")),content:Object(h.get)(e,"data.content","").replace(_e,"\r\n"),creationDate:new Date(1e3*e.data.creationDate).toISOString(),lastModified:new Date(1e3*e.data.modificationDate).toISOString()},Object(h.get)(e,"pinned",!1)&&{pinned:!0},n.length&&{tags:n},Object(h.get)(e,"data.systemTags",[]).includes("published")&&Object(h.get)(e,"data.publishURL","").length&&{publicURL:`http://simp.ly/p/${Object(h.get)(e,"data.publishURL","")}`},Object(h.get)(e,"data.systemTags",[]).includes("shared")&&t.length&&{collaboratorEmails:t})},ke=Object(h.flowRight)(h.reverse,Object(h.partialRight)(h.sortBy,Object(h.property)("data.modificationDate")),Object(h.partialRight)(h.filter,Object(h.property)("data.content"))),Ee=e=>{const[t,n]=Object(h.partition)(ke(e),e=>!!Object(h.get)(e,"data.deleted",!1)).map(e=>e.map(xe));return Promise.resolve({activeNotes:n,trashedNotes:t})},Se=e=>new Promise((t,n)=>{const o=e.transaction("note").objectStore("note").openCursor(),r=[];o.onsuccess=(({target:{result:e}})=>e?r.push(e.value)&&e.continue():t(r)),o.onerror=n});var Ce=()=>new Promise((e,t)=>{const n=window.indexedDB.open("simplenote");n.onsuccess=(({target:{result:t}})=>e(t)),n.onerror=t}).then(Se).then(Ee),Ne=n(95),Oe=n.n(Ne),Te=n(94),Re=n.n(Te);function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){De(e,t,n[t])})}return e}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ie=e=>je({},e,{fileName:e.content.split("\n").map(e=>e.trim()).map(Re.a).filter(h.identity).concat("untitled").shift().slice(0,40)}),Pe=e=>{if(!e.tags)return e;const t=e.tags.reduce(([e,t],n)=>t.length+n.length>75?[[...e,t],n]:[e,`${t}, ${n}`],[[],""]).reduce((e,t)=>[...e,t]).map(e=>e.replace(/^, /,""));return je({},e,{content:`${e.content}\n\nTags:\n  ${t.join("\n  ")}`})},Le=([e,t],n)=>{const o=Object(h.update)(t,n.fileName,e=>e||0===e?e+1:0),r=o[n.fileName],i=r>0?`${n.fileName} (${r})`:n.fileName;return[[...e,je({},n,{fileName:i})],o]};var Ae=e=>{const t=new Oe.a;return t.file("source/notes.json",JSON.stringify(e,null,2).replace(_e,"\r\n")),e.activeNotes.map(Pe).map(Ie).reduce(Le,[[],{}]).shift().forEach(({content:e,fileName:n,lastModified:o})=>{t.file(`${n}.txt`,e,{date:new Date(o)})}),e.trashedNotes.map(Pe).map(Ie).reduce(Le,[[],{}]).shift().forEach(({content:e,fileName:n,lastModified:o})=>{t.file(`trash/${n}.txt`,e,{date:new Date(o)})}),t},ze=n(10),Fe=n.n(ze);function Me(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var Be=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}};var Ue,We=function(e){return void 0===e&&(e=0),function(){return++e}}(),qe={},He={},$e=["touchstart","touchmove"],Ve="ignore-react-onclickoutside";function Ke(e,t){var n=null;return-1!==$e.indexOf(t)&&Ue&&(n={passive:!e.props.preventDefault}),n}var Ze=function(e,t){var n,o;return o=n=function(n){function o(e){var t;return(t=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!=typeof t.__clickOutsideHandlerProp){var n=t.getInstance();if("function"!=typeof n.props.handleClickOutside){if("function"!=typeof n.handleClickOutside)throw new Error("WrappedComponent lacks a handleClickOutside(event) function for processing outside click events.");n.handleClickOutside(e)}else n.props.handleClickOutside(e)}else t.__clickOutsideHandlerProp(e)},t.enableOnClickOutside=function(){if("undefined"!=typeof document&&!He[t._uid]){void 0===Ue&&(Ue=Be()),He[t._uid]=!0;var e=t.props.eventTypes;e.forEach||(e=[e]),qe[t._uid]=function(e){t.props.disableOnClickOutside||null!==t.componentNode&&(t.props.preventDefault&&e.preventDefault(),t.props.stopPropagation&&e.stopPropagation(),t.props.excludeScrollbar&&function(e){return document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY}(e)||function(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(Me(e,t,n))return!0;e=e.parentNode}return e}(e.target,t.componentNode,t.props.outsideClickIgnoreClass)===document&&t.__outsideClickHandler(e))},e.forEach(function(e){document.addEventListener(e,qe[t._uid],Ke(t,e))})}},t.disableOnClickOutside=function(){delete He[t._uid];var e=qe[t._uid];if(e&&"undefined"!=typeof document){var n=t.props.eventTypes;n.forEach||(n=[n]),n.forEach(function(n){return document.removeEventListener(n,e,Ke(t,n))}),delete qe[t._uid]}},t.getRef=function(e){return t.instanceRef=e},t._uid=We(),t}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(o,n);var r=o.prototype;return r.getInstance=function(){if(!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},r.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"==typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=Object(ze.findDOMNode)(this.getInstance()),this.enableOnClickOutside()}},r.componentDidUpdate=function(){this.componentNode=Object(ze.findDOMNode)(this.getInstance())},r.componentWillUnmount=function(){this.disableOnClickOutside()},r.render=function(){var t=this.props,n=(t.excludeScrollbar,function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,["excludeScrollbar"]));return e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,Object(s.createElement)(e,n)},o}(s.Component),n.displayName="OnClickOutside("+(e.displayName||e.name||"Component")+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:Ve,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},o},Ye=n(3),Xe=n.n(Ye);function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Qe(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Je(e){let{className:t}=e,n=Qe(e,["className"]);return l.a.createElement("span",{className:Xe()("toggle-control",t)},l.a.createElement("input",Ge({type:"checkbox"},n)),l.a.createElement("span",{className:"toggle-control-layers"},l.a.createElement("span",{className:"toggle-control-unchecked-color"}),l.a.createElement("span",{className:"toggle-control-checked-color"}),l.a.createElement("span",{className:"toggle-control-knob"})))}var et=n(32),tt=n.n(et);function nt(){return l.a.createElement("svg",{className:"icon-cross",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22"},l.a.createElement("path",{d:"M18.707 4.707l-1.414-1.414L11 9.586 4.707 3.293 3.293 4.707 9.586 11l-6.293 6.293 1.414 1.414L11 12.414l6.293 6.293 1.414-1.414L12.414 11z"}))}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class rt extends s.Component{constructor(...e){super(...e),ot(this,"handleClickOutside",()=>this.props.onOutsideClick()),ot(this,"copyPublishURL",()=>{this.publishUrlElement.select();try{document.execCommand("copy")}catch(e){return}this.copyUrlElement.focus()}),ot(this,"getPublishURL",e=>Object(h.isEmpty)(e)?null:`http://simp.ly/p/${e}`),ot(this,"onPinChanged",e=>this.props.onPinNote(this.props.note,e.currentTarget.checked)),ot(this,"onMarkdownChanged",e=>this.props.onMarkdownNote(this.props.note,e.currentTarget.checked))}render(){const{isMarkdown:e,isPinned:t,note:n}=this.props,o=n&&n.data||{},r=o.modificationDate&&function(e){return tt.a.unix(e).format("MMM D, YYYY h:mm a")}(o.modificationDate),i=Object(h.includes)(o.systemTags,"published"),a=this.getPublishURL(o.publishURL);return l.a.createElement("div",{className:"note-info theme-color-bg theme-color-fg theme-color-border"},l.a.createElement("div",{className:"note-info-panel note-info-stats theme-color-border"},l.a.createElement("div",{className:"note-info-header"},l.a.createElement("h2",{className:"panel-title theme-color-fg-dim"},"Info"),l.a.createElement("button",{type:"button",className:"about-done button button-borderless",onClick:this.handleClickOutside},l.a.createElement(nt,null))),r&&l.a.createElement("p",{className:"note-info-item"},l.a.createElement("span",{className:"note-info-item-text"},l.a.createElement("span",{className:"note-info-name"},"Modified"),l.a.createElement("br",null),l.a.createElement("span",{className:"note-info-detail"},r))),l.a.createElement("p",{className:"note-info-item"},l.a.createElement("span",{className:"note-info-item-text"},l.a.createElement("span",{className:"note-info-name"},function(e){return((e||"").replace(/[\u200B]+/,"").trim().replace(/['";:,.?\-!]+/g,"").match(/\S+/g)||[]).length}(o&&o.content)," words"))),l.a.createElement("p",{className:"note-info-item"},l.a.createElement("span",{className:"note-info-item-text"},l.a.createElement("span",{className:"note-info-name"},function(e){return(e||"").replace(it,"_").length}(o&&o.content)," characters")))),l.a.createElement("div",{className:"note-info-panel note-info-pin theme-color-border"},l.a.createElement("label",{className:"note-info-item",htmlFor:"note-info-pin-checkbox"},l.a.createElement("span",{className:"note-info-item-text"},l.a.createElement("span",{className:"note-info-name"},"Pin to top")),l.a.createElement("span",{className:"note-info-item-control"},l.a.createElement(Je,{id:"note-info-pin-checkbox",checked:t,onChange:this.onPinChanged})))),l.a.createElement("div",{className:"note-info-panel note-info-markdown theme-color-border"},l.a.createElement("label",{className:"note-info-item",htmlFor:"note-info-markdown-checkbox"},l.a.createElement("span",{className:"note-info-item-text"},l.a.createElement("span",{className:"note-info-name"},"Markdown"),l.a.createElement("br",null),l.a.createElement("span",{className:"note-info-detail"},"Enable markdown formatting on this note."," ",l.a.createElement("a",{target:"_blank",href:"http://simplenote.com/help/#markdown",rel:"noopener noreferrer"},"Learn more"))),l.a.createElement("span",{className:"note-info-item-control"},l.a.createElement(Je,{id:"note-info-markdown-checkbox",checked:e,onChange:this.onMarkdownChanged})))),i&&l.a.createElement("div",{className:"note-info-panel note-info-public-link theme-color-border"},l.a.createElement("span",{className:"note-info-item-text"},l.a.createElement("span",{className:"note-info-name"},"Public link"),l.a.createElement("div",{className:"note-info-form"},l.a.createElement("input",{ref:e=>this.publishUrlElement=e,className:"note-info-detail note-info-link-text",value:a,spellCheck:!1}),l.a.createElement("button",{ref:e=>this.copyUrlElement=e,type:"button",className:"button button-borderless note-info-copy-button",onClick:this.copyPublishURL},"Copy")))))}}ot(rt,"propTypes",{note:d.a.object,markdownEnabled:d.a.bool,onPinNote:d.a.func.isRequired,onMarkdownNote:d.a.func.isRequired,onOutsideClick:d.a.func.isRequired});const it=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;const{markdownNote:at,pinNote:st,toggleNoteInfo:lt}=z.actionCreators;var ct=Object(p.connect)(({appState:e})=>{const t=N(e),n=Math.max(e.previousIndex,0),o=e.note?e.note:t[n];return{note:o,isMarkdown:o.data.systemTags.includes("markdown"),isPinned:o.data.systemTags.includes("pinned")}},(e,{noteBucket:t})=>({onMarkdownNote:(n,o=!0)=>{e(at({markdown:o,note:n,noteBucket:t})),e(re(o))},onOutsideClick:()=>e(lt()),onPinNote:(n,o)=>e(st({noteBucket:t,note:n,pin:o}))}))(Ze(rt)),dt=n(25);function ut(){return l.a.createElement("svg",{className:"icon-feed",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24"},l.a.createElement("path",{d:"M2,8.667V12c5.515,0,10,4.485,10,10h3.333C15.333,14.637,9.363,8.667,2,8.667z M2,2v3.333 c9.19,0,16.667,7.477,16.667,16.667H22C22,10.955,13.045,2,2,2z M4.5,17C3.118,17,2,18.12,2,19.5S3.118,22,4.5,22S7,20.88,7,19.5 S5.882,17,4.5,17z"}))}const pt=/\s*(\S[^\n]*)\s*(\S[^\n]*)?/,ht=/(?:#{0,6}\s+)?(\S[^\n]*)\s*(?:#{0,6}\s+)?(\S[^\n]*)?/,ft=e=>e&&e.data&&e.data.systemTags.includes("markdown");var mt=e=>{const t=e&&e.data&&e.data.content,n=ft(e)?ht.exec(t||""):pt.exec(t||""),o={title:"New Note...",preview:""};if(!n)return o;const[,r,i]=n;return{title:r.slice(0,200)||o.title,preview:i||o.preview}};function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}dt.AutoSizer.displayName="AutoSizer",dt.List.displayName="List";const bt=70,vt=1e3,yt=42,wt=21,_t={comfy:1,condensed:0,expanded:4};function xt(e,t){const n=xt.canvas||(xt.canvas=document.createElement("canvas"));n.width=t;const o=n.getContext("2d");return o.font="16px arial",o.measureText(e).width}const kt=new Map,Et=new Map,St=(e=>t=>{const n=Et.get(t.id);return void 0!==n&&t.data.content===n[0]||Et.set(t.id,[t.data.content,e(t)]),n?n[1]:Et.get(t.id)[1]})(e=>mt(e).preview),Ct=(e=>(t,{noteDisplay:n,width:o})=>({index:r})=>{const i=t[r],a=St(i),s=t[r].id,l=kt.get(s);if(void 0!==l){const[e,t,r,i]=l;if(e===o&&t===n&&r===a)return i}const c=e(o,n,a);return kt.set(s,[o,n,a,c]),c})((e,t,n)=>{const o=Math.ceil(xt(n,e-24)/(e-24));return yt+wt*Math.min(_t[t],o)}),Nt=(e,t,n,o=[],r=1e3)=>{if(!t||!r)return[...o,{type:"text",text:n}];const i=n.search(e);return-1===i?[...o,{type:"text",text:n}]:Nt(e,t,n.slice(i+t),[...o,{type:"text",text:n.slice(0,i)},{type:"match",text:n.slice(i,i+t)}],r-1)},Ot=e=>e.map(({type:e,text:t},n)=>"match"===e?l.a.createElement("span",{key:n,className:"search-match"},t):l.a.createElement("span",{key:n},t)),Tt=(e,{filter:t,filterRegExp:n,noteDisplay:o,selectedNoteId:r,onSelectNote:i,onPinNote:a,isSmallScreen:s})=>({index:c,rowIndex:d,key:u,style:p})=>{const f=e[void 0===c?d:c],{title:m,preview:g}=mt(f),b=!Object(h.isEmpty)(f.data.publishURL),v=b&&"condensed"!==o,y=Xe()("note-list-item",{"note-list-item-selected":!s&&r===f.id,"note-list-item-pinned":f.pinned,"published-note":b}),w=t.length>0?Nt(n,t.length,m):[{type:"text",text:m}],_=t.length>0?Nt(n,t.length,g):[{type:"text",text:g}];return l.a.createElement("div",{key:u,style:p,className:y},l.a.createElement("div",{className:"note-list-item-pinner",tabIndex:"0",onClick:a.bind(null,f)}),l.a.createElement("div",{className:"note-list-item-text theme-color-border",tabIndex:"0",onClick:i.bind(null,f.id)},l.a.createElement("div",{className:"note-list-item-title"},l.a.createElement("span",null,Ot(w)),v&&l.a.createElement("div",{className:"note-list-item-published-icon"},l.a.createElement(ut,null))),"condensed"!==o&&g.trim()&&l.a.createElement("div",{className:"note-list-item-excerpt"},Ot(_))))};class Rt extends s.Component{constructor(...e){super(...e),gt(this,"handleShortcut",e=>{const{ctrlKey:t,key:n,metaKey:o,shiftKey:r}=e,i=t||o;return i&&r&&("ArrowUp"===n||"K"===n)?(this.props.onSelectNote(this.props.nextNote.id),e.stopPropagation(),e.preventDefault(),!1):!i||!r||"ArrowDown"!==n&&"J"!==n||(this.props.onSelectNote(this.props.prevNote.id),e.stopPropagation(),e.preventDefault(),!1)}),gt(this,"refList",e=>this.list=e),gt(this,"toggleShortcuts",e=>{e?window.addEventListener("keydown",this.handleShortcut,!0):window.removeEventListener("keydown",this.handleShortcut,!0)}),gt(this,"onPinNote",e=>this.props.onPinNote(e,!e.pinned))}componentDidMount(){this.recomputeHeights=Object(h.debounce)(()=>this.list&&this.list.recomputeRowHeights(),bt,{maxWait:vt}),this.toggleShortcuts(!0),window.addEventListener("resize",this.recomputeHeights)}componentWillReceiveProps(e){e.noteDisplay===this.props.noteDisplay&&e.notes===this.props.notes&&e.selectedNoteContent===this.props.selectedNoteContent||this.recomputeHeights()}componentWillUnmount(){this.toggleShortcuts(!1),window.removeEventListener("resize",this.recomputeHeights)}render(){const{filter:e,selectedNoteId:t,onSelectNote:n,onEmptyTrash:o,noteDisplay:r,showTrash:i,notes:a,isSmallScreen:c}=this.props,d=new RegExp(Object(h.escapeRegExp)(e),"gi"),u=Xe()("note-list-items",r),p=Tt(a,{filter:e,filterRegExp:d,noteDisplay:r,onSelectNote:n,onPinNote:this.onPinNote,selectedNoteId:t,isSmallScreen:c}),f=0===a.length,m=l.a.createElement("div",{className:"note-list-empty-trash theme-color-border"},l.a.createElement("button",{type:"button",className:"button button-borderless button-danger",onClick:o},"Empty Trash"));return l.a.createElement("div",{className:Xe()("note-list",{"is-empty":f})},f?l.a.createElement("span",{className:"note-list-placeholder"},"No Notes"):l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:u},l.a.createElement(dt.AutoSizer,null,({height:e,width:t})=>l.a.createElement(dt.List,{ref:this.refList,estimatedRowSize:yt+wt*_t[r],height:e,noteDisplay:r,notes:this.props.notes,rowCount:this.props.notes.length,rowHeight:"condensed"===r?yt:Ct(this.props.notes,{noteDisplay:r,width:t}),rowRenderer:p,width:t}))),!!i&&m))}}gt(Rt,"displayName","NoteList"),gt(Rt,"propTypes",{notes:d.a.array.isRequired,selectedNoteId:d.a.any,onSelectNote:d.a.func.isRequired,onPinNote:d.a.func.isRequired,noteDisplay:d.a.string.isRequired,onEmptyTrash:d.a.any.isRequired,showTrash:d.a.bool});const{emptyTrash:jt,loadAndSelectNote:Dt,pinNote:It}=z.actionCreators,{recordEvent:Pt}=j.tracks;var Lt=Object(p.connect)(({appState:e,settings:{noteDisplay:t}})=>{const n=N(e),o=Math.max(e.previousIndex,0),r=e.note?e.note:n[o],i=Object(h.get)(r,"id",e.selectedNoteId),a=n.findIndex(({id:e})=>e===i),s=Math.max(0,a-1),l=Math.min(n.length-1,a+1),c=n[s],d=n[l],u=r&&St(r);return{filter:e.filter,nextNote:c,noteDisplay:t,notes:n,prevNote:d,selectedNoteTitle:u,selectedNoteContent:Object(h.get)(r,"data.content"),selectedNoteId:i,showTrash:e.showTrash}},(e,{noteBucket:t})=>({onEmptyTrash:()=>e(jt({noteBucket:t})),onSelectNote:n=>{e(Dt({noteBucket:t,noteId:n})),Pt("list_note_opened")},onPinNote:(n,o)=>e(It({noteBucket:t,note:n,pin:o}))}))(Rt),At=n(93),zt=n.n(At);function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Mt=["http:","https:","mailto:"];let Bt={isRunningElectron:null};!function(){const e=window&&Object(h.has)(window,"process.versions.electron"),t=e?(()=>{const e=window.require("electron").shell;return e.openExternal.bind(e)})():window.open.bind(window);Bt=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){Ft(e,t,n[t])})}return e}({},Bt,{isRunningElectron:e,openExternalUrl:t})}();const Ut=e=>{try{const t=new URL(e).protocol;if(!Mt.some(e=>e===t))return}catch(e){return}Bt.openExternalUrl(e)};var Wt=n(9),qt=n(92),Ht=n.n(qt);const $t=({children:e,className:t})=>l.a.createElement("span",{className:t},e);$t.propTypes={className:d.a.string.isRequired};var Vt=$t;var Kt=e=>e?new Ht.a((e=>(t,n)=>{const o=t.getText();e&&o&&((e,t)=>{const n=[];let o;for(;null!==(o=t.exec(e));)n.push([o.index,t.lastIndex]);return n})(o,e).forEach((e=>([t,n])=>e(t,n,{className:"search-match"}))(n))})(e),Vt):null;function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yt(e){return e.getCurrentContent().getPlainText("\n")}function Xt(e){const t=e.getSelection().getFocusKey();return e.getCurrentContent().getBlockForKey(t)}const Gt=e=>Object(h.includes)(["-","*","+"],e.trim());class Qt extends s.Component{constructor(...e){super(...e),Zt(this,"state",{editorState:Wt.EditorState.createWithContent(Wt.ContentState.createFromText(this.props.content,"\n"),_(this.props.filter)&&Kt(k(this.props.filter)))}),Zt(this,"editorKey",0),Zt(this,"saveEditorRef",e=>{this.editor=e}),Zt(this,"handleEditorStateChange",e=>{if(e===this.state.editorState)return;const t=Yt(e),n=Yt(this.state.editorState),o=t!==n?()=>this.props.onChangeContent(t):h.noop;this.setState({editorState:e},o)}),Zt(this,"focus",()=>{Object(h.invoke)(this,"editor.focus")}),Zt(this,"hasFocus",()=>this.editor&&document.activeElement===Object(h.get)(Fe.a.findDOMNode(this.editor),"children[0].children[0]")),Zt(this,"onTab",e=>{const{editorState:t}=this.state;e.preventDefault(),!t.getSelection().isCollapsed()&&e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||this.handleEditorStateChange(e.shiftKey?function(e){const t=e.getSelection(),n=t.getStartOffset(),o=Xt(e).getText(),r=Gt(o),i=r?0:n-1,a=r?1:n;if("\t"!==o.slice(i,a))return e;const s=Wt.EditorState.push(e,Wt.Modifier.removeRange(e.getCurrentContent(),t.merge({anchorOffset:i,focusOffset:a})),"remove-range");return Wt.EditorState.forceSelection(s,t.merge({anchorOffset:n-1,focusOffset:n-1}))}(t):function(e){const t=e.getSelection(),n=t.getStartOffset(),o=Xt(e).getText(),r=Gt(o)?0:n,i=Wt.EditorState.push(e,Wt.Modifier.replaceText(e.getCurrentContent(),t.isCollapsed()?t.merge({anchorOffset:r,focusOffset:r}):t,"\t"),"insert-characters");return Wt.EditorState.forceSelection(i,i.getSelection().merge({anchorOffset:n+1,focusOffset:n+1}))}(t))}),Zt(this,"handleReturn",()=>{const{editorState:e}=this.state,t=Xt(e).getText();if(Gt(t))return this.handleEditorStateChange(function(e){const t=Wt.EditorState.push(e,Wt.Modifier.removeRange(e.getCurrentContent(),e.getSelection().merge({anchorOffset:0,focusOffset:Xt(e).getLength()})),"remove-range");return Wt.EditorState.forceSelection(t,t.getCurrentContent().getSelectionAfter())}(e)),"handled";const n=t.match(/^[ \t\u2000-\u200a]*[-*+]\s/);return n?(this.handleEditorStateChange(function(e,t){const n=Wt.EditorState.push(e,Wt.Modifier.splitBlock(e.getCurrentContent(),e.getSelection()),"split-block"),o=Wt.EditorState.push(n,Wt.Modifier.insertText(n.getCurrentContent(),n.getCurrentContent().getSelectionAfter(),t[0]),"insert-characters");return Wt.EditorState.forceSelection(o,o.getCurrentContent().getSelectionAfter())}(e,n)),"handled"):"not-handled"})}componentWillMount(){document.addEventListener("copy",this.stripFormattingFromSelectedText),document.addEventListener("cut",this.stripFormattingFromSelectedText)}componentDidMount(){this.props.storeFocusEditor(this.focus),this.props.storeHasFocus(this.hasFocus)}componentDidUpdate(e){e.spellCheckEnabled!==this.props.spellCheckEnabled&&(this.editorKey+=1,this.forceUpdate())}componentWillUnmount(){document.removeEventListener("copy",this.stripFormattingFromSelectedText),document.removeEventListener("cut",this.stripFormattingFromSelectedText)}stripFormattingFromSelectedText(e){if(e.path.filter(e=>Object(h.includes)(e.className,"note-detail-textarea")).length){const t=window.getSelection().toString();e.clipboardData.setData("text/plain",t.replace(_e,"\r\n")),e.clipboardData.setData("text/html",t.replace(/(?:\r\n|\r|\n)/g,"<br />")),e.preventDefault()}}componentWillReceiveProps({content:e,filter:t}){const{filter:n}=this.props,{editorState:o}=this.state;if(e===Yt(o)&&t===n)return;let r=Wt.EditorState.createWithContent(Wt.ContentState.createFromText(e,"\n"),_(t)&&Kt(k(t)));o.getSelection().getHasFocus()&&(r=Wt.EditorState.moveFocusToEnd(r)),this.setState({editorState:r})}render(){return l.a.createElement(Wt.Editor,{key:this.editorKey,ref:this.saveEditorRef,spellCheck:this.props.spellCheckEnabled,stripPastedStyles:!0,onChange:this.handleEditorStateChange,editorState:this.state.editorState,onTab:this.onTab,handleReturn:this.handleReturn})}}function Jt(){return l.a.createElement("svg",{className:"logo",width:"96",height:"96",viewBox:"0 0 176 176"},l.a.createElement("g",{fillRule:"evenodd",clipRule:"evenodd"},l.a.createElement("path",{d:"M152.37 87.885c0-34.066-27.182-63.42-59.45-64.854-6.416-.284-12.647 1.432-17.58 5.573-5.002 4.196-8.07 10.09-8.638 16.595C65.43 59.73 78.537 68.618 91.225 72.09c30.69 8.398 48.462 30.086 46.655 56.757 9.057-11.194 14.49-25.442 14.49-40.962zM84.345 97.24c-28.696-7.853-45.817-29.174-43.62-54.317.027-.287.073-.567.102-.852C29.19 53.846 22 70.023 22 87.886c0 34.348 27.955 63.828 60.277 64.933 7.227.248 14.214-1.685 19.766-6.344 5.67-4.757 9.146-11.435 9.79-18.808 1.703-19.463-16.492-27.417-27.488-30.426z",fill:"#4895d9"})))}Zt(Qt,"propTypes",{content:d.a.string.isRequired,onChangeContent:d.a.func.isRequired,spellCheckEnabled:d.a.bool.isRequired,storeFocusEditor:d.a.func,storeHasFocus:d.a.func}),Zt(Qt,"defaultProps",{storeFocusEditor:h.noop,storeHasFocus:h.noop});var en=n(91),tn=n.n(en),nn=n(90),on=n.n(nn),rn=n(89),an=n.n(rn);const sn=e=>{const t=e.nodeName.toLowerCase();if("input"===t)return"checkbox"===e.getAttribute("type");switch(t){case"#text":case"a":case"article":case"b":case"br":case"blockquote":case"cite":case"code":case"dd":case"del":case"div":case"dt":case"em":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"hr":case"i":case"img":case"ins":case"li":case"ol":case"p":case"pre":case"s":case"span":case"strong":case"sub":case"sup":case"table":case"tbody":case"td":case"th":case"thead":case"tr":case"tt":case"ul":return!0;default:return!1}},ln=(e,t,n)=>{switch(e){case"a":switch(t){case"href":return!n.toLowerCase().trim().startsWith("javascript");case"alt":case"rel":case"title":return!0;default:return!1}case"img":switch(t){case"alt":case"src":case"title":return!0;default:return!1}case"input":switch(t){case"checked":case"type":return!0;default:return!1}default:return!1}},cn=e=>{switch(e.nodeName.toLowerCase()){case"head":case"html":case"iframe":case"link":case"meta":case"object":case"script":case"style":return!0;default:return!1}},dn=new tn.a.Converter;dn.setFlavor("github");const un=e=>(e=>{const t=(new DOMParser).parseFromString(e,"text/html"),n=t.createTreeWalker(t.body),o=[],r=[];for(;n.nextNode();){const e=n.currentNode;if(cn(e)){r.push(e);continue}if(!sn(e)){o.push(e);continue}const t=e.nodeName.toLowerCase();Object(h.filter)(e.attributes,({name:e,value:n})=>!(ln(t,e,n)||("href"===e||"src"===e)&&an.a.isWebUri(n)||"href"===e&&n.startsWith("mailto:")&&on.a.validate(n.slice(7)))).forEach(({name:t})=>e.removeAttribute(t));const i="a"===t&&e.getAttribute("href");"a"!==t||"string"!=typeof i||i.startsWith("mailto:")||(e.setAttribute("target","_blank"),e.setAttribute("rel","external noopener noreferrer"))}return r.forEach(e=>{try{e.parentNode.removeChild(e)}catch(e){}}),o.forEach(e=>{const t=e.parentNode;let n;try{for(;n=e.firstChild;)t.insertBefore(n,e);t.removeChild(e)}catch(e){}}),t.body.innerHTML})(dn.makeHtml(e));function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const hn=2e3,fn=(e,t)=>{e.innerHTML=un(t),e.querySelectorAll("pre code").forEach(zt.a.highlightBlock)};class mn extends s.Component{constructor(...e){super(...e),pn(this,"focusEditor",()=>this.focusContentEditor&&this.focusContentEditor()),pn(this,"saveEditorRef",e=>this.editor=e),pn(this,"isValidNote",e=>e&&e.id),pn(this,"copyRenderedNote",e=>{const{previewingMarkdown:t,showNoteInfo:n,dialogs:o}=this.props;if(!t)return!0;if(n||o.length>0)return!0;if(!document.getSelection().isCollapsed)return!0;const r=document.createDocumentFragment(),i=document.createElement("div");fn(i,this.props.note.data.content),r.appendChild(i),e.clipboardData.setData("text/plain",i.innerHTML),e.preventDefault()}),pn(this,"hasFocus",()=>this.editorHasFocus&&this.editorHasFocus()),pn(this,"onPreviewClick",e=>{for(let t=e.target;null!==t;t=t.parentNode)if("A"===t.tagName){e.preventDefault(),Ut(t.href);break}}),pn(this,"saveNote",e=>{const{note:t}=this.props;this.isValidNote(t)&&(this.props.onChangeContent(t,e),D.a.tracks.recordEvent("editor_note_edited"))}),pn(this,"storeEditorHasFocus",e=>this.editorHasFocus=e),pn(this,"storeFocusContentEditor",e=>this.focusContentEditor=e),pn(this,"storePreview",e=>this.previewNode=e),pn(this,"updateMarkdown",()=>{this.previewNode&&fn(this.previewNode,this.props.note.data.content)})}componentWillMount(){this.queueNoteSave=Object(h.debounce)(this.saveNote,hn),document.addEventListener("copy",this.copyRenderedNote,!1)}componentDidMount(){const{previewingMarkdown:e}=this.props;this.props.storeFocusEditor(this.focusEditor),this.props.storeHasFocus(this.hasFocus),window.addEventListener("beforeunload",this.queueNoteSave.flush),e&&this.updateMarkdown()}componentWillReceiveProps(){this.queueNoteSave.flush()}componentDidUpdate(e){const{note:t,previewingMarkdown:n,filter:o}=this.props,r=Object(h.get)(t,"data.content","");this.isValidNote(t)&&""===r&&""===o&&Object(h.invoke)(this,"editor.focus");const i=Object(h.get)(e,"note.data.content",""),a=Object(h.get)(this.props,"note.data.content","");(n&&(e.note!==t||i!==a)||!e.previewingMarkdown&&this.props.previewingMarkdown)&&this.updateMarkdown()}componentWillUnmount(){window.removeEventListener("beforeunload",this.queueNoteSave.flush),document.removeEventListener("copy",this.copyRenderedNote,!1)}render(){const{note:e,filter:t,fontSize:n,isViewingRevisions:o,previewingMarkdown:r,spellCheckEnabled:i}=this.props,a=Object(h.get)(this.props,"note.data.content",""),s={fontSize:`${n}px`},c=Xe()("note-detail",{"is-viewing-revisions":o});return l.a.createElement("div",{className:"note-detail-wrapper theme-color-border"},e?l.a.createElement("div",{className:c},r&&l.a.createElement("div",{ref:this.storePreview,className:"note-detail-markdown theme-color-bg theme-color-fg",onClick:this.onPreviewClick,style:s}),!r&&l.a.createElement("div",{className:"note-detail-textarea theme-color-bg theme-color-fg",style:s},l.a.createElement(Qt,{ref:this.saveEditorRef,spellCheckEnabled:i,storeFocusEditor:this.storeFocusContentEditor,storeHasFocus:this.storeEditorHasFocus,content:a,filter:t,onChangeContent:this.queueNoteSave}))):l.a.createElement("div",{className:"note-detail-placeholder"},l.a.createElement(Jt,null)))}}pn(mn,"displayName","NoteDetail"),pn(mn,"propTypes",{dialogs:d.a.array.isRequired,filter:d.a.string.isRequired,fontSize:d.a.number,isViewingRevisions:d.a.bool.isRequired,onChangeContent:d.a.func.isRequired,note:d.a.object,previewingMarkdown:d.a.bool,showNoteInfo:d.a.bool.isRequired,spellCheckEnabled:d.a.bool.isRequired,storeFocusEditor:d.a.func,storeHasFocus:d.a.func}),pn(mn,"defaultProps",{storeFocusEditor:h.noop,storeHasFocus:h.noop});var gn=Object(p.connect)(({appState:e,settings:t})=>({dialogs:e.dialogs,filter:e.filter,isViewingRevisions:e.isViewingRevisions,showNoteInfo:e.showNoteInfo,spellCheckEnabled:t.spellCheckEnabled}))(mn),bn=n(88);var vn=Object(p.connect)(null,e=>({openShareDialog:()=>e(z.actionCreators.showDialog({dialog:{type:"Share",modal:!0}}))}))(({openShareDialog:e})=>l.a.createElement("div",{className:"tag-email-tooltip"},l.a.createElement("div",{className:"tag-email-tooltip__arrow"}),l.a.createElement("div",{className:"tag-email-tooltip__inside"},"Collaboration has moved. Press the Share icon in the toolbar to access the",l.a.createElement("a",{href:"#",onClick:e},"Collaborate screen"),".")));const yn=({onSelect:e=h.noop,selected:t,tag:n})=>l.a.createElement("div",{className:Xe()("tag-chip",{selected:t}),"data-tag-name":n,onClick:e},n);yn.displayName="TagChip";var wn=yn;function _n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const xn=9,kn=13,En=39,Sn=e=>t=>t.trim().toLowerCase().startsWith(e.trim().toLowerCase());class Cn extends s.Component{constructor(...e){super(...e),_n(this,"completeSuggestion",(e=h.identity)=>{const{onChange:t,tagNames:n,value:o}=this.props;if(!o.length)return;const r=n.find(Sn(o));r&&t(r,()=>{e(r),this.focusInput()})}),_n(this,"focusInput",()=>{if(!this.inputField)return;const e=this.inputField;e.focus();const t=document.createRange();t.selectNodeContents(e),t.collapse(!1);const n=window.getSelection();n.removeAllRanges(),n.addRange(t)}),_n(this,"hasFocus",()=>document.activeElement===this.inputField),_n(this,"interceptKeys",e=>Object(h.invoke)({[kn]:this.submitTag,[xn]:this.interceptTabPress,[En]:this.interceptRightArrow},e.keyCode,e)),_n(this,"interceptRightArrow",e=>{const{value:t}=this.props;window.getSelection().getRangeAt(0).endOffset===t.length&&(this.completeSuggestion(),e.preventDefault(),e.stopPropagation())}),_n(this,"interceptTabPress",e=>{this.completeSuggestion(this.submitTag),e.preventDefault(),e.stopPropagation()}),_n(this,"onChange",({target:{textContent:e}})=>e.endsWith(",")&&e.trim().length?this.props.onSelect(e.slice(0,-1).trim()):this.props.onChange(e.trim(),this.focusInput)),_n(this,"removePastedFormatting",e=>{document.execCommand("insertText",!1,e.clipboardData.getData("text/plain")),e.preventDefault(),e.stopPropagation()}),_n(this,"storeInput",e=>{this.inputField=e,this.props.inputRef(e),Object(h.invoke)(this,"inputField.addEventListener","paste",this.removePastedFormatting,!1)}),_n(this,"submitTag",e=>{const{onSelect:t,value:n}=this.props;n.trim().length&&t(n.trim()),Object(h.invoke)(e,"preventDefault"),Object(h.invoke)(e,"stopPropagation")})}componentDidMount(){this.props.storeFocusInput(this.focusInput),this.props.storeHasFocus(this.hasFocus)}componentWillUnmount(){Object(h.invoke)(this,"inputField.removeEventListener","paste",this.removePastedFormatting,!1)}render(){const{value:e,tagNames:t}=this.props,n=e.length&&t.find(Sn(e));return l.a.createElement("div",{className:"tag-input",onClick:this.focusInput},l.a.createElement("div",{ref:this.storeInput,className:"tag-input__entry",contentEditable:"true",onInput:this.onChange,onKeyDown:this.interceptKeys,placeholder:"Add a tag",spellCheck:!1,suppressContentEditableWarning:!0},e),l.a.createElement("div",{className:"tag-input__suggestion",disabled:!0,type:"text"},n?n.substring(e.length):""))}}_n(Cn,"displayName","TagInput"),_n(Cn,"propTypes",{inputRef:d.a.func,onChange:d.a.func,onSelect:d.a.func,storeFocusInput:d.a.func,storeHasFocus:d.a.func,tagNames:d.a.arrayOf(d.a.string).isRequired,value:d.a.string.isRequired}),_n(Cn,"defaultProps",{inputRef:h.identity,onChange:h.identity,onSelect:h.identity,storeFocusInput:h.noop,storeHasFocus:h.noop});var Nn=Cn;function On(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Tn extends s.Component{constructor(...e){super(...e),On(this,"state",{selectedTag:"",tagInput:""}),On(this,"addTag",e=>{const{allTags:t,tags:n}=this.props,o=e.trim().replace(/\s+/g,",").split(",");o.some(y)&&this.showEmailTooltip();const r=Object(h.union)(n,Object(h.intersectionBy)(t,o,e=>e.toLocaleLowerCase()),Object(h.differenceBy)(o,t,e=>e.toLocaleLowerCase()));this.props.onUpdateNoteTags(r),this.storeTagInput(""),Object(h.invoke)(this,"tagInput.focus"),D.a.tracks.recordEvent("editor_tag_added")}),On(this,"hasSelection",()=>this.state.selectedTag&&!!this.state.selectedTag.length),On(this,"deleteTag",e=>{const{onUpdateNoteTags:t,tags:n}=this.props,{selectedTag:o}=this.state;t(Object(h.differenceBy)(n,[e],e=>e.toLocaleLowerCase())),o===e&&this.setState({selectedTag:""}),Object(h.invoke)(this,"tagInput.focus"),D.a.tracks.recordEvent("editor_tag_removed")}),On(this,"deleteSelection",()=>{this.hasSelection()&&this.deleteTag(this.state.selectedTag)}),On(this,"hideEmailTooltip",()=>this.setState({showEmailTooltip:!1})),On(this,"hasFocus",()=>this.inputHasFocus&&this.inputHasFocus()),On(this,"focusTagField",()=>this.focusInput&&this.focusInput()),On(this,"interceptKeys",e=>{8===e.which&&(this.hasSelection()&&this.deleteSelection(),""===this.state.tagInput&&(this.selectLastTag(),e.preventDefault()))}),On(this,"selectLastTag",()=>this.setState({selectedTag:this.props.tags.slice(-1).shift()})),On(this,"selectTag",e=>{const{target:{dataset:{tagName:t}}}=e;e.preventDefault(),e.stopPropagation(),this.deleteTag(t)}),On(this,"showEmailTooltip",()=>{this.setState({showEmailTooltip:!0}),setTimeout(()=>this.setState({showEmailTooltip:!1}),5e3)}),On(this,"onKeyDown",e=>(this.state.showEmailTooltip&&this.hideEmailTooltip(),this.interceptKeys(e))),On(this,"storeFocusInput",e=>this.focusInput=e),On(this,"storeHasFocus",e=>this.inputHasFocus=e),On(this,"storeHiddenTag",e=>this.hiddenTag=e),On(this,"storeInputRef",e=>this.tagInput=e),On(this,"storeTagInput",(e,t)=>this.setState({tagInput:e},t)),On(this,"unselect",e=>{this.state.selectedTag&&this.hiddenTag!==e.relatedTarget&&this.setState({selectedTag:""})})}componentDidMount(){this.props.storeFocusTagField(this.focusTagField),this.props.storeHasFocus(this.hasFocus),document.addEventListener("click",this.unselect,!0)}componentWillUnmount(){document.removeEventListener("click",this.unselect,!0)}componentDidUpdate(){this.hasSelection()&&this.hiddenTag.focus()}render(){const{allTags:e,tags:t}=this.props,{selectedTag:n,showEmailTooltip:o,tagInput:r}=this.state;return l.a.createElement("div",{className:"tag-field theme-color-border"},l.a.createElement("div",{className:Xe()("tag-editor",{"has-selection":this.hasSelection()}),tabIndex:"-1",onKeyDown:this.onKeyDown},l.a.createElement("input",{className:"hidden-tag",tabIndex:"-1",ref:this.storeHiddenTag}),t.filter(Object(h.negate)(y)).map(e=>l.a.createElement(wn,{key:e,tag:e,selected:e===n,onSelect:this.selectTag})),l.a.createElement(Nn,{allTags:e,inputRef:this.storeInputRef,value:r,onChange:this.storeTagInput,onSelect:this.addTag,storeFocusInput:this.storeFocusInput,storeHasFocus:this.storeHasFocus,tagNames:Object(h.differenceBy)(e,t,e=>e.toLocaleLowerCase())}),l.a.createElement(bn.Overlay,{container:this,onHide:this.hideEmailTooltip,placement:"top",rootClose:!0,shouldUpdatePosition:!0,show:o,target:this.tagInput},l.a.createElement(vn,{note:this.props.note}))))}}On(Tn,"displayName","TagField"),On(Tn,"propTypes",{allTags:d.a.array.isRequired,note:d.a.object.isRequired,storeFocusTagField:d.a.func,storeHasFocus:d.a.func,tags:d.a.array.isRequired,unusedTags:d.a.arrayOf(d.a.string),usedTags:d.a.arrayOf(d.a.string),onUpdateNoteTags:d.a.func.isRequired}),On(Tn,"defaultProps",{storeFocusTagField:h.noop,storeHasFocus:h.noop,tags:[]});var Rn=Tn;function jn(){return(jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class In extends s.Component{constructor(...e){super(...e),Dn(this,"handleShortcut",e=>{const{ctrlKey:t,key:n,metaKey:o}=e,r=t||o;if(r&&"P"===n&&this.props.markdownEnabled){const t="edit"===this.props.editorMode?"markdown":"edit";return this.props.setEditorMode({mode:t}),e.stopPropagation(),e.preventDefault(),!1}if(r&&"N"===n)return this.props.closeNote(),e.stopPropagation(),e.preventDefault(),!1;if(r&&"t"===n&&this.props.isEditorActive){if(!this.editFieldHasFocus())return this.focusNoteEditor&&this.focusNoteEditor(),e.stopPropagation(),e.preventDefault(),!1;if(!this.tagFieldHasFocus())return this.focusTagField&&this.focusTagField(),e.stopPropagation(),e.preventDefault(),!1}return!0}),Dn(this,"editFieldHasFocus",()=>this.editorHasFocus&&this.editorHasFocus()),Dn(this,"storeEditorHasFocus",e=>this.editorHasFocus=e),Dn(this,"storeFocusEditor",e=>this.focusNoteEditor=e),Dn(this,"storeFocusTagField",e=>this.focusTagField=e),Dn(this,"storeTagFieldHasFocus",e=>this.tagFieldHasFocus=e),Dn(this,"tagFieldHasFocus",()=>this.tagFieldHasFocus&&this.tagFieldHasFocus()),Dn(this,"toggleShortcuts",e=>{e?window.addEventListener("keydown",this.handleShortcut,!0):window.removeEventListener("keydown",this.handleShortcut,!0)})}componentDidMount(){this.toggleShortcuts(!0)}componentDidUpdate(){this.props.shouldPrint&&(window.print(),this.props.onNotePrinted())}componentWillUnmount(){this.toggleShortcuts(!1)}render(){const{editorMode:e,note:t,fontSize:n,shouldPrint:o}=this.props,r=this.props.revision||t,i=r&&r.data&&r.data.tags||[],a=!(!t||!t.data.deleted),s=r&&r.data&&r.data.systemTags&&-1!==r.data.systemTags.indexOf("markdown"),c=Object(h.get)(r,"data.content",""),d={style:{fontSize:n+"px"},class:"note-print note-detail-markdown"};return l.a.createElement("div",{className:"note-editor theme-color-bg theme-color-fg"},l.a.createElement(gn,{storeFocusEditor:this.storeFocusEditor,storeHasFocus:this.storeEditorHasFocus,filter:this.props.filter,note:r,previewingMarkdown:s&&"markdown"===e,onChangeContent:this.props.onUpdateContent,fontSize:n}),o&&s&&l.a.createElement("div",jn({},d,{dangerouslySetInnerHTML:{__html:un(c)}})),o&&!s&&l.a.createElement("div",d,c),t&&!a&&l.a.createElement(Rn,{storeFocusTagField:this.storeFocusTagField,storeHasFocus:this.storeTagFieldHasFocus,allTags:this.props.allTags.map(Object(h.property)("data.name")),note:this.props.note,tags:i,onUpdateNoteTags:this.props.onUpdateNoteTags.bind(null,t)}))}}Dn(In,"displayName","NoteEditor"),Dn(In,"propTypes",{closeNote:d.a.func.isRequired,editorMode:d.a.oneOf(["edit","markdown"]),markdownEnabled:d.a.bool.isRequired,note:d.a.object,fontSize:d.a.number,shouldPrint:d.a.bool,onUpdateContent:d.a.func.isRequired,onUpdateNoteTags:d.a.func.isRequired,onPrintNote:d.a.func,revision:d.a.object,setEditorMode:d.a.func.isRequired}),Dn(In,"defaultProps",{editorMode:"edit",note:{data:{tags:[]}}});const{closeNote:Pn,setEditorMode:Ln}=z.actionCreators;var An=Object(p.connect)(({appState:e,settings:t})=>({fontSize:t.fontSize,editorMode:e.editorMode,isEditorActive:!e.showNavigation,markdownEnabled:t.markdownEnabled,revision:e.revision}),e=>({closeNote:()=>e(Pn()),setEditorMode:t=>e(Ln(t))}))(In);const zn=({icon:e,isSelected:t=!1,label:n,onClick:o})=>{const r=Xe()("navigation-bar-item",{"is-selected":t}),i=Xe()("button","button-borderless","theme-color-fg");return l.a.createElement("div",{className:r},l.a.createElement("button",{type:"button",className:i,onClick:o},l.a.createElement("span",{className:"navigation-bar-item__icon"},e),n))};zn.propTypes={icon:d.a.element.isRequired,isSelected:d.a.bool,label:d.a.string.isRequired,onClick:d.a.func.isRequired};var Fn=zn;function Mn(){return l.a.createElement("svg",{className:"icon-cross-outline-small",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22"},l.a.createElement("path",{d:"M12.414 11l2.074 2.074-1.414 1.414L11 12.414l-2.074 2.074-1.414-1.414L9.586 11 7.512 8.926l1.414-1.414L11 9.586l2.074-2.074 1.414 1.414L12.414 11zM11 5c-3.308 0-6 2.692-6 6s2.692 6 6 6 6-2.692 6-6-2.692-6-6-6m0-2a8 8 0 1 1 0 16 8 8 0 0 1 0-16z"}))}function Bn(){return l.a.createElement("svg",{className:"icon-reorder",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22"},l.a.createElement("path",{d:"M18 7H4V5h14v2zm2 3H2v2h18v-2zm-2 5H4v2h14v-2z"}))}function Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Wn extends s.Component{constructor(...e){super(...e),Un(this,"state",{items:[],reorderedItems:[],reorderingId:null}),Un(this,"bindReorderingListeners",()=>{this.unbindReorderingListeners(),window.addEventListener("mouseup",this.onReorderEnd),window.addEventListener("touchend",this.onReorderEnd),window.addEventListener("touchcancel",this.onReorderCancel),window.addEventListener("keydown",this.onKeyDown)}),Un(this,"unbindReorderingListeners",()=>{window.removeEventListener("mouseup",this.onReorderEnd),window.removeEventListener("touchend",this.onReorderEnd),window.removeEventListener("touchcancel",this.onReorderCancel),window.removeEventListener("keydown",this.onKeyDown)}),Un(this,"setReorderingElementRef",(e,t)=>{e===this.state.reorderingId&&(this.reorderingElement!==t&&(this.unsetReorderingElement(),this.reorderingTranslateY=0),this.reorderingElement=t,this.bindReorderingListeners(),this.positionReorderingElement())}),Un(this,"positionReorderingElement",()=>{if(!this.reorderingElement)return;let e=this.reorderingElement.getBoundingClientRect(),t=this.reorderingClientY-(e.top-this.reorderingTranslateY)-this.reorderingOffsetY;t<0&&!this.reorderingElement.previousSibling?t=0:t>0&&!this.reorderingElement.nextSibling&&(t=0),this.reorderingTranslateY=t;let n=`translateY(${t}px)`;this.reorderingElement.style.transform=n,this.reorderingElement.style.msTransform=n,this.reorderingElement.style.webkitTransform=n}),Un(this,"unsetReorderingElement",()=>{this.unbindReorderingListeners(),this.reorderingElement&&(this.reorderingElement.style.transform="",this.reorderingElement.style.msTransform="",this.reorderingElement.style.webkitTransform="",this.reorderingElement=null)}),Un(this,"stopReordering",e=>{this.unsetReorderingElement(),e?this.setState({reorderedItems:this.props.items.slice(),reorderingId:null}):this.setState({reorderingId:null})}),Un(this,"reorderItemById",(e,t,n)=>{const{getItemKey:o}=this.props,{reorderedItems:r}=this.state;let i,a;null===n&&(n=e);for(let t=0;t<r.length;++t){let s=o(r[t]);s===e&&(i=t),s===n&&(a=t)}return this.reorderItemByIndex(i,a+t)}),Un(this,"reorderItemByIndex",(e,t)=>{if(e===t)return;if(null===e||e<0)return;if(null===t||t<0)return;let n=this.state.reorderedItems.slice(),o=n.splice(e,1);n.splice(t,0,...o),this.setState({reorderedItems:n})}),Un(this,"onReorderStart",(e,t)=>{t.preventDefault(),t.currentTarget.focus();let n=t.clientY||t.touches&&t.touches[0]&&t.touches[0].clientY;this.reorderingClientY=n;let o=t.currentTarget.getBoundingClientRect();this.reorderingOffsetY=n-o.top,this.reorderingTranslateY=0,this.setState({reorderingId:e}),this.bindReorderingListeners()}),Un(this,"onReorderMove",(e,t)=>{if(!this.reorderingElement||!this.props.editing)return;let n=t.clientY||t.touches&&t.touches[0]&&t.touches[0].clientY;if(this.reorderingClientY=n,e!==this.state.reorderingId){let o=t.currentTarget.getBoundingClientRect(),r=.5*o.height+o.top;this.reorderItemById(this.state.reorderingId,n<r?0:1,e)}this.positionReorderingElement()}),Un(this,"onReorderEnd",e=>{e.preventDefault(),this.stopReordering(),this.props.onReorder(this.state.reorderedItems)}),Un(this,"onReorderCancel",()=>this.stopReordering(!0)),Un(this,"onReorderKeyDown",(e,t)=>{"ArrowUp"===t.key?(t.preventDefault(),this.reorderItemById(e,-1)):"ArrowDown"===t.key&&(t.preventDefault(),this.reorderItemById(e,1))}),Un(this,"onKeyDown",e=>{27===(e.keyCode||e.which)&&(e.preventDefault(),this.onReorderCancel())})}componentWillMount(){this.setState({items:this.props.items,reorderedItems:this.props.items.slice()})}componentWillReceiveProps(e){e.items!==this.state.items&&(this.stopReordering(),this.setState({items:e.items,reorderedItems:e.items.slice()}))}componentWillUnmount(){this.unbindReorderingListeners()}render(){const{editing:e,onRemove:t,onReorder:n}=this.props,{reorderedItems:o,reorderingId:r}=this.state,i=Xe()("editable-list",this.props.className,{"editable-list-editing":this.props.editing,"editable-list-removable":t,"editable-list-reorderable":n,"editable-list-reordering":r});return l.a.createElement("ul",{className:i},o.map(o=>{const i=this.props.getItemKey(o);return l.a.createElement("li",{key:i,ref:this.setReorderingElementRef.bind(this,i),className:Xe()("editable-list-item",{"editable-list-item-reordering":i===r}),onMouseMove:this.onReorderMove.bind(this,i),onTouchMove:this.onReorderMove.bind(this,i)},l.a.createElement("span",{className:"editable-list-item-left"},t&&l.a.createElement("span",{className:"editable-list-trash",tabIndex:e?"0":"-1",onClick:t.bind(null,o)},l.a.createElement(Mn,null)),l.a.createElement("span",{className:"editable-list-item-content"},this.props.renderItem(o))),n&&l.a.createElement("span",{className:"editable-list-reorder",tabIndex:e?"0":"-1",onDragStart:e=>e.preventDefault(),onMouseDown:this.onReorderStart.bind(this,i),onTouchStart:this.onReorderStart.bind(this,i),onKeyDown:this.onReorderKeyDown.bind(this,i)},l.a.createElement(Bn,null)))}))}}Un(Wn,"displayName","EditableList"),Un(Wn,"propTypes",{editing:d.a.bool.isRequired,items:d.a.array.isRequired,renderItem:d.a.func.isRequired,getItemKey:d.a.func,onRemove:d.a.func,onReorder:d.a.func}),Un(Wn,"defaultProps",{getItemKey:e=>e.id});var qn=Wn;function Hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{editTags:$n,renameTag:Vn,reorderTags:Kn,selectTag:Zn,trashTag:Yn}=z.actionCreators,{recordEvent:Xn}=j.tracks;class Gn extends s.Component{constructor(...e){super(...e),Hn(this,"renderItem",e=>{const{onRenameTag:t,selectedTag:n}=this.props,o=e.data.name===Object(h.get)(n,"data.name",""),r=Xe()("tag-list-input","theme-color-fg",{active:o});return l.a.createElement("input",{className:r,readOnly:!this.props.editingTags,onClick:this.onSelectTag.bind(this,e),value:e.data.name,onChange:({target:{value:n}})=>t(e,n),spellCheck:!1})}),Hn(this,"onSelectTag",(e,t)=>{this.props.editingTags||(t.preventDefault(),t.currentTarget.blur(),this.props.onSelectTag(e))})}render(){const{editingTags:e,onEditTags:t,tags:n}=this.props,o=Xe()("tag-list",{"tag-list-editing":this.props.editingTags});return l.a.createElement("div",{className:o},l.a.createElement("div",{className:"tag-list-title"},l.a.createElement("h2",{className:"panel-title theme-color-fg-dim"},"Tags"),n.length>0&&l.a.createElement("button",{className:"tag-list-edit-toggle button button-borderless",tabIndex:"0",onClick:t},e?"Done":"Edit")),l.a.createElement(qn,{className:"tag-list-items",items:this.props.tags,editing:this.props.editingTags,renderItem:this.renderItem,onRemove:this.props.onTrashTag,onReorder:this.props.onReorderTags,selectedTag:this.props.selectedTag}))}}Hn(Gn,"displayName","TagList"),Hn(Gn,"propTypes",{onSelectTag:d.a.func.isRequired,onEditTags:d.a.func.isRequired,onRenameTag:d.a.func.isRequired,onTrashTag:d.a.func.isRequired,onReorderTags:d.a.func.isRequired,tags:d.a.array.isRequired});var Qn=Object(p.connect)(({appState:e})=>({editingTags:e.editingTags,selectedTag:e.tag,tags:e.tags}),(e,{noteBucket:t,tagBucket:n})=>({onEditTags:()=>e($n()),onRenameTag:(o,r)=>e(Vn({name:r,noteBucket:t,tag:o,tagBucket:n})),onReorderTags:t=>e(Kn({tags:t,tagBucket:n})),onSelectTag:t=>{e(Zn({tag:t})),Xn("list_tag_viewed")},onTrashTag:o=>{e(Yn({noteBucket:t,tag:o,tagBucket:n})),Xn("list_trash_viewed")}}))(Gn);function Jn(){return l.a.createElement("svg",{className:"icon-notes",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22"},l.a.createElement("path",{d:"M18 4v10H8V4h10m0-2H8a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM4 18V6a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2H4zM16 6h-6v2h6V6zm0 4h-6v2h6v-2z"}))}function eo(){return l.a.createElement("svg",{className:"icon-trash",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22"},l.a.createElement("path",{d:"M18 8.5V18a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8.5h2V18h10V8.5h2zM15 5V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v1H3v2h16V5h-4zM9 4h4v1H9V4zm1 12V8.5H8V16h2zm4 0V8.5h-2V16h2z"}))}function to(){return l.a.createElement("svg",{className:"icon-settings",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22"},l.a.createElement("path",{d:"M14 21H8v-2.587c-.684-.278-1.33-.652-1.917-1.11L3.84 18.6l-3-5.198 2.242-1.294C3.028 11.734 3 11.364 3 11s.027-.735.08-1.108L.84 8.598l3-5.196 2.244 1.295C6.67 4.24 7.317 3.865 8 3.587V1h6v2.587c.684.278 1.33.653 1.917 1.11l2.243-1.295 3 5.196-2.24 1.294c.053.374.08.744.08 1.108 0 .363-.027.734-.08 1.107l2.24 1.294-3 5.198-2.244-1.296c-.586.458-1.233.833-1.916 1.11V21zm-4-2h2v-2.04l.715-.212c.887-.265 1.718-.745 2.402-1.393l.542-.51 1.768 1.02 1-1.732-1.768-1.02.17-.726c.114-.47.17-.938.17-1.387 0-.45-.057-.916-.17-1.39l-.17-.723 1.768-1.02-1-1.733-1.77 1.022-.54-.512c-.686-.647-1.517-1.128-2.403-1.392L12 5.04V3h-2v2.04l-.715.212c-.887.265-1.718.746-2.4 1.392l-.543.512-1.77-1.022-1 1.73 1.77 1.022-.173.726c-.113.47-.17.94-.17 1.388s.057.916.17 1.39l.17.724-1.768 1.02 1 1.733 1.77-1.02.542.51c.685.647 1.515 1.128 2.402 1.393l.714.21V19zm1-4c-2.206 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.794 4-4 4zm0-6c-1.103 0-2 .897-2 2s.897 2 2 2 2-.897 2-2-.897-2-2-2z"}))}function no(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{selectAllNotes:oo,selectTrash:ro,showDialog:io,toggleNavigation:ao}=z.actionCreators;class so extends s.Component{constructor(...e){super(...e),no(this,"handleClickOutside",()=>{const{dialogs:e,onOutsideClick:t,showNavigation:n}=this.props;e.length>0||n&&t()}),no(this,"onHelpClicked",()=>Ut("http://simplenote.com/help")),no(this,"isSelected",({isTrashRow:e})=>{const{showTrash:t,selectedTag:n}=this.props;return e===t&&!n})}render(){const{noteBucket:e,tagBucket:t}=this.props;return l.a.createElement("div",{className:"navigation theme-color-bg theme-color-fg theme-color-border"},l.a.createElement("div",{className:"navigation-folders"},l.a.createElement(Fn,{icon:l.a.createElement(Jn,null),isSelected:this.isSelected({isTrashRow:!1}),label:"All Notes",onClick:this.props.onSelectAllNotes}),l.a.createElement(Fn,{icon:l.a.createElement(eo,null),isSelected:this.isSelected({isTrashRow:!0}),label:"Trash",onClick:this.props.onSelectTrash})),l.a.createElement("div",{className:"navigation-tags theme-color-border"},l.a.createElement(Qn,{noteBucket:e,tagBucket:t})),l.a.createElement("div",{className:"navigation-tools theme-color-border"},l.a.createElement(Fn,{icon:l.a.createElement(to,null),label:"Settings",onClick:this.props.onSettings})),l.a.createElement("div",{className:"navigation-footer"},l.a.createElement("button",{type:"button",className:"navigation-footer-item theme-color-fg-dim",onClick:this.onHelpClicked},"Help & Support"),l.a.createElement("button",{type:"button",className:"navigation-footer-item theme-color-fg-dim",onClick:this.props.onAbout},"About")))}}no(so,"displayName","NavigationBar"),no(so,"defaultProps",{onSelectAllNotes:function(){},onSelectTrash:function(){}});var lo=Object(p.connect)(({appState:e})=>({dialogs:e.dialogs,selectedTag:e.tag,showNavigation:e.showNavigation,showTrash:e.showTrash}),e=>({onAbout:()=>e(io({dialog:{type:"About",modal:!0,single:!0}})),onOutsideClick:()=>e(ao()),onSelectAllNotes:()=>e(oo()),onSelectTrash:()=>e(ro()),onSettings:()=>e(io({dialog:{type:"Settings",modal:!0,single:!0}}))}))(Ze(so));function co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class uo extends s.Component{constructor(...e){super(...e),co(this,"getPreviousNoteIndex",e=>{const t=N(this.props.stateForFilterNotes);return Math.max(t.findIndex(function(t){return e.id===t.id})-1,0)}),co(this,"onTrashNote",e=>{const{noteBucket:t}=this.props,n=this.getPreviousNoteIndex(e);this.props.trashNote({noteBucket:t,note:e,previousIndex:n}),D.a.tracks.recordEvent("editor_note_deleted")}),co(this,"onDeleteNoteForever",e=>{const{noteBucket:t}=this.props,n=this.getPreviousNoteIndex(e);this.props.deleteNoteForever({noteBucket:t,note:e,previousIndex:n})}),co(this,"onRestoreNote",e=>{const{noteBucket:t}=this.props,n=this.getPreviousNoteIndex(e);this.props.restoreNote({noteBucket:t,note:e,previousIndex:n}),D.a.tracks.recordEvent("editor_note_restored")}),co(this,"onShowRevisions",e=>{const{noteBucket:t}=this.props;this.props.noteRevisions({noteBucket:t,note:e}),D.a.tracks.recordEvent("editor_versions_accessed")}),co(this,"onSetEditorMode",e=>this.props.setEditorMode({mode:e}))}render(){const{toolbar:e}=this.props,t={onCloseNote:this.props.closeNote,onDeleteNoteForever:this.onDeleteNoteForever,onRestoreNote:this.onRestoreNote,onSetEditorMode:this.onSetEditorMode,onShowNoteInfo:this.props.toggleNoteInfo,onShowRevisions:this.onShowRevisions,onShareNote:this.props.shareNote,onTrashNote:this.onTrashNote,setIsViewingRevisions:this.props.setIsViewingRevisions,toggleFocusMode:this.props.toggleFocusMode},{editorMode:n,markdownEnabled:o}=this.props;return Object(s.cloneElement)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){co(e,t,n[t])})}return e}({},t,{editorMode:n,markdownEnabled:o}))}}co(uo,"propTypes",{closeNote:d.a.func.isRequired,deleteNoteForever:d.a.func.isRequired,editorMode:d.a.oneOf(["edit","markdown"]),markdownEnabled:d.a.bool.isRequired,noteBucket:d.a.object.isRequired,noteRevisions:d.a.func.isRequired,restoreNote:d.a.func.isRequired,setEditorMode:d.a.func.isRequired,setIsViewingRevisions:d.a.func.isRequired,shareNote:d.a.func.isRequired,stateForFilterNotes:d.a.object.isRequired,toggleFocusMode:d.a.func.isRequired,toggleNoteInfo:d.a.func.isRequired,toolbar:d.a.element.isRequired,trashNote:d.a.func.isRequired}),co(uo,"defaultProps",{editorMode:"edit"});const{closeNote:po,deleteNoteForever:ho,noteRevisions:fo,restoreNote:mo,setEditorMode:go,setIsViewingRevisions:bo,showDialog:vo,toggleNoteInfo:yo,trashNote:wo}=z.actionCreators;var _o=Object(p.connect)(({appState:e,settings:t})=>({editorMode:e.editorMode,markdownEnabled:t.markdownEnabled,stateForFilterNotes:{filter:e.filter,notes:e.notes,showTrash:e.showTrash,tag:e.tag}}),e=>({closeNote:()=>e(po()),deleteNoteForever:t=>e(ho(t)),noteRevisions:t=>e(fo(t)),restoreNote:t=>e(mo(t)),setEditorMode:t=>e(go(t)),setIsViewingRevisions:t=>{e(bo({isViewingRevisions:t}))},shareNote:()=>e(vo({dialog:{type:"Share",modal:!0}})),toggleFocusMode:()=>e(le()),toggleNoteInfo:()=>e(yo()),trashNote:t=>e(wo(t))}))(uo);function xo(){return(xo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function ko(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const Eo=e=>{let{icon:t}=e,n=ko(e,["icon"]);return l.a.createElement("button",xo({className:"icon-button",type:"button"},n),t)};Eo.propTypes={icon:d.a.element.isRequired};var So=Eo;function Co(){return l.a.createElement("svg",{className:"icon-back",xmlns:"http://www.w3.org/2000/svg",width:"22px",height:"22px",viewBox:"0 0 22 22"},l.a.createElement("path",{d:"M19 10H6.414l5.293-5.293-1.414-1.414L2.586 11l7.707 7.707 1.414-1.414L6.414 12H19z"}))}function No(){return l.a.createElement("svg",{className:"icon-info",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22"},l.a.createElement("path",{d:"M11 4c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.14-7-7 3.14-7 7-7m0-2a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm1 8h-2v6h2v-6zm-1-4a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"}))}function Oo(){return l.a.createElement("svg",{className:"icon-preview",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22"},l.a.createElement("path",{d:"M11,4C4.19,4,0,11,0,11s4.19,7,11,7,11-7,11-7S17.81,4,11,4Zm0,12c-4.13,0-7.22-3.29-8.56-5A14.22,14.22,0,0,1,7.39,6.84a4.5,4.5,0,1,0,7.23,0A14.44,14.44,0,0,1,19.56,11C18.23,12.73,15.16,16,11,16Z"}))}function To(){return l.a.createElement("svg",{className:"icon-preview-stop",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22"},l.a.createElement("path",{d:"M0,11S4.19,4,11,4a10.09,10.09,0,0,1,3.4.6L7.17,11.83a4.42,4.42,0,0,1,.22-5A14.22,14.22,0,0,0,2.44,11a16.27,16.27,0,0,0,2.77,2.79L3.78,15.22A18,18,0,0,1,0,11Zm22,0s-4.19,7-11,7a10.13,10.13,0,0,1-3.4-.6L4,21,2.5,19.5l3.06-3.06L7,15l1.64-1.64,6.16-6.16L15,7l1.48-1.48L19.5,2.5,21,4,18.22,6.78A18,18,0,0,1,22,11Zm-2.44,0a16.27,16.27,0,0,0-2.77-2.79L15.5,9.5A4.5,4.5,0,0,1,11,14L9.21,15.79A7.9,7.9,0,0,0,11,16C15.16,16,18.23,12.73,19.56,11Z"}))}function Ro(){return l.a.createElement("svg",{className:"icon-revisions",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22"},l.a.createElement("path",{d:"M8.7,14.7l3.3-3.3V6h-2v4.6l-2.7,2.7L8.7,14.7z M11,2c5,0,9,4,9,9h-2c0-3.9-3.1-7-7-7s-7,3.1-7,7s3.1,7,7,7c2.4,0,4.5-1.2,5.7-3H13v-2h7v7h-2v-3.3c-1.6,2-4.2,3.3-7,3.3c-5,0-9-4-9-9S6,2,11,2z"}))}function jo(){return l.a.createElement("svg",{className:"icon-share",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22"},l.a.createElement("path",{d:"M7.707 7.707L6.293 6.293 11 1.586l4.707 4.707-1.414 1.414L12 5.414V13h-2V5.414L7.707 7.707zM17 9v9H5V9H3v11h16V9h-2z"}))}function Do(){return l.a.createElement("svg",{className:"icon-sidebar",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22"},l.a.createElement("path",{d:"M19,3H3C1.895,3,1,3.895,1,5v12c0,1.105,0.895,2,2,2h16c1.105,0,2-0.895,2-2V5C21,3.895,20.105,3,19,3z M3,5h3v12H3V5z M19,17H8V5h11V17z"}))}function Io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Po extends s.Component{constructor(...e){super(...e),Io(this,"showRevisions",()=>{this.props.setIsViewingRevisions(!0),this.props.onShowRevisions(this.props.note)}),Io(this,"setEditorMode",()=>{const{editorMode:e}=this.props;this.props.onSetEditorMode("markdown"===e?"edit":"markdown")}),Io(this,"renderNormal",()=>{const{note:e,editorMode:t,markdownEnabled:n}=this.props,o="markdown"===t;return e?l.a.createElement("div",{className:"note-toolbar"},l.a.createElement("div",{className:"note-toolbar__column-left"},l.a.createElement("div",{className:"note-toolbar__button"},l.a.createElement(So,{icon:l.a.createElement(Do,null),onClick:this.props.toggleFocusMode,title:"Toggle Sidebar"}))),l.a.createElement("div",{className:"note-toolbar__column-right"},l.a.createElement("div",{className:"note-toolbar__button note-toolbar-back"},l.a.createElement(So,{icon:l.a.createElement(Co,null),onClick:this.props.onCloseNote,title:"Back"})),n&&l.a.createElement("div",{className:"note-toolbar__button"},l.a.createElement(So,{icon:o?l.a.createElement(To,null):l.a.createElement(Oo,null),onClick:this.setEditorMode,title:"Preview"})),l.a.createElement("div",{className:"note-toolbar__button"},l.a.createElement(So,{icon:l.a.createElement(Ro,null),onClick:this.showRevisions,title:"History"})),l.a.createElement("div",{className:"note-toolbar__button"},l.a.createElement(So,{icon:l.a.createElement(jo,null),onClick:this.props.onShareNote.bind(null),title:"Share"})),l.a.createElement("div",{className:"note-toolbar__button"},l.a.createElement(So,{icon:l.a.createElement(eo,null),onClick:this.props.onTrashNote.bind(null,e),title:"Trash"})),l.a.createElement("div",{className:"note-toolbar__button"},l.a.createElement(So,{icon:l.a.createElement(No,null),onClick:this.props.onShowNoteInfo,title:"Info"})))):l.a.createElement("div",{className:"note-toolbar-placeholder theme-color-border"})}),Io(this,"renderTrashed",()=>{const{note:e}=this.props;return l.a.createElement("div",{className:"note-toolbar-trashed"},l.a.createElement("div",{className:"note-toolbar__button"},l.a.createElement("button",{type:"button",className:"button button-compact button-danger",onClick:this.props.onDeleteNoteForever.bind(null,e)},"Delete Forever")),l.a.createElement("div",{className:"note-toolbar__button"},l.a.createElement("button",{type:"button",className:"button button-primary button-compact",onClick:this.props.onRestoreNote.bind(null,e)},"Restore Note")))})}render(){const{note:e}=this.props,t=!(!e||!e.data.deleted);return l.a.createElement("div",{className:"note-toolbar-wrapper theme-color-border"},t?this.renderTrashed():this.renderNormal())}}Io(Po,"displayName","NoteToolbar"),Io(Po,"propTypes",{note:d.a.object,onRestoreNote:d.a.func,onTrashNote:d.a.func,onDeleteNoteForever:d.a.func,onShowRevisions:d.a.func,onShareNote:d.a.func,onCloseNote:d.a.func,onShowNoteInfo:d.a.func,setIsViewingRevisions:d.a.func,toggleFocusMode:d.a.func.isRequired,onSetEditorMode:d.a.func,editorMode:d.a.string,markdownEnabled:d.a.bool}),Io(Po,"defaultProps",{editorMode:"edit",onCloseNote:h.noop,onDeleteNoteForever:h.noop,onRestoreNote:h.noop,onSetEditorMode:h.noop,onShowNoteInfo:h.noop,onShowRevisions:h.noop,onShareNote:h.noop,onTrashNote:h.noop,setIsViewingRevisions:h.noop});var Lo=Po;function Ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const zo=e=>Object(h.orderBy)(e,"data.modificationDate","asc");class Fo extends s.Component{constructor(...e){super(...e),Ao(this,"handleClickOutside",()=>this.onCancelRevision()),Ao(this,"onAcceptRevision",()=>{const{note:e,onUpdateContent:t,resetIsViewingRevisions:n}=this.props,{revisions:o,selection:r}=this.state,i=o[r];if(i){const{data:{content:o}}=i;t(e,o),n()}this.resetSelection()}),Ao(this,"resetSelection",()=>this.setState({selection:1/0})),Ao(this,"onSelectRevision",({target:{value:e}})=>{const{revisions:t}=this.state,n=parseInt(e,10),o=t[n];this.setState({selection:n}),this.props.setRevision(o)}),Ao(this,"onCancelRevision",()=>{this.props.cancelRevision(),this.resetSelection()}),this.state={revisions:zo(this.props.revisions),selection:1/0}}componentWillReceiveProps({revisions:e}){const{revisions:t}=this.props;e!==t&&this.setState({revisions:zo(e)})}componentDidUpdate({revisions:e}){const{revisions:t}=this.props;e!==t&&this.forceUpdate()}render(){const{isViewingRevisions:e}=this.props,{revisions:t,selection:n}=this.state,o=Math.max(t.length-1,1),r=Math.min(n,o),i=t.length&&r!==o?tt.a.unix(t[r].data.modificationDate).format("MMM D, YYYY h:mm a"):"Latest",a=r===o?{opacity:"0.5",pointerEvents:"none"}:{},s=Xe()("revision-selector",{"is-visible":e});return l.a.createElement("div",{className:s},l.a.createElement("div",{className:"revision-date"},i),l.a.createElement("div",{className:"revision-slider"},l.a.createElement("input",{type:"range",min:0,max:o,value:r,onChange:this.onSelectRevision})),l.a.createElement("div",{className:"revision-buttons"},l.a.createElement("div",{className:"button button-secondary button-compact",onClick:this.onCancelRevision},"Cancel"),l.a.createElement("div",{style:a,className:"button button-primary button-compact",onClick:this.onAcceptRevision},"Restore Note")))}}Ao(Fo,"propTypes",{isViewingRevisions:d.a.bool.isRequired,note:d.a.object,revisions:d.a.array.isRequired,onUpdateContent:d.a.func.isRequired,setRevision:d.a.func.isRequired,resetIsViewingRevisions:d.a.func.isRequired,cancelRevision:d.a.func.isRequired});const{setRevision:Mo,setIsViewingRevisions:Bo}=z.actionCreators;var Uo=Object(p.connect)(({appState:e})=>({isViewingRevisions:e.isViewingRevisions}),e=>({setRevision:t=>e(Mo({revision:t})),resetIsViewingRevisions:()=>{e(Bo({isViewingRevisions:!1}))},cancelRevision:()=>{e(Mo({revision:null})),e(Bo({isViewingRevisions:!1}))}}))(Ze(Fo));const Wo=({isFocusMode:e,isNavigationOpen:t,isNoteInfoOpen:n,isNoteOpen:o,note:r,noteBucket:i,revisions:a,onUpdateContent:c,searchBar:d,noteList:u,noteEditor:p})=>{const f=Xe()("app-layout",{"is-focus-mode":e,"is-navigation-open":t,"is-note-open":o,"is-showing-note-info":n});return l.a.createElement("div",{className:f},l.a.createElement("div",{className:"app-layout__source-column theme-color-bg theme-color-fg"},d,u),l.a.createElement("div",{className:"app-layout__note-column theme-color-bg theme-color-fg"},l.a.createElement(Uo,{note:r,revisions:a||[],onUpdateContent:c}),l.a.createElement(_o,{noteBucket:i,toolbar:l.a.createElement(Lo,{note:r})}),Object(s.cloneElement)(p,{note:r,noteBucket:i,onUpdateContent:c,tags:Object(h.get)(r,"data.tags",[])})))};Wo.propTypes={isFocusMode:d.a.bool.isRequired,isNavigationOpen:d.a.bool.isRequired,isNoteInfoOpen:d.a.bool.isRequired,isNoteOpen:d.a.bool.isRequired,note:d.a.object,noteBucket:d.a.object.isRequired,revisions:d.a.array,onUpdateContent:d.a.func.isRequired,searchBar:d.a.element.isRequired,noteList:d.a.element.isRequired,noteEditor:d.a.element.isRequired};var qo=Wo,Ho=n(87),$o=n.n(Ho),Vo=n(31),Ko=n.n(Vo);function Zo(){return l.a.createElement("svg",{className:"logo",width:"96",height:"96",viewBox:"0 0 176 176"},l.a.createElement("g",{fillRule:"evenodd",clipRule:"evenodd"},l.a.createElement("circle",{cx:"88",cy:"88",r:"88",fill:"#fff"}),l.a.createElement("path",{d:"M152.37 87.885c0-34.066-27.182-63.42-59.45-64.854-6.416-.284-12.647 1.432-17.58 5.573-5.002 4.196-8.07 10.09-8.638 16.595C65.43 59.73 78.537 68.618 91.225 72.09c30.69 8.398 48.462 30.086 46.655 56.757 9.057-11.194 14.49-25.442 14.49-40.962zM84.345 97.24c-28.696-7.853-45.817-29.174-43.62-54.317.027-.287.073-.567.102-.852C29.19 53.846 22 70.023 22 87.886c0 34.348 27.955 63.828 60.277 64.933 7.227.248 14.214-1.685 19.766-6.344 5.67-4.757 9.146-11.435 9.79-18.808 1.703-19.463-16.492-27.417-27.488-30.426z",fill:"#4895d9"})))}var Yo=n(86);function Xo(){return l.a.createElement("svg",{className:"logo-wordpress",width:"24",height:"24",viewBox:"0 0 24 24"},l.a.createElement("rect",{x:"0",fill:"none",width:"24",height:"24"}),l.a.createElement("g",null,l.a.createElement("path",{d:"M12.158 12.786l-2.698 7.84c.806.236 1.657.365 2.54.365 1.047 0 2.05-.18 2.986-.51-.024-.037-.046-.078-.065-.123l-2.762-7.57zM3.008 12c0 3.56 2.07 6.634 5.068 8.092L3.788 8.342c-.5 1.117-.78 2.354-.78 3.658zm15.06-.454c0-1.112-.398-1.88-.74-2.48-.456-.74-.883-1.368-.883-2.11 0-.825.627-1.595 1.51-1.595.04 0 .078.006.116.008-1.598-1.464-3.73-2.36-6.07-2.36-3.14 0-5.904 1.613-7.512 4.053.21.008.41.012.58.012.94 0 2.395-.114 2.395-.114.484-.028.54.684.057.74 0 0-.487.058-1.03.086l3.275 9.74 1.968-5.902-1.4-3.838c-.485-.028-.944-.085-.944-.085-.486-.03-.43-.77.056-.742 0 0 1.484.114 2.368.114.94 0 2.397-.114 2.397-.114.486-.028.543.684.058.74 0 0-.488.058-1.03.086l3.25 9.665.897-2.997c.456-1.17.684-2.137.684-2.907zm1.82-3.86c.04.286.06.593.06.924 0 .912-.17 1.938-.683 3.22l-2.746 7.94c2.672-1.558 4.47-4.454 4.47-7.77 0-1.564-.4-3.033-1.1-4.314zM12 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10z",fill:"#FFFFFF"})))}function Go(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Qo extends s.Component{constructor(...e){super(...e),Go(this,"state",{isCreatingAccount:!1,passwordErrorMessage:null}),Go(this,"onLogin",e=>{if("keydown"===e.type&&13!==e.keyCode)return;e.preventDefault();const t=Object(h.get)(this.usernameInput,"value"),n=Object(h.get)(this.passwordInput,"value");t&&n&&this.props.onAuthenticate(t,n)}),Go(this,"onWPLogin",()=>{const e=Ko()();this.setupAuthWindow();const t=encodeURIComponent(e.wpcc_redirect_url);this.authState=`app-${$o()(20)}`;const n=`https://public-api.wordpress.com/oauth2/authorize?client_id=${e.wpcc_client_id}&redirect_uri=${t}&response_type=code&scope=global&state=${this.authState}`;this.authWindow.loadURL(n),this.authWindow.show()}),Go(this,"setupAuthWindow",()=>{const e=require("electron").remote,t=e.BrowserWindow,n=e.protocol;this.authWindow=new t({width:640,height:640,show:!1,webPreferences:{nodeIntegration:!1}}),n.registerHttpProtocol("simplenote",e=>{this.authWindow.loadURL(e.url)}),this.authWindow.webContents.on("will-navigate",(e,t)=>this.onBrowserNavigate(t)),this.authWindow.webContents.on("did-get-redirect-request",(e,t,n)=>this.onBrowserNavigate(n))}),Go(this,"onBrowserNavigate",e=>{try{this.authenticateWithUrl(new URL(e))}catch(e){}}),Go(this,"authenticateWithUrl",e=>{if("simplenote:"!==e.protocol)return;const{authorizeUserWithToken:t,saveWPToken:n}=this.props,o=e.searchParams;if(o.get("error"))switch(o.get("code")){case"1":return this.authError("Please activate your WordPress.com account via email and try again.");default:return this.authError("An error was encountered while signing in.")}const r=o.get("user"),i=o.get("token"),a=o.get("state");if(!(i&&r&&a))return this.closeAuthWindow();if(a!==this.authState)return;t(r,i);const s=o.get("wp_token");s&&n(s),this.closeAuthWindow()}),Go(this,"authError",e=>{this.closeAuthWindow(),this.setState({passwordErrorMessage:e})}),Go(this,"closeAuthWindow",()=>this.authWindow&&this.authWindow.close()),Go(this,"onForgot",e=>{e.preventDefault(),window.open(e.currentTarget.href,null,"width=640,innerWidth=640,height=480,innerHeight=480,useContentSize=true,chrome=yes,centerscreen=yes")}),Go(this,"onSignUp",e=>{if("keydown"===e.type&&13!==e.keyCode)return;e.preventDefault();const t=Object(h.get)(this.usernameInput,"value"),n=Object(h.get)(this.passwordInput,"value"),o=Object(h.get)(this.passwordConfirmInput,"value");t&&n&&o&&(n===o?n.length<4?this.setState({passwordErrorMessage:"Passwords must contain at least 4 characters."}):(this.props.onCreateUser(t,n),this.setState({passwordErrorMessage:null})):this.setState({passwordErrorMessage:"The passwords don't match."}))}),Go(this,"toggleSignUp",e=>{e.preventDefault(),this.setState({isCreatingAccount:!this.state.isCreatingAccount})})}componentDidMount(){this.usernameInput&&this.usernameInput.focus()}render(){const{isMacApp:e,isElectron:t}=this.props,{isCreatingAccount:n,passwordErrorMessage:o}=this.state,r=Xe()("button","button-primary",{pending:this.props.authPending}),i=n?"Sign up":"Log in",a=n?"Log in":"Sign up",c=n?"Already have an account?":"Don't have an account?",d=n?"Could not create account. Please try again.":"Login failed. Please try again.";return l.a.createElement("div",{className:"login"},e&&l.a.createElement("div",{className:"login__draggable-area"}),l.a.createElement("form",{className:"login__form",onSubmit:this.onLogin},l.a.createElement("div",{className:"login__logo"},l.a.createElement(Zo,null)),l.a.createElement("div",{className:"login__fields theme-color-border theme-color-fg"},l.a.createElement("label",{className:"login__field theme-color-border",htmlFor:"login__field-username"},l.a.createElement("span",{className:"login__field-label"},"Email"),l.a.createElement("span",{className:"login__field-control"},l.a.createElement("input",{ref:e=>this.usernameInput=e,id:"login__field-username",type:"email",onKeyDown:this.onLogin,spellCheck:!1}))),l.a.createElement("label",{className:"login__field theme-color-border",htmlFor:"login__field-password"},l.a.createElement("span",{className:"login__field-label"},"Password"),l.a.createElement("span",{className:"login__field-control"},l.a.createElement("input",{ref:e=>this.passwordInput=e,id:"login__field-password",type:"password",onKeyDown:this.onLogin,spellCheck:!1}))),n&&l.a.createElement("label",{className:"login__field theme-color-border",htmlFor:"login__field-password-confirm"},l.a.createElement("span",{className:"login__field-label"},"Confirm Password"),l.a.createElement("span",{className:"login__field-control"},l.a.createElement("input",{ref:e=>this.passwordConfirmInput=e,id:"login__field-password-confirm",type:"password",onKeyDown:this.onSignUp,spellCheck:!1})))),this.props.hasInvalidCredentials&&l.a.createElement("p",{className:"login__auth-message is-error"},"The credentials you entered don't match"),this.props.hasLoginError&&l.a.createElement("p",{className:"login__auth-message is-error"},d),o&&l.a.createElement("p",{className:"login__auth-message is-error"},o),l.a.createElement("div",{className:"login__actions"},l.a.createElement("div",{className:r,onClick:n?this.onSignUp:this.onLogin,type:"submit"},this.props.authPending?l.a.createElement(Yo.a,null):i),l.a.createElement("p",{className:"login__forgot"},l.a.createElement("a",{href:"https://app.simplenote.com/forgot/",target:"_blank",rel:"noopener noreferrer",onClick:this.onForgot},"Forgot your password?")),l.a.createElement("p",{className:"login__signup"},c," ",l.a.createElement("a",{href:"#",onClick:this.toggleSignUp},a))),t&&l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"login__or"},"or:"),l.a.createElement("div",{className:"login__btn-wpcom"},l.a.createElement("button",{className:"button button-borderless",onClick:this.onWPLogin},l.a.createElement("span",{className:"login__btn-wpcom-icon"},l.a.createElement(Xo,null)),"Log in with WordPress.com")))))}}Go(Qo,"propTypes",{isAuthenticated:d.a.bool,isMacApp:d.a.bool,isElectron:d.a.bool,onAuthenticate:d.a.func.isRequired,onCreateUser:d.a.func.isRequired,authorizeUserWithToken:d.a.func.isRequired,saveWPToken:d.a.func.isRequired});var Jo=Object(p.connect)(e=>({hasInvalidCredentials:he(e),hasLoginError:fe(e)}),e=>({saveWPToken:t=>e(ae(t))}))(Qo);function er(){return l.a.createElement("svg",{className:"icon-arrow-top-right",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22"},l.a.createElement("path",{d:"M6.075 17.364L15 8.464V16h2V5H6v2h7.536L4.65 15.925z"}))}function tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class nr extends s.Component{constructor(...e){super(...e),tr(this,"focusFirstInput",e=>{const t=this.queryAllEnabledControls(e)[0];t&&t.focus()}),tr(this,"focusFirstInputEvent",()=>this.focusFirstInput),tr(this,"focusLastInput",e=>{const t=this.queryAllEnabledControls(e),n=t[t.length-1];n&&n.focus()}),tr(this,"focusLastInputEvent",()=>this.focusLastInput()),tr(this,"interceptClick",e=>{"dialog"===e.srcElement.getAttribute("role")&&(e.preventDefault(),this.props.onDone())}),tr(this,"queryAllEnabledControls",e=>(e||this.box).querySelectorAll("button:enabled, input:enabled, textarea:enabled")),tr(this,"startListening",()=>window.addEventListener("click",this.interceptClick)),tr(this,"stopListening",()=>window.removeEventListener("click",this.interceptClick)),tr(this,"storeBox",e=>this.box=e),tr(this,"storeContent",e=>this.content=e)}componentDidMount(){this.previouslyActiveElement=document.activeElement,this.focusFirstInput(this.content),this.startListening()}componentWillUnmount(){this.stopListening(),this.previouslyActiveElement&&(this.previouslyActiveElement.focus(),this.previouslyActiveElement=null)}render(){const{className:e,title:t,children:n,onDone:o}=this.props,r=`dialog-title-${t}`;return l.a.createElement("div",{className:Xe()("dialog",e),role:"dialog","aria-labelledby":r},l.a.createElement("input",{type:"text",className:"focus-guard",onFocus:this.focusLastInput,spellCheck:!1}),l.a.createElement("div",{ref:this.storeBox,className:"dialog-box theme-color-bg theme-color-fg theme-color-border"},t&&o&&l.a.createElement("div",{className:"dialog-title-bar theme-color-border"},l.a.createElement("div",{className:"dialog-title-side"}),l.a.createElement("h2",{id:r,className:"dialog-title-text"},t),l.a.createElement("div",{className:"dialog-title-side"},!!o&&l.a.createElement("button",{type:"button",className:"button button-borderless",onClick:o},"Done"))),l.a.createElement("div",{ref:this.storeContent,className:"dialog-content"},n)),l.a.createElement("input",{type:"text",className:"focus-guard",onFocus:this.focusFirstInputEvent,spellCheck:!1}))}}tr(nr,"propTypes",{title:d.a.string,onDone:d.a.func});var or=nr;function rr(){return(rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ar="1.1.7";class sr extends s.Component{constructor(...e){super(...e),ir(this,"onDone",()=>this.props.actions.closeDialog({key:this.props.dialog.key}))}render(){const e=this.props.dialog,t=(new Date).getFullYear();return l.a.createElement(or,rr({className:"about"},e,{onDone:this.onDone}),l.a.createElement("div",{className:"about-top"},l.a.createElement(Zo,null),l.a.createElement("h1",null,"Simplenote"),l.a.createElement("small",null,"Version ",ar)),l.a.createElement("ul",{className:"about-links"},l.a.createElement("li",null,l.a.createElement("a",{target:"_blank",href:"https://simplenote.com/blog/",rel:"noopener noreferrer"},l.a.createElement("span",{className:"about-links-title"},"Blog"),l.a.createElement("br",null),"simplenote.com/blog/"),l.a.createElement(er,null)),l.a.createElement("li",null,l.a.createElement("a",{target:"_blank",href:"https://twitter.com/simplenoteapp",rel:"noopener noreferrer"},l.a.createElement("span",{className:"about-links-title"},"Twitter"),l.a.createElement("br",null),"@simplenoteapp"),l.a.createElement(er,null)),l.a.createElement("li",null,l.a.createElement("a",{target:"_blank",href:"https://simperium.com",rel:"noopener noreferrer"},l.a.createElement("span",{className:"about-links-title"},"Simperium"),l.a.createElement("br",null),"Add data sync to your app"),l.a.createElement(er,null)),l.a.createElement("li",null,l.a.createElement("a",{target:"_blank",href:"https://github.com/Automattic/simplenote-electron",rel:"noopener noreferrer"},l.a.createElement("span",{className:"about-links-title"},"Contribute"),l.a.createElement("br",null),"GitHub.com"),l.a.createElement(er,null)),l.a.createElement("li",null,l.a.createElement("a",{target:"_blank",href:"https://automattic.com/work-with-us/",rel:"noopener noreferrer"},"Made with love by the folks at Automattic.",l.a.createElement("br",null),"Are you a developer? Were hiring."),l.a.createElement(er,null))),l.a.createElement("div",{className:"about-bottom"},l.a.createElement("p",null,l.a.createElement("a",{target:"_blank",href:"https://simplenote.com/privacy/",rel:"noopener noreferrer"},"Privacy Policy")," ",""," ",l.a.createElement("a",{target:"_blank",href:"https://simplenote.com/terms/",rel:"noopener noreferrer"},"Terms of Service")),l.a.createElement("p",null,l.a.createElement("a",{target:"_blank",href:"https://automattic.com/",rel:"noopener noreferrer"}," ",t," Automattic, Inc."))),l.a.createElement("button",{type:"button",className:"about-done button button-borderless",onClick:this.onDone},l.a.createElement(nt,null)))}}ir(sr,"propTypes",{actions:d.a.object.isRequired,dialog:d.a.object.isRequired});var lr=sr;function cr(){return(cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function dr(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class pr extends s.Component{constructor(...e){super(...e),ur(this,"setCurrentTab",({target:{dataset:{tabName:e}}})=>this.setState({currentTab:e}))}componentWillMount(){this.setState({currentTab:this.props.tabs[0]})}render(){const e=this.props,{tabs:t,renderTabName:n,renderTabContent:o}=e,r=dr(e,["tabs","renderTabName","renderTabContent"]),{currentTab:i}=this.state;return l.a.createElement(or,cr({className:"settings"},r),l.a.createElement("nav",{className:"dialog-tabs theme-color-border"},l.a.createElement("ul",null,t.map((e,t)=>l.a.createElement("li",{key:t},l.a.createElement("button",{type:"button",className:Xe()("button button-borderless",{"dialog-tab-active":e===i}),"data-tab-name":e,onClick:this.setCurrentTab},n(e)))))),l.a.createElement("div",{className:"dialog-tab-content"},o(this.state.currentTab)))}}ur(pr,"propTypes",{tabs:d.a.array.isRequired,renderTabName:d.a.func.isRequired,renderTabContent:d.a.func.isRequired});var hr=pr;function fr(){return(fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function mr(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gr(e){let{className:t}=e,n=mr(e,["className"]);return l.a.createElement("span",{className:Xe()("checkbox-control",t)},l.a.createElement("input",fr({type:"checkbox"},n)),l.a.createElement("span",{className:"checkbox-control-base"},l.a.createElement("span",{className:"checkbox-control-checked"})))}var br=({groupSlug:e,slug:t,isEnabled:n,onChange:o})=>l.a.createElement(gr,{type:"radio",name:e,value:t,id:`settings-field-${e}-${t}`,checked:n,onChange:()=>o(t)});var vr=({groupSlug:e,slug:t,isEnabled:n,onChange:o})=>l.a.createElement(Je,{name:e,value:t,id:`settings-field-${e}-${t}`,checked:n,onChange:o});const yr=()=>null,wr=({title:e,slug:t,activeSlug:n,description:o,onChange:r,learnMoreURL:i,renderer:a,children:s})=>{const c=l.a.createElement("a",{href:i,onClick:e=>{e.preventDefault(),Ut(i)}},"Learn more");return l.a.createElement("div",{className:"settings-group"},l.a.createElement("h3",{className:"panel-title theme-color-fg-dim"},e),l.a.createElement("div",{className:"settings-items theme-color-border"},l.a.Children.map(s,({props:{slug:o,title:i}})=>l.a.createElement("label",{className:"settings-item theme-color-border",htmlFor:`settings-field-${t}-${o}`,key:o},l.a.createElement("div",{className:"settings-item-label"},i),l.a.createElement("div",{className:"settings-item-control"},a({activeSlug:n,groupTitle:e,groupSlug:t,slug:o,title:i,isEnabled:o===n,onChange:r}))))),o&&l.a.createElement("p",null,o," ",i&&c))};wr.propTypes={description:d.a.string,learnMoreURL:d.a.string};var _r=wr;function xr(){return(xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Er=["account","display"];class Sr extends s.Component{constructor(...e){super(...e),kr(this,"onDone",()=>this.props.actions.closeDialog({key:this.props.dialog.key})),kr(this,"onEditAccount",()=>Ut("https://app.simplenote.com/settings")),kr(this,"onToggleShareAnalyticsPreference",()=>{this.props.toggleShareAnalyticsPreference({preferencesBucket:this.props.preferencesBucket})}),kr(this,"onSignOutRequested",()=>{const{noteBucket:e}=this.props,{notes:t}=this.props.appState,{getVersion:n}=e;e.hasLocalChanges((e,o)=>{if(o)return void this.showUnsyncedWarning();Promise.all(t.map(e=>new Promise((t,o)=>n(e.id,(e,n)=>e||0===n?o():t())))).then(()=>this.signOut(),()=>this.showUnsyncedWarning())})}),kr(this,"signOut",()=>{const{onSignOut:e,onSetWPToken:t,isElectron:n}=this.props;if(t(null),e(),n){require("electron").ipcRenderer.send("clearCookies")}}),kr(this,"showUnsyncedWarning",()=>{const{isElectron:e}=this.props;e?this.showElectronWarningDialog():this.showWebWarningDialog()}),kr(this,"showElectronWarningDialog",()=>{require("electron").remote.dialog.showMessageBox({type:"warning",buttons:["Delete Notes","Cancel","Visit Web App"],title:"Unsynced Notes Detected",message:"Logging out will delete any unsynced notes. You can verify your synced notes by logging in to the Web App."},e=>{0===e?this.signOut():2===e&&Ut("https://app.simplenote.com")})}),kr(this,"showWebWarningDialog",()=>{confirm("Warning: Unsynced notes were detected.\n\nLogging out will delete any notes that have not synced. Check your connection and visit app.simplenote.com to verify synced notes.\n\nClick OK to delete unsynced notes and Log Out.")&&this.signOut()}),kr(this,"renderTabName",e=>e),kr(this,"renderTabContent",e=>{const{activateTheme:t,setLineLength:n,setNoteDisplay:o,setSortType:r,toggleSortOrder:i}=this.props,{settings:{theme:a,lineLength:s,noteDisplay:c,sortType:d,sortReversed:u,accountName:p}}=this.props,{analyticsEnabled:h}=this.props.appState.preferences;switch(e){case"account":return l.a.createElement("div",{className:"dialog-column settings-account"},l.a.createElement("h3",{className:"panel-title theme-color-fg-dim"},"Account"),l.a.createElement("div",{className:"settings-items theme-color-border"},l.a.createElement("div",{className:"settings-item theme-color-border"},l.a.createElement("span",{className:"settings-account-name"},p))),l.a.createElement("ul",{className:"dialog-actions"},l.a.createElement("li",null,l.a.createElement("button",{type:"button",className:"button button button-borderless",onClick:this.onEditAccount},"Edit Account ",l.a.createElement(er,null))),l.a.createElement("li",null,l.a.createElement(_r,{title:"Privacy",slug:"shareAnalytics",activeSlug:h?"enabled":"",description:"Help us improve Simplenote by sharing usage data with our analytics tool.",onChange:this.onToggleShareAnalyticsPreference,learnMoreURL:"https://automattic.com/cookies",renderer:vr},l.a.createElement(yr,{title:"Share analytics",slug:"enabled"}))),l.a.createElement("li",null,l.a.createElement("button",{type:"button",className:"button button-primary",onClick:this.onSignOutRequested},"Log Out"))));case"display":return l.a.createElement("div",{className:"dialog-column settings-display"},l.a.createElement(_r,{title:"Note display",slug:"noteDisplay",activeSlug:c,onChange:o,renderer:br},l.a.createElement(yr,{title:"Comfy",slug:"comfy"}),l.a.createElement(yr,{title:"Condensed",slug:"condensed"}),l.a.createElement(yr,{title:"Expanded",slug:"expanded"})),l.a.createElement(_r,{title:"Line length",slug:"lineLength",activeSlug:s,onChange:n,renderer:br},l.a.createElement(yr,{title:"Narrow",slug:"narrow"}),l.a.createElement(yr,{title:"Full",slug:"full"})),l.a.createElement(_r,{title:"Sort type",slug:"sortType",activeSlug:d,onChange:r,renderer:br},l.a.createElement(yr,{title:"Last modified",slug:"modificationDate"}),l.a.createElement(yr,{title:"Last created",slug:"creationDate"}),l.a.createElement(yr,{title:"Alphabetical",slug:"alphabetical"})),l.a.createElement(_r,{title:"Sort order",slug:"sortOrder",activeSlug:u?"reversed":"",onChange:i,renderer:vr},l.a.createElement(yr,{title:"Reversed",slug:"reversed"})),l.a.createElement(_r,{title:"Theme",slug:"theme",activeSlug:a,onChange:t,renderer:br},l.a.createElement(yr,{title:"Light",slug:"light"}),l.a.createElement(yr,{title:"Dark",slug:"dark"})))}})}render(){const{dialog:e}=this.props;return l.a.createElement(hr,xr({className:"settings",title:"Settings",tabs:Er,onDone:this.onDone,renderTabName:this.renderTabName,renderTabContent:this.renderTabContent},e))}}kr(Sr,"propTypes",{actions:d.a.object.isRequired,appState:d.a.object.isRequired,onSignOut:d.a.func.isRequired,isElectron:d.a.bool.isRequired,onSetWPToken:d.a.func.isRequired,preferencesBucket:d.a.object.isRequired,toggleShareAnalyticsPreference:d.a.func.isRequired});const{toggleShareAnalyticsPreference:Cr}=z.actionCreators;var Nr=Object(p.connect)(null,e=>({onSetWPToken:t=>e(ae(t)),toggleShareAnalyticsPreference:t=>{e(Cr(t))}}))(Sr),Or=n(85),Tr=n.n(Or);function Rr(){return(Rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Dr=["collaborate","publish"];class Ir extends s.Component{constructor(...e){super(...e),jr(this,"onDone",()=>this.props.actions.closeDialog({key:this.props.dialog.key})),jr(this,"onTogglePublished",e=>{this.props.actions.publishNote({noteBucket:this.props.noteBucket,note:this.props.appState.note,publish:e.currentTarget.checked})}),jr(this,"copyPublishURL",()=>{this.publishUrlElement.select();try{document.execCommand("copy")}catch(e){return}this.copyUrlElement.focus()}),jr(this,"getPublishURL",e=>Object(h.isEmpty)(e)?null:`http://simp.ly/p/${e}`),jr(this,"onAddCollaborator",e=>{const{note:t}=this.props.appState,n=t.data&&t.data.tags||[],o=this.collaboratorElement.value.trim();e.preventDefault(),this.collaboratorElement.value="",""!==o&&-1===n.indexOf(o)&&this.props.actions.updateNoteTags({noteBucket:this.props.noteBucket,tagBucket:this.props.tagBucket,note:t,tags:[...n,o]})}),jr(this,"onRemoveCollaborator",e=>{const{note:t}=this.props.appState;let n=t.data&&t.data.tags||[];n=n.filter(t=>t!==e),this.props.actions.updateNoteTags({noteBucket:this.props.noteBucket,tagBucket:this.props.tagBucket,note:t,tags:n})}),jr(this,"collaborators",()=>{const{note:e}=this.props.appState,t=(e.data&&e.data.tags||[]).filter(y);return t.reverse(),t}),jr(this,"gravatarURL",e=>{const t=Tr()("md5");return t.update(e.trim().toLowerCase()),`https://secure.gravatar.com/avatar/${t.digest().toString("hex").toLowerCase()}.jpg?s=68`}),jr(this,"renderTabName",e=>e),jr(this,"renderTabContent",e=>{const{note:t}=this.props.appState,n=t&&t.data||{},o=Object(h.includes)(n.systemTags,"published"),r=this.getPublishURL(n.publishURL);switch(e){case"collaborate":return l.a.createElement("div",{className:"dialog-column share-collaborate"},l.a.createElement("div",{className:"settings-group"},l.a.createElement("p",null,"Add an email address of another Simplenote user to share a note. You'll both be able to edit and view the note. You can also add the email as a tag."),l.a.createElement("div",{className:"settings-items theme-color-border"},l.a.createElement("form",{className:"settings-item theme-color-border",onSubmit:this.onAddCollaborator},l.a.createElement("input",{ref:e=>this.collaboratorElement=e,type:"email",pattern:"[^@]+@[^@]+",className:"settings-item-text-input transparent-input",placeholder:"email@example.com",spellCheck:!1}),l.a.createElement("div",{className:"settings-item-control"},l.a.createElement("button",{type:"submit",className:"button button-borderless"},"Add Email"))))),l.a.createElement("div",{className:"settings-group"},l.a.createElement("h3",{className:"panel-title theme-color-border"},"Collaborators"),l.a.createElement("ul",{className:"share-collaborators"},this.collaborators().map(e=>l.a.createElement("li",{key:e,className:"share-collaborator"},l.a.createElement("span",{className:"share-collaborator-photo"},l.a.createElement("img",{src:this.gravatarURL(e),width:"34",height:"34"})),l.a.createElement("span",{className:"share-collaborator-name"},e),l.a.createElement("button",{className:"share-collaborator-remove button button-borderless button-danger",onClick:this.onRemoveCollaborator.bind(this,e)},"Remove"))))));case"publish":return l.a.createElement("div",{className:"dialog-column share-publish"},l.a.createElement("div",{className:"settings-group"},l.a.createElement("div",{className:"settings-items theme-color-border"},l.a.createElement("label",{htmlFor:"settings-field-public",className:"settings-item theme-color-border"},l.a.createElement("div",{className:"settings-item-label"},"Make public link"),l.a.createElement("div",{className:"settings-item-control"},l.a.createElement(Je,{id:"settings-field-public",onChange:this.onTogglePublished,checked:o})))),l.a.createElement("p",null,"Ready to share your note with the world? Anyone with the public link will be able to view the latest version.")),o&&l.a.createElement("div",{className:"settings-group"},l.a.createElement("h3",{className:"panel-title"},"Public link"),l.a.createElement("div",{className:"settings-items theme-color-border"},l.a.createElement("div",{className:"settings-item theme-color-border"},l.a.createElement("input",{ref:e=>this.publishUrlElement=e,className:"settings-item-text-input transparent-input",placeholder:o?"Publishing note":"Note not published",value:r,spellCheck:!1}),l.a.createElement("div",{className:"settings-item-control"},l.a.createElement("button",{ref:e=>this.copyUrlElement=e,disabled:!r,type:"button",className:"button button-borderless",onClick:this.copyPublishURL},"Copy")))),r&&l.a.createElement("p",null,"Note published!")))}})}render(){const{dialog:e}=this.props;return l.a.createElement(hr,Rr({className:"settings",title:"Share",tabs:Dr,onDone:this.onDone,renderTabName:this.renderTabName,renderTabContent:this.renderTabContent},e))}}jr(Ir,"propTypes",{actions:d.a.object.isRequired,dialog:d.a.object.isRequired,noteBucket:d.a.object.isRequired,appState:d.a.object.isRequired,tagBucket:d.a.object.isRequired});var Pr=Ir;function Lr(){return(Lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Ar(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const zr=e=>{const{appProps:t,isElectron:n}=e,o=(e,o)=>{const{params:r}=e,i=Ar(e,["params"]),s=a[e.type];if(null===s)throw new Error("Unknown dialog type.");return l.a.createElement(s,Lr({dialog:i},t,{key:o,params:r,isElectron:n}))};return 0===e.dialogs.length?null:l.a.createElement("div",{className:"dialogs"},(()=>{const{dialogs:t}=e;return Object(h.flowRight)(h.compact,h.concat,h.map)(t,(e,t)=>[e.modal&&l.a.createElement("div",{key:"overlay",className:"dialogs-overlay",onClick:null}),o(e,t)])})())};zr.propTypes={appProps:d.a.object.isRequired,dialogs:d.a.array.isRequired,isElectron:d.a.bool.isRequired};var Fr=zr;function Mr(){return l.a.createElement("svg",{className:"icon-new-note",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22"},l.a.createElement("path",{d:"M19 10v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7v2H5v12h12v-7h2zm3-7h-3V0h-2v3h-3v2h3v3h2V5h3V3zm-7 5H7v2h8V8zm0 4H7v2h8v-2z"}))}function Br(){return l.a.createElement("svg",{className:"icon-cross-small",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22"},l.a.createElement("path",{d:"M16.707 6.707l-1.414-1.414L11 9.586 6.707 5.293 5.293 6.707 9.586 11l-4.293 4.293 1.414 1.414L11 12.414l4.293 4.293 1.414-1.414L12.414 11z"}))}function Ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{search:Wr,setSearchFocus:qr}=z.actionCreators,{recordEvent:Hr}=j.tracks,$r=27;class Vr extends s.Component{constructor(...e){super(...e),Ur(this,"interceptEsc",({keyCode:e})=>$r===e?this.clearQuery():null),Ur(this,"storeInput",e=>this.inputField=e),Ur(this,"update",({target:{value:e}})=>this.props.onSearch(e)),Ur(this,"clearQuery",()=>this.props.onSearch(""))}componentDidUpdate(){const{searchFocus:e,onSearchFocused:t}=this.props;e&&this.inputField&&(this.inputField.select(),this.inputField.focus(),t())}render(){const{placeholder:e,query:t}=this.props,n=Xe()("search-field",{"has-query":t&&t.length>0});return l.a.createElement("div",{className:n},l.a.createElement("input",{ref:this.storeInput,type:"text",placeholder:e,onChange:this.update,onKeyUp:this.interceptEsc,value:t,spellCheck:!1}),l.a.createElement("div",{onClick:this.clearQuery},l.a.createElement(Br,null)))}}Ur(Vr,"displayName","SearchField"),Ur(Vr,"propTypes",{placeholder:d.a.string.isRequired,query:d.a.string.isRequired,searchFocus:d.a.bool.isRequired,onSearch:d.a.func.isRequired,onSearchFocused:d.a.func.isRequired});var Kr=Object(p.connect)(({appState:e})=>({query:e.filter,placeholder:e.listTitle,searchFocus:e.searchFocus}),e=>({onSearch:t=>{e(Wr({filter:t})),Hr("list_notes_searched")},onSearchFocused:()=>e(qr({searchFocus:!1}))}))(Vr);function Zr(){return l.a.createElement("svg",{className:"icon-tags",xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22"},l.a.createElement("path",{d:"M20 5v5.172l-7 7L7.828 12l7-7H20m2-2h-8l-9 9 8 8 9-9V3zM3.763 13.237L2.525 12l1.237-1.237L11.525 3H9l-9 9 8 8 1.263-1.263-5.5-5.5zM17.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"}))}const{newNote:Yr,search:Xr,toggleNavigation:Gr}=z.actionCreators,{recordEvent:Qr}=j.tracks,Jr=({onNewNote:e,onToggleNavigation:t,query:n,showTrash:o})=>l.a.createElement("div",{className:"search-bar theme-color-border"},l.a.createElement(So,{icon:l.a.createElement(Zr,null),onClick:t,title:"Tags"}),l.a.createElement(Kr,null),l.a.createElement(So,{disabled:o,icon:l.a.createElement(Mr,null),onClick:()=>e(w(n)),title:"New Note"}));Jr.displayName="SearchBar";var ei,ti,ni=Object(p.connect)(({appState:e})=>({query:e.filter,showTrash:e.showTrash}),(e,{noteBucket:t})=>({onNewNote:n=>{e(Xr({filter:""})),e(Yr({noteBucket:t,content:n})),Qr("list_note_created")},onToggleNavigation:()=>e(Gr())}))(Jr);function oi(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){ii(e,t,n[t])})}return e}function ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let ai=function(){try{return require("electron").ipcRenderer}catch(e){return{on:h.noop,removeListener:h.noop,send:h.noop}}}(),si=null;const li=(()=>{const e=Object(h.has)(window,"process.type");return e&&(si=require("fs")),()=>e})();var ci=we(Object(p.connect)(e=>ri({},e,{authIsPending:ge.auth.authIsPending(e),isAuthorized:ge.auth.isAuthorized(e)}),function(e,{noteBucket:t}){const n=Object.assign({},z.actionCreators),o=o=>r=>{e(o(r)),e(n.loadNotes({noteBucket:t}))};return ri({actions:Object(u.bindActionCreators)(n,e)},Object(u.bindActionCreators)(Object(h.pick)(r,["activateTheme","decreaseFontSize","increaseFontSize","resetFontSize","setLineLength","setNoteDisplay","setMarkdown","setAccountName","toggleFocusMode","toggleSpellCheck"]),e),{setSortType:o(oe),toggleSortOrder:o(ne),openTagList:()=>e(n.toggleNavigation()),resetAuth:()=>e(ue.auth.reset()),setAuthorized:()=>e(ue.auth.setAuthorized()),setSearchFocus:()=>e(n.setSearchFocus({searchFocus:!0}))})})((ti=ei=class extends s.Component{constructor(...e){super(...e),ii(this,"handleShortcut",e=>{const{ctrlKey:t,key:n,metaKey:o}=e,r=t||o;return r&&"T"===n&&!this.state.showNavigation?(this.props.openTagList(),e.stopPropagation(),e.preventDefault(),!1):!r||"f"!==n||(this.props.setSearchFocus(),e.stopPropagation(),e.preventDefault(),!1)}),ii(this,"onAppCommand",(e,t)=>{if("exportZipArchive"===Object(h.get)(t,"action"))return Ce().then(Ae).then(e=>e.generateAsync({compression:"DEFLATE",platform:Object(h.get)(window,"process.platform","DOS"),type:"base64"})).then(e=>si.writeFile(t.filename,e,"base64",h.noop)).catch(console.log);if(Object(h.overEvery)(h.isObject,e=>null!==e.action,e=>Object(h.has)(this.props.actions,e.action)||Object(h.has)(this.props,e.action))(t))if("newNote"===t.action)this.props.actions.newNote({noteBucket:this.props.noteBucket}),D.a.tracks.recordEvent("list_note_created");else if(Object(h.has)(this.props,t.action)){const{action:e}=t,n=oi(t,["action"]);this.props[e](...Object(h.values)(n))}else this.props.actions[t.action](t)}),ii(this,"onAuthChanged",()=>{const{actions:e,appState:{accountName:t},client:n,resetAuth:o,setAuthorized:r}=this.props;if(e.authChanged(),!n.isAuthorized())return e.closeNote(),o();r(),D.a.initialize(t)}),ii(this,"onNotePrinted",()=>this.props.actions.setShouldPrintNote({shouldPrint:!1})),ii(this,"onNotesIndex",()=>this.props.actions.loadNotes({noteBucket:this.props.noteBucket})),ii(this,"onNoteRemoved",()=>this.onNotesIndex()),ii(this,"onNoteUpdate",(e,t,n,o,r)=>this.props.actions.noteUpdated({noteBucket:this.props.noteBucket,noteId:e,data:t,original:n,patch:o,isIndexing:r})),ii(this,"onLoadPreferences",e=>this.props.actions.loadPreferences({callback:e,preferencesBucket:this.props.preferencesBucket})),ii(this,"onTagsIndex",()=>this.props.actions.loadTags({tagBucket:this.props.tagBucket})),ii(this,"initializeElectron",()=>{const e=require("electron").remote;this.setState({electron:{currentWindow:e.getCurrentWindow(),Menu:e.Menu}})}),ii(this,"onUpdateContent",(e,t)=>this.props.actions.updateNoteContent({noteBucket:this.props.noteBucket,note:e,content:t})),ii(this,"onUpdateNoteTags",(e,t)=>this.props.actions.updateNoteTags({noteBucket:this.props.noteBucket,tagBucket:this.props.tagBucket,note:e,tags:t})),ii(this,"getPreviousNoteIndex",e=>{const t=N(this.props.appState);return Math.max(t.findIndex(function(t){return e.id===t.id})-1,0)}),ii(this,"toggleShortcuts",e=>{e?window.addEventListener("keydown",this.handleShortcut,!0):window.removeEventListener("keydown",this.handleShortcut,!0)}),ii(this,"loadPreferences",()=>{this.props.actions.loadPreferences({preferencesBucket:this.props.preferencesBucket})})}componentWillMount(){li()&&this.initializeElectron(),this.onAuthChanged()}componentDidMount(){ai.on("appCommand",this.onAppCommand),ai.send("settingsUpdate",this.props.settings),this.props.noteBucket.on("index",this.onNotesIndex).on("update",this.onNoteUpdate).on("remove",this.onNoteRemoved),this.props.preferencesBucket.on("update",this.onLoadPreferences),this.props.tagBucket.on("index",this.onTagsIndex).on("update",this.onTagsIndex).on("remove",this.onTagsIndex),this.props.client.on("authorized",this.onAuthChanged).on("unauthorized",this.onAuthChanged),this.onNotesIndex(),this.onTagsIndex(),this.onLoadPreferences(()=>D.a.tracks.recordEvent("application_opened")),this.toggleShortcuts(!0)}componentWillUnmount(){this.toggleShortcuts(!1),ai.removeListener("appCommand",this.onAppCommand)}componentDidUpdate(e){this.props.settings!==e.settings&&ai.send("settingsUpdate",this.props.settings)}render(){const{appState:e,authIsPending:t,isAuthorized:n,noteBucket:o,settings:r,tagBucket:i,isSmallScreen:a}=this.props,s=Object(h.matchesProperty)("process.platform","darwin")(window),c=N(e),d=c.length>0,u=e.note||(!a&&d?c[0]:null),p=Boolean(a&&e.note||!a&&u),f=Xe()("app",`theme-${r.theme}`,{"is-line-length-full":"full"===r.lineLength,"touch-enabled":"ontouchstart"in document.body}),m=Xe()("simplenote-app",{"note-info-open":e.showNoteInfo,"navigation-open":e.showNavigation,"is-electron":li(),"is-macos":s});return l.a.createElement("div",{className:f},n?l.a.createElement("div",{className:m},e.showNavigation&&l.a.createElement(lo,{noteBucket:o,tagBucket:i}),l.a.createElement(qo,{isFocusMode:r.focusModeEnabled,isNavigationOpen:e.showNavigation,isNoteOpen:p,isNoteInfoOpen:e.showNoteInfo,note:u,noteBucket:o,revisions:e.revisions,onUpdateContent:this.onUpdateContent,searchBar:l.a.createElement(ni,{noteBucket:o}),noteList:l.a.createElement(Lt,{noteBucket:o,isSmallScreen:a}),noteEditor:l.a.createElement(An,{allTags:e.tags,filter:e.filter,onUpdateNoteTags:this.onUpdateNoteTags,shouldPrint:e.shouldPrint,onNotePrinted:this.onNotePrinted})}),e.showNoteInfo&&l.a.createElement(ct,{noteBucket:o})):l.a.createElement(Jo,{authPending:t,isAuthenticated:n,onAuthenticate:this.props.onAuthenticate,onCreateUser:this.props.onCreateUser,authorizeUserWithToken:this.props.authorizeUserWithToken,isMacApp:s,isElectron:li()}),l.a.createElement(Fr,{appProps:this.props,dialogs:this.props.appState.dialogs,isElectron:li()}))}},ii(ei,"displayName","App"),ii(ei,"propTypes",{actions:d.a.object.isRequired,appState:d.a.object.isRequired,settings:d.a.object.isRequired,client:d.a.object.isRequired,noteBucket:d.a.object.isRequired,preferencesBucket:d.a.object.isRequired,tagBucket:d.a.object.isRequired,onAuthenticate:d.a.func.isRequired,onCreateUser:d.a.func.isRequired,onSignOut:d.a.func.isRequired,authorizeUserWithToken:d.a.func.isRequired}),ii(ei,"defaultProps",{onAuthenticate:()=>{},onCreateUser:()=>{},onSignOut:()=>{}}),ti))),di=n(84),ui=n(80),pi=n.n(ui),hi=n(79),fi=n.n(hi);var mi=Object(u.combineReducers)({authStatus:(e=W,{type:t,status:n})=>"AUTH_SET"===t?n:e});var gi=Object(u.combineReducers)({accountName:(e=null,t)=>"setAccountName"!==t.type?e:t.accountName,focusModeEnabled:(e=!1,t)=>"setFocusMode"!==t.type?e:t.focusModeEnabled,fontSize:(e=16,{type:t,fontSize:n=16})=>"setFontSize"!==t?e:Object(h.clamp)(n,10,30),lineLength:(e="narrow",t)=>"setLineLength"!==t.type?e:t.lineLength,markdownEnabled:(e=!1,t)=>"setMarkdownEnabled"!==t.type?e:t.markdownEnabled,noteDisplay:(e="comfy",t)=>"setNoteDisplay"!==t.type?e:t.noteDisplay,sortType:(e="modificationDate",t)=>"setSortType"!==t.type?e:t.sortType,sortReversed:(e=!1,t)=>"setSortReversed"!==t.type?e:t.sortReversed,spellCheckEnabled:(e=!0,t)=>"setSpellCheck"!==t.type?e:t.spellCheckEnabled,theme:(e="light",t)=>"setTheme"!==t.type?e:t.theme,wpToken:(e=!1,t)=>"setWPToken"!==t.type?e:t.token});const bi=["editor","noteList"];var vi=Object(u.combineReducers)({visiblePanes:(e=bi,{type:t,show:n})=>"TAG_DRAWER_TOGGLE"===t?n?Object(h.union)(e,["tagDrawer"]):Object(h.difference)(e,["tagDrawer"]):e});const yi=Object(u.combineReducers)({appState:z.reducer.bind(z),auth:mi,settings:gi,ui:vi});var wi=Object(u.createStore)(yi,Object(u.compose)(fi()("settings",{key:"simpleNote",slicer:e=>t=>({[e]:Object(h.omit)(t[e],"focusModeEnabled")})}),Object(u.applyMiddleware)(pi.a))),_i=n(78);n(103);function xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{newNote:ki}=z.actionCreators,Ei=Ko()(),Si=Object(_i.parse)(document.cookie),Ci=new I.Auth(Ei.app_id,Ei.app_key),Ni=Si.token||localStorage.access_token,Oi=Ei.app_id;!Ni&&Ei.is_app_engine&&(window.location="https://web.simplenote.com/signin"),Si.token&&Si.email&&wi.dispatch(ie(decodeURIComponent(Si.email)));const Ti=Object(di.a)({appID:Oi,token:Ni,bucketConfig:{note:{beforeIndex:function(e){var t=e.data&&e.data.systemTags||[];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){xi(e,t,n[t])})}return e}({},e,{contentKey:(e.data&&e.data.content||"").replace(/\s+/g," ").trim().slice(0,200).toLowerCase(),pinned:-1!==t.indexOf("pinned")})},configure:function(e){e.createIndex("modificationDate","data.modificationDate"),e.createIndex("creationDate","data.creationDate"),e.createIndex("alphabetical","contentKey")}},preferences:function(e){console.log("Configure preferences",e)},tag:function(e){console.log("Configure tag",e)}},database:"simplenote",version:41}),Ri=e=>(function(){console.log.apply(console,[e].concat([].slice.call(arguments)))});Ti.on("connect",Ri("Connected")).on("disconnect",Ri("Not connected")).on("unauthorized",Ri("Not authorized")),Ti.on("unauthorized",()=>{Ni||Ti.reset().then(()=>{console.log("Reset complete")})});const ji=document.createElement("div");document.body.appendChild(ji);let Di={client:Ti,noteBucket:Ti.bucket("note"),preferencesBucket:Ti.bucket("preferences"),tagBucket:Ti.bucket("tag"),onAuthenticate:(e,t)=>{e&&t&&(wi.dispatch(V()),Ci.authorize(e,t).then(t=>{if(!t.access_token)return wi.dispatch(q);wi.dispatch(ie(e)),wi.dispatch(K()),localStorage.access_token=t.access_token,Ti.setUser(t),D.a.tracks.recordEvent("user_signed_in")}).catch(({message:e})=>{Object(h.some)(["invalid password"===e,e.startsWith("unknown username:")])?wi.dispatch(H()):wi.dispatch($())}))},onCreateUser:(e,t)=>{e&&t&&(wi.dispatch(V()),Ci.create(e,t,"simplenote.com").then(t=>{if(!t.access_token)return wi.dispatch(q);wi.dispatch(ie(e)),wi.dispatch(K()),localStorage.setItem("access_token",t.access_token),Ti.setUser(t),D.a.tracks.recordEvent("user_signed_in")}).then(()=>wi.dispatch(ki({noteBucket:Ti.bucket("note"),content:"Welcome to Simplenote!\n \nTo create a new note, click on the new note button.\n \nTo search your notes, type in the search bar and enter any text. Simplenote will show you matching results instantly.\n \nGot a really important note? Open the note info bar and press the 'Pin to top' button to pin it to the top of the list.\n \nUse tags to help organize your notes. Look for the tag bar at the bottom of the note editor.\n \nDeleted notes go in the trash. You can restore them if you want, or empty the trash to get rid of them forever.\n \nYou can access your notes on the web and your other devices. Go to https://app.simplenote.com to get started.\n \nWe hope you enjoy using Simplenote!"}))).catch(()=>{wi.dispatch($())}))},onSignOut:()=>{delete localStorage.access_token,wi.dispatch(ie(null)),Ti.deauthorize(),Ei.is_app_engine&&(document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="token=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",window.location="/"),D.a.tracks.recordEvent("user_signed_out")},authorizeUserWithToken:(e,t)=>{localStorage.setItem("access_token",t),wi.dispatch(ie(e)),wi.dispatch(K());const n={access_token:t};Ti.setUser(n),D.a.tracks.recordEvent("user_signed_in")}};Object(ze.render)(l.a.createElement(p.Provider,{store:wi},l.a.createElement(ci,Di)),ji)},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,t,n){var o={},r=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),i=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),a=null,s=0,l=[],c=n(97);function d(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(g(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(g(r.parts[a],t));o[r.id]={id:r.id,refs:1,parts:s}}}}function u(e,t){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function p(e,t){var n=i(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=l[l.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=i(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function f(e){var t=document.createElement("style");return e.attrs.type="text/css",m(t,e.attrs),p(e,t),t}function m(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function g(e,t){var n,o,r,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var l=s++;n=a||(a=f(t)),o=v.bind(null,n,l,!1),r=v.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",m(t,e.attrs),p(e,t),t}(t),o=function(e,t,n){var o=n.css,r=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||i)&&(o=c(o));r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([o],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),r=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=f(t),o=function(e,t){var n=t.css,o=t.media;o&&e.setAttribute("media",o);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){h(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=u(e,t);return d(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}e&&d(u(e,t),t);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function v(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=b(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t,n){(e.exports=n(26)(!1)).push([e.i,"/*\n\nOrginal Style from ethanschoonover.com/solarized (c) Jeremy Hull <sourdrums@gmail.com>\n\n*/\n\n.hljs {\n  display: block;\n  overflow-x: auto;\n  padding: 0.5em;\n  background: #002b36;\n  color: #839496;\n}\n\n.hljs-comment,\n.hljs-quote {\n  color: #586e75;\n}\n\n/* Solarized Green */\n.hljs-keyword,\n.hljs-selector-tag,\n.hljs-addition {\n  color: #859900;\n}\n\n/* Solarized Cyan */\n.hljs-number,\n.hljs-string,\n.hljs-meta .hljs-meta-string,\n.hljs-literal,\n.hljs-doctag,\n.hljs-regexp {\n  color: #2aa198;\n}\n\n/* Solarized Blue */\n.hljs-title,\n.hljs-section,\n.hljs-name,\n.hljs-selector-id,\n.hljs-selector-class {\n  color: #268bd2;\n}\n\n/* Solarized Yellow */\n.hljs-attribute,\n.hljs-attr,\n.hljs-variable,\n.hljs-template-variable,\n.hljs-class .hljs-title,\n.hljs-type {\n  color: #b58900;\n}\n\n/* Solarized Orange */\n.hljs-symbol,\n.hljs-bullet,\n.hljs-subst,\n.hljs-meta,\n.hljs-meta .hljs-keyword,\n.hljs-selector-attr,\n.hljs-selector-pseudo,\n.hljs-link {\n  color: #cb4b16;\n}\n\n/* Solarized Red */\n.hljs-built_in,\n.hljs-deletion {\n  color: #dc322f;\n}\n\n.hljs-formula {\n  background: #073642;\n}\n\n.hljs-emphasis {\n  font-style: italic;\n}\n\n.hljs-strong {\n  font-weight: bold;\n}\n",""])},function(e,t,n){(e.exports=n(26)(!1)).push([e.i,"/*\n\nOrginal Style from ethanschoonover.com/solarized (c) Jeremy Hull <sourdrums@gmail.com>\n\n*/\n\n.hljs {\n  display: block;\n  overflow-x: auto;\n  padding: 0.5em;\n  background: #fdf6e3;\n  color: #657b83;\n}\n\n.hljs-comment,\n.hljs-quote {\n  color: #93a1a1;\n}\n\n/* Solarized Green */\n.hljs-keyword,\n.hljs-selector-tag,\n.hljs-addition {\n  color: #859900;\n}\n\n/* Solarized Cyan */\n.hljs-number,\n.hljs-string,\n.hljs-meta .hljs-meta-string,\n.hljs-literal,\n.hljs-doctag,\n.hljs-regexp {\n  color: #2aa198;\n}\n\n/* Solarized Blue */\n.hljs-title,\n.hljs-section,\n.hljs-name,\n.hljs-selector-id,\n.hljs-selector-class {\n  color: #268bd2;\n}\n\n/* Solarized Yellow */\n.hljs-attribute,\n.hljs-attr,\n.hljs-variable,\n.hljs-template-variable,\n.hljs-class .hljs-title,\n.hljs-type {\n  color: #b58900;\n}\n\n/* Solarized Orange */\n.hljs-symbol,\n.hljs-bullet,\n.hljs-subst,\n.hljs-meta,\n.hljs-meta .hljs-keyword,\n.hljs-selector-attr,\n.hljs-selector-pseudo,\n.hljs-link {\n  color: #cb4b16;\n}\n\n/* Solarized Red */\n.hljs-built_in,\n.hljs-deletion {\n  color: #dc322f;\n}\n\n.hljs-formula {\n  background: #eee8d5;\n}\n\n.hljs-emphasis {\n  font-style: italic;\n}\n\n.hljs-strong {\n  font-weight: bold;\n}\n",""])},function(e,t,n){(e.exports=n(26)(!1)).push([e.i,'/**\n * Draft v0.10.5\n *\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n.DraftEditor-editorContainer,.DraftEditor-root,.public-DraftEditor-content{height:inherit;text-align:initial}.public-DraftEditor-content[contenteditable=true]{-webkit-user-modify:read-write-plaintext-only}.DraftEditor-root{position:relative}.DraftEditor-editorContainer{background-color:rgba(255,255,255,0);border-left:.1px solid transparent;position:relative;z-index:1}.public-DraftEditor-block{position:relative}.DraftEditor-alignLeft .public-DraftStyleDefault-block{text-align:left}.DraftEditor-alignLeft .public-DraftEditorPlaceholder-root{left:0;text-align:left}.DraftEditor-alignCenter .public-DraftStyleDefault-block{text-align:center}.DraftEditor-alignCenter .public-DraftEditorPlaceholder-root{margin:0 auto;text-align:center;width:100%}.DraftEditor-alignRight .public-DraftStyleDefault-block{text-align:right}.DraftEditor-alignRight .public-DraftEditorPlaceholder-root{right:0;text-align:right}.public-DraftEditorPlaceholder-root{color:#9197a3;position:absolute;z-index:1}.public-DraftEditorPlaceholder-hasFocus{color:#bdc1c9}.DraftEditorPlaceholder-hidden{display:none}.public-DraftStyleDefault-block{position:relative;white-space:pre-wrap}.public-DraftStyleDefault-ltr{direction:ltr;text-align:left}.public-DraftStyleDefault-rtl{direction:rtl;text-align:right}.public-DraftStyleDefault-listLTR{direction:ltr}.public-DraftStyleDefault-listRTL{direction:rtl}.public-DraftStyleDefault-ol,.public-DraftStyleDefault-ul{margin:16px 0;padding:0}.public-DraftStyleDefault-depth0.public-DraftStyleDefault-listLTR{margin-left:1.5em}.public-DraftStyleDefault-depth0.public-DraftStyleDefault-listRTL{margin-right:1.5em}.public-DraftStyleDefault-depth1.public-DraftStyleDefault-listLTR{margin-left:3em}.public-DraftStyleDefault-depth1.public-DraftStyleDefault-listRTL{margin-right:3em}.public-DraftStyleDefault-depth2.public-DraftStyleDefault-listLTR{margin-left:4.5em}.public-DraftStyleDefault-depth2.public-DraftStyleDefault-listRTL{margin-right:4.5em}.public-DraftStyleDefault-depth3.public-DraftStyleDefault-listLTR{margin-left:6em}.public-DraftStyleDefault-depth3.public-DraftStyleDefault-listRTL{margin-right:6em}.public-DraftStyleDefault-depth4.public-DraftStyleDefault-listLTR{margin-left:7.5em}.public-DraftStyleDefault-depth4.public-DraftStyleDefault-listRTL{margin-right:7.5em}.public-DraftStyleDefault-unorderedListItem{list-style-type:square;position:relative}.public-DraftStyleDefault-unorderedListItem.public-DraftStyleDefault-depth0{list-style-type:disc}.public-DraftStyleDefault-unorderedListItem.public-DraftStyleDefault-depth1{list-style-type:circle}.public-DraftStyleDefault-orderedListItem{list-style-type:none;position:relative}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-listLTR:before{left:-36px;position:absolute;text-align:right;width:30px}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-listRTL:before{position:absolute;right:-36px;text-align:left;width:30px}.public-DraftStyleDefault-orderedListItem:before{content:counter(ol0) ". ";counter-increment:ol0}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-depth1:before{content:counter(ol1) ". ";counter-increment:ol1}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-depth2:before{content:counter(ol2) ". ";counter-increment:ol2}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-depth3:before{content:counter(ol3) ". ";counter-increment:ol3}.public-DraftStyleDefault-orderedListItem.public-DraftStyleDefault-depth4:before{content:counter(ol4) ". ";counter-increment:ol4}.public-DraftStyleDefault-depth0.public-DraftStyleDefault-reset{counter-reset:ol0}.public-DraftStyleDefault-depth1.public-DraftStyleDefault-reset{counter-reset:ol1}.public-DraftStyleDefault-depth2.public-DraftStyleDefault-reset{counter-reset:ol2}.public-DraftStyleDefault-depth3.public-DraftStyleDefault-reset{counter-reset:ol3}.public-DraftStyleDefault-depth4.public-DraftStyleDefault-reset{counter-reset:ol4}',""])},function(e,t,n){(t=e.exports=n(26)(!1)).i(n(101),""),t.i(n(100),""),t.i(n(99),""),t.push([e.i,'/*! normalize.css v3.0.2 | MIT License | git.io/normalize */\n/**\n * 1. Set default font family to sans-serif.\n * 2. Prevent iOS text size adjust after orientation change, without disabling\n *    user zoom.\n */\nhtml {\n  font-family: sans-serif;\n  /* 1 */\n  -ms-text-size-adjust: 100%;\n  /* 2 */\n  -webkit-text-size-adjust: 100%;\n  /* 2 */ }\n\n/**\n * Remove default margin.\n */\nbody {\n  margin: 0; }\n\n/* HTML5 display definitions\n   ========================================================================== */\n/**\n * Correct `block` display not defined for any HTML5 element in IE 8/9.\n * Correct `block` display not defined for `details` or `summary` in IE 10/11\n * and Firefox.\n * Correct `block` display not defined for `main` in IE 11.\n */\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmain,\nmenu,\nnav,\nsection,\nsummary {\n  display: block; }\n\n/**\n * 1. Correct `inline-block` display not defined in IE 8/9.\n * 2. Normalize vertical alignment of `progress` in Chrome, Firefox, and Opera.\n */\naudio,\ncanvas,\nprogress,\nvideo {\n  display: inline-block;\n  /* 1 */\n  vertical-align: baseline;\n  /* 2 */ }\n\n/**\n * Prevent modern browsers from displaying `audio` without controls.\n * Remove excess height in iOS 5 devices.\n */\naudio:not([controls]) {\n  display: none;\n  height: 0; }\n\n/**\n * Address `[hidden]` styling not present in IE 8/9/10.\n * Hide the `template` element in IE 8/9/11, Safari, and Firefox < 22.\n */\n[hidden],\ntemplate {\n  display: none; }\n\n/* Links\n   ========================================================================== */\n/**\n * Remove the gray background color from active links in IE 10.\n */\na {\n  background-color: transparent; }\n\n/**\n * Improve readability when focused and also mouse hovered in all browsers.\n */\na:active,\na:hover {\n  outline: 0; }\n\n/* Text-level semantics\n   ========================================================================== */\n/**\n * Address styling not present in IE 8/9/10/11, Safari, and Chrome.\n */\nabbr[title] {\n  border-bottom: 1px dotted; }\n\n/**\n * Address style set to `bolder` in Firefox 4+, Safari, and Chrome.\n */\nb,\nstrong {\n  font-weight: bold; }\n\n/**\n * Address styling not present in Safari and Chrome.\n */\ndfn {\n  font-style: italic; }\n\n/**\n * Address variable `h1` font-size and margin within `section` and `article`\n * contexts in Firefox 4+, Safari, and Chrome.\n */\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0; }\n\n/**\n * Address styling not present in IE 8/9.\n */\nmark {\n  background: #ff0;\n  color: #000; }\n\n/**\n * Address inconsistent and variable font size in all browsers.\n */\nsmall {\n  font-size: 80%; }\n\n/**\n * Prevent `sub` and `sup` affecting `line-height` in all browsers.\n */\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline; }\n\nsup {\n  top: -0.5em; }\n\nsub {\n  bottom: -0.25em; }\n\n/* Embedded content\n   ========================================================================== */\n/**\n * Remove border when inside `a` element in IE 8/9/10.\n */\nimg {\n  border: 0; }\n\n/**\n * Correct overflow not hidden in IE 9/10/11.\n */\nsvg:not(:root) {\n  overflow: hidden; }\n\n/* Grouping content\n   ========================================================================== */\n/**\n * Address margin not present in IE 8/9 and Safari.\n */\nfigure {\n  margin: 1em 40px; }\n\n/**\n * Address differences between Firefox and other browsers.\n */\nhr {\n  box-sizing: content-box;\n  height: 0; }\n\n/**\n * Contain overflow in all browsers.\n */\npre {\n  overflow: auto; }\n\n/**\n * Address odd `em`-unit font size rendering in all browsers.\n */\ncode,\nkbd,\npre,\nsamp {\n  font-family: monospace, monospace;\n  font-size: 1em; }\n\n/* Forms\n   ========================================================================== */\n/**\n * Known limitation: by default, Chrome and Safari on OS X allow very limited\n * styling of `select`, unless a `border` property is set.\n */\n/**\n * 1. Correct color not being inherited.\n *    Known issue: affects color of disabled elements.\n * 2. Correct font properties not being inherited.\n * 3. Address margins set differently in Firefox 4+, Safari, and Chrome.\n */\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  color: inherit;\n  /* 1 */\n  font: inherit;\n  /* 2 */\n  margin: 0;\n  /* 3 */ }\n\n/**\n * Address `overflow` set to `hidden` in IE 8/9/10/11.\n */\nbutton {\n  overflow: visible; }\n\n/**\n * Address inconsistent `text-transform` inheritance for `button` and `select`.\n * All other form control elements do not inherit `text-transform` values.\n * Correct `button` style inheritance in Firefox, IE 8/9/10/11, and Opera.\n * Correct `select` style inheritance in Firefox.\n */\nbutton,\nselect {\n  text-transform: none; }\n\n/**\n * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`\n *    and `video` controls.\n * 2. Correct inability to style clickable `input` types in iOS.\n * 3. Improve usability and consistency of cursor style between image-type\n *    `input` and others.\n */\nbutton,\nhtml input[type="button"],\ninput[type="reset"],\ninput[type="submit"] {\n  -webkit-appearance: button;\n  /* 2 */\n  cursor: pointer;\n  /* 3 */ }\n\n/**\n * Re-set default cursor for disabled elements.\n */\nbutton[disabled],\nhtml input[disabled] {\n  cursor: default; }\n\n/**\n * Remove inner padding and border in Firefox 4+.\n */\nbutton::-moz-focus-inner,\ninput::-moz-focus-inner {\n  border: 0;\n  padding: 0; }\n\n/**\n * Address Firefox 4+ setting `line-height` on `input` using `!important` in\n * the UA stylesheet.\n */\ninput {\n  line-height: normal; }\n\n/**\n * It\'s recommended that you don\'t attempt to style these elements.\n * Firefox\'s implementation doesn\'t respect box-sizing, padding, or width.\n *\n * 1. Address box sizing set to `content-box` in IE 8/9/10.\n * 2. Remove excess padding in IE 8/9/10.\n */\ninput[type="checkbox"],\ninput[type="radio"] {\n  box-sizing: border-box;\n  /* 1 */\n  padding: 0;\n  /* 2 */ }\n\n/**\n * Fix the cursor style for Chrome\'s increment/decrement buttons. For certain\n * `font-size` values of the `input`, it causes the cursor style of the\n * decrement button to change from `default` to `text`.\n */\ninput[type="number"]::-webkit-inner-spin-button,\ninput[type="number"]::-webkit-outer-spin-button {\n  height: auto; }\n\n/**\n * 1. Address `appearance` set to `searchfield` in Safari and Chrome.\n * 2. Address `box-sizing` set to `border-box` in Safari and Chrome\n *    (include `-moz` to future-proof).\n */\ninput[type="search"] {\n  -webkit-appearance: textfield;\n  /* 1 */\n  /* 2 */\n  box-sizing: content-box; }\n\n/**\n * Remove inner padding and search cancel button in Safari and Chrome on OS X.\n * Safari (but not Chrome) clips the cancel button when the search input has\n * padding (and `textfield` appearance).\n */\ninput[type="search"]::-webkit-search-cancel-button,\ninput[type="search"]::-webkit-search-decoration {\n  -webkit-appearance: none; }\n\n/**\n * Define consistent border, margin, and padding.\n */\nfieldset {\n  border: 1px solid #c0c0c0;\n  margin: 0 2px;\n  padding: 0.35em 0.625em 0.75em; }\n\n/**\n * 1. Correct `color` not being inherited in IE 8/9/10/11.\n * 2. Remove padding so people aren\'t caught out if they zero out fieldsets.\n */\nlegend {\n  border: 0;\n  /* 1 */\n  padding: 0;\n  /* 2 */ }\n\n/**\n * Remove default vertical scrollbar in IE 8/9/10/11.\n */\ntextarea {\n  overflow: auto; }\n\n/**\n * Don\'t inherit the `font-weight` (applied by a rule above).\n * NOTE: the default cannot safely be changed in Chrome and Safari on OS X.\n */\noptgroup {\n  font-weight: bold; }\n\n/* Tables\n   ========================================================================== */\n/**\n * Remove most spacing between table cells.\n */\ntable {\n  border-collapse: collapse;\n  border-spacing: 0; }\n\ntd,\nth {\n  padding: 0; }\n\n*,\n*:before,\n*:after {\n  cursor: default;\n  box-sizing: border-box; }\n\na[href^=\'http://\'],\na[href^=\'https://\'] {\n  cursor: pointer; }\n\nhtml,\nbody {\n  height: 100%;\n  user-select: none; }\n\nbody {\n  margin: 0;\n  font: 14px/1.5 -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen-Sans", "Ubuntu", "Cantarell", "Helvetica Neue", sans-serif;\n  overflow: hidden;\n  -webkit-touch-callout: none; }\n\nimg,\nsvg {\n  vertical-align: middle; }\n\na {\n  color: #4895d9; }\n\nb,\nstrong,\noptgroup {\n  font-weight: 600; }\n\n.app {\n  display: flex;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%; }\n\n.simplenote-app {\n  display: flex;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  transform: translateX(0px);\n  transition: transform 200ms ease-in-out; }\n  .simplenote-app.note-info-open {\n    transform: translateX(-268px); }\n  .simplenote-app.navigation-open {\n    transform: translateX(216px); }\n\n.panel-title {\n  margin: 0;\n  text-transform: uppercase;\n  font-size: 86%;\n  color: #575e65; }\n\n.is-macos .note-toolbar-wrapper {\n  box-sizing: border-box;\n  -webkit-app-region: drag;\n  padding: 40px 0 30px; }\n\n.is-macos .search-bar {\n  padding: 40px 15px 30px;\n  box-sizing: border-box;\n  -webkit-app-region: drag; }\n\n.is-macos .note-toolbar-placeholder {\n  height: 71px;\n  -webkit-app-region: drag; }\n\n.is-macos .navigation,\n.is-macos .note-info {\n  padding-top: 10px; }\n\n.is-macos .button,\n.is-macos .search-field {\n  -webkit-app-region: no-drag; }\n\n.is-macos .revision-selector {\n  -webkit-app-region: drag; }\n\n.search-match {\n  background-color: #4895d9;\n  border-radius: 3px;\n  padding-left: 2px;\n  padding-right: 2px;\n  color: #fff; }\n\n::-webkit-scrollbar {\n  width: 14px;\n  background: transparent; }\n\n::-webkit-scrollbar-corner {\n  background: transparent; }\n\n::-webkit-scrollbar-thumb {\n  background: #dbdee0;\n  border-radius: 100px;\n  border: 4px solid #fff; }\n\n::-webkit-scrollbar-thumb:hover {\n  background-color: #c0c4c8; }\n\n::-webkit-scrollbar-thumb:active {\n  background: #a4abb1;\n  border-radius: 100px; }\n\n.app-layout {\n  display: flex;\n  flex: 1 0 auto; }\n  .app-layout.is-focus-mode.is-note-open .app-layout__source-column {\n    overflow: hidden;\n    opacity: 0.25;\n    width: 0;\n    transition: width .2s ease-in-out, opacity .2s ease-in-out; }\n  .app-layout.is-navigation-open {\n    opacity: 0.25;\n    transition: all 0.2s ease-in-out;\n    pointer-events: none; }\n    @media only screen and (max-width: 750px) {\n      .app-layout.is-navigation-open .app-layout__note-column {\n        opacity: 0; } }\n  .app-layout.is-showing-note-info {\n    opacity: 0.25;\n    transition: all 0.2s ease-in-out;\n    pointer-events: none; }\n    @media only screen and (max-width: 750px) {\n      .app-layout.is-showing-note-info .app-layout__note-column {\n        opacity: 0.25; } }\n  .app-layout.is-note-open .app-layout__source-column {\n    transition: opacity .2s ease-in-out; }\n  @media only screen and (max-width: 750px) {\n    .app-layout.is-note-open .app-layout__source-column {\n      opacity: 0;\n      pointer-events: none; }\n    .app-layout.is-note-open .app-layout__note-column {\n      opacity: 1;\n      z-index: auto; } }\n\n.app-layout__source-column {\n  width: 328px;\n  display: flex;\n  flex-direction: column;\n  transition: transform 200ms ease-in-out; }\n  @media only screen and (max-width: 900px) {\n    .app-layout__source-column {\n      width: 300px; } }\n  @media only screen and (max-width: 750px) {\n    .app-layout__source-column {\n      flex: none;\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      transition: all 200ms ease-in-out;\n      opacity: 1;\n      pointer-events: auto; } }\n\n.app-layout__note-column {\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto; }\n  @media only screen and (max-width: 750px) {\n    .app-layout__note-column {\n      position: absolute;\n      flex: none;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n      opacity: 0;\n      z-index: -1;\n      transition: all 200ms ease-in-out; } }\n\n.login {\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n  justify-content: center;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch; }\n  .login .login__draggable-area {\n    -webkit-app-region: drag;\n    width: 100%;\n    height: 40px;\n    top: 0;\n    left: 0;\n    position: absolute; }\n  .login .login__form {\n    max-width: 320px;\n    margin: auto;\n    padding: 10px; }\n  .login .login__logo {\n    margin-bottom: 50px;\n    text-align: center; }\n    .login .login__logo svg {\n      border-radius: 50%;\n      border: 1px solid #dbdee0; }\n  .login .login__fields {\n    border: 1px solid #cdd1d4;\n    border-radius: 3px; }\n  .login .login__field {\n    display: flex;\n    align-items: center;\n    padding: 1px;\n    border-bottom: 1px solid #dbdee0; }\n    .login .login__field:last-child {\n      border-bottom: none; }\n    .login .login__field .login__field-label {\n      flex: none;\n      width: 7.5em;\n      padding: 8px 12px;\n      font-size: 13px;\n      font-weight: 600;\n      text-transform: uppercase;\n      color: #899199; }\n    .login .login__field .login__field-control {\n      flex: 1 1 auto; }\n    .login .login__field input {\n      width: 100%;\n      height: 2em;\n      line-height: 1.5em;\n      padding: 0.25em 0.15em;\n      border: none;\n      font-size: 143%;\n      font-weight: 300; }\n    .login .login__field input:focus {\n      position: relative;\n      z-index: 1;\n      outline: none; }\n  .login .login__auth-message {\n    opacity: 0;\n    margin-top: 8px;\n    margin-bottom: 0; }\n    .login .login__auth-message.is-error {\n      color: #d94f4f;\n      text-align: center;\n      opacity: 1;\n      transition: opacity 0.5s ease-in-out; }\n  .login .login__actions {\n    margin-top: 22px;\n    text-align: center;\n    color: #899199; }\n  .login .button-primary {\n    width: 100%;\n    min-height: 47px;\n    display: flex;\n    justify-content: center;\n    align-items: center; }\n  .login .login__forgot a {\n    color: inherit;\n    text-decoration: none; }\n  .login .login__signup {\n    margin-top: 1em; }\n    .login .login__signup a {\n      font-weight: 600; }\n\n.login__or {\n  text-align: center;\n  margin: 20px 0 12px; }\n\n.login__btn-wpcom button {\n  color: #899199;\n  width: 100%; }\n\n.login__btn-wpcom-icon svg {\n  margin-right: 6px;\n  width: 32px;\n  height: 32px; }\n  .login__btn-wpcom-icon svg path {\n    fill: #4895d9; }\n\n.theme-dark .login__logo svg {\n  border-radius: 0;\n  border: none; }\n\n@keyframes rotate-spinner__right {\n  0% {\n    transform: rotate(0deg); }\n  25% {\n    transform: rotate(180deg); }\n  50% {\n    transform: rotate(180deg); }\n  75% {\n    transform: rotate(360deg); }\n  100% {\n    transform: rotate(360deg); } }\n\n@keyframes rotate-spinner__left {\n  0% {\n    transform: rotate(0deg); }\n  25% {\n    transform: rotate(0deg); }\n  50% {\n    transform: rotate(180deg); }\n  75% {\n    transform: rotate(180deg); }\n  100% {\n    transform: rotate(360deg); } }\n\n.spinner.is-fallback {\n  position: relative;\n  border-radius: 100%;\n  background-color: #87bae6; }\n  .spinner.is-fallback::before, .spinner.is-fallback::after {\n    content: \'\';\n    position: absolute;\n    background-color: #fff;\n    border-radius: 50%; }\n  .spinner.is-fallback::before {\n    width: 90%;\n    height: 90%;\n    top: 5%;\n    left: 5%; }\n  .spinner.is-fallback::after {\n    width: 70%;\n    height: 70%;\n    top: 15%;\n    left: 15%; }\n\n.spinner__image {\n  display: block; }\n\n.spinner__border {\n  fill: #87bae6; }\n\n.spinner__progress {\n  animation: 3s linear infinite;\n  transform-origin: 50px 50px;\n  fill: #fff; }\n\n.spinner.is-fallback .spinner__progress {\n  position: absolute;\n  overflow: hidden;\n  width: 50%;\n  height: 100%;\n  animation: none; }\n  .spinner.is-fallback .spinner__progress::before {\n    content: \'\';\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    animation: 3s linear infinite;\n    border-radius: 9999px;\n    background-color: #fff;\n    fill: none; }\n  .spinner.is-fallback .spinner__progress.is-left {\n    left: 0; }\n    .spinner.is-fallback .spinner__progress.is-left::before {\n      left: 100%;\n      border-top-left-radius: 0;\n      border-bottom-left-radius: 0;\n      transform-origin: 0 50%; }\n  .spinner.is-fallback .spinner__progress.is-right {\n    left: 50%; }\n    .spinner.is-fallback .spinner__progress.is-right::before {\n      left: -100%;\n      border-top-right-radius: 0;\n      border-bottom-right-radius: 0;\n      transform-origin: 100% 50%; }\n\n.spinner__progress.is-left,\n.spinner.is-fallback .spinner__progress.is-left::before {\n  animation-name: rotate-spinner__left; }\n\n.spinner__progress.is-right,\n.spinner.is-fallback .spinner__progress.is-right::before {\n  animation-name: rotate-spinner__right; }\n\n.tag-chip {\n  flex: none;\n  margin: 2px 12px 3px 0;\n  padding: 1px 14px 3px 14px;\n  border-radius: 14px;\n  line-height: 1.25em;\n  white-space: nowrap;\n  background: #dbdee0;\n  color: #575e65;\n  text-decoration: none;\n  font-size: 14px;\n  -webkit-tap-highlight-color: transparent; }\n  .tag-chip.selected, .tag-chip:hover {\n    background: #899199;\n    color: #fff; }\n\n.theme-dark .tag-chip {\n  background: #4b5157;\n  color: #a4abb1; }\n  .theme-dark .tag-chip.selected {\n    background: #a4abb1;\n    color: #404549; }\n\n.checkbox-control {\n  -webkit-touch-callout: none;\n  width: 16px;\n  height: 16px;\n  position: relative;\n  display: inline-block;\n  vertical-align: middle;\n  overflow: hidden; }\n  .checkbox-control input {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    /* hide the checkbox */\n    margin: 0;\n    padding: 0;\n    opacity: 0;\n    border: none;\n    outline: none;\n    background: none;\n    -webkit-appearance: none;\n            appearance: none; }\n  .checkbox-control .checkbox-control-base,\n  .checkbox-control .checkbox-control-checked {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%; }\n  .checkbox-control .checkbox-control-base {\n    pointer-events: none;\n    border-radius: 50%;\n    overflow: hidden;\n    border: 1px solid #c0c4c8; }\n  .checkbox-control .checkbox-control-checked {\n    background: #4ab866;\n    transition: all 0.15s ease;\n    opacity: 0; }\n  .checkbox-control input:checked + .checkbox-control-base {\n    border: none; }\n    .checkbox-control input:checked + .checkbox-control-base .checkbox-control-checked {\n      opacity: 1; }\n\n.toggle-control {\n  -webkit-touch-callout: none;\n  position: relative;\n  display: inline-block;\n  width: 24px;\n  height: 16px;\n  vertical-align: middle;\n  overflow: hidden; }\n  .toggle-control input {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    /* hide the checkbox */\n    margin: 0;\n    padding: 0;\n    opacity: 0;\n    border: none;\n    outline: none;\n    background: none;\n    -webkit-appearance: none;\n            appearance: none; }\n  .toggle-control .toggle-control-layers {\n    pointer-events: none; }\n  .toggle-control .toggle-control-layers,\n  .toggle-control .toggle-control-layer,\n  .toggle-control .toggle-control-unchecked-color,\n  .toggle-control .toggle-control-checked-color {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    border-radius: 8px; }\n  .toggle-control .toggle-control-unchecked-color {\n    background: #a4abb1; }\n  .toggle-control .toggle-control-checked-color {\n    background: #4ab866;\n    transition: all 0.2s ease-in-out;\n    opacity: 0; }\n  .toggle-control .toggle-control-knob {\n    display: block;\n    width: 12px;\n    height: 12px;\n    background: white;\n    border-radius: 8px;\n    transform: translate(2px, 2px);\n    transition: all 0.2s ease-in-out; }\n  .toggle-control input:checked + .toggle-control-layers .toggle-control-checked-color {\n    opacity: 1; }\n  .toggle-control input:checked + .toggle-control-layers .toggle-control-knob {\n    transform: translate(10px, 2px); }\n\n.dialogs {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1000; }\n\n.dialogs-overlay {\n  content: \' \';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(255, 255, 255, 0.75); }\n\n.dialog {\n  display: flex;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  padding: 10px;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch; }\n\n.dialog-box {\n  flex: 1 1 auto;\n  margin: auto;\n  background: white;\n  border-radius: 3px;\n  border: 1px solid #dbdee0;\n  box-shadow: 0 2px 4px 0 rgba(45, 48, 52, 0.15); }\n\n.theme-dark .dialog-box {\n  box-shadow: 0 2px 4px 0 rgba(28, 30, 32, 0.5); }\n\n.dialog-title-bar {\n  display: flex;\n  border-bottom: 1px solid #dbdee0; }\n\n.dialog-title-side {\n  display: flex;\n  flex: none;\n  width: 6.5em; }\n  .dialog-title-side button {\n    width: 100%;\n    margin: 0 auto; }\n\n.dialog-title-text {\n  flex: 1 1 auto;\n  margin: 15px 0;\n  text-align: center;\n  font-size: 1em; }\n\n.dialog-tabs {\n  border-bottom: 1px solid #dbdee0; }\n  .dialog-tabs ul {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin: 0;\n    padding: 0;\n    list-style: none; }\n  .dialog-tabs li {\n    margin: 0 0.5em; }\n  .dialog-tabs button {\n    border-top: 2px solid transparent;\n    border-bottom: 2px solid transparent;\n    padding: 0.75em 0.75em;\n    color: #6f7880;\n    text-transform: capitalize;\n    border-radius: 0; }\n  .dialog-tabs .dialog-tab-active {\n    color: #4895d9;\n    border-bottom-color: #4895d9; }\n\n.dialog-column {\n  max-width: 374px;\n  margin: 0 auto;\n  padding: 36px 10px 50px; }\n\n.dialog .panel-title {\n  margin-bottom: 0.5em;\n  font-size: 90%;\n  font-weight: 600; }\n\n.dialog-actions {\n  margin: 1em 0 0;\n  padding: 0;\n  list-style: none; }\n  .dialog-actions li + li {\n    margin-top: 1em; }\n  .dialog-actions li:last-child {\n    margin-top: 2.5em; }\n  .dialog-actions button {\n    width: 100%; }\n\n.about .dialog-box {\n  position: relative;\n  max-width: 472px; }\n\n.about .dialog-content {\n  padding: 30px 20px 20px; }\n\n.about a {\n  color: white;\n  text-decoration: none; }\n\n.theme-light .about .dialog-box,\n.theme-dark .about .dialog-box {\n  background: #4895d9;\n  color: white; }\n\n.about-top {\n  margin-bottom: 20px;\n  text-align: center; }\n  .about-top svg {\n    display: block;\n    margin: 0 auto 10px; }\n  .about-top h1 {\n    margin: 0;\n    line-height: 1.25em;\n    font-weight: 300; }\n  .about-top small {\n    font-size: 90%; }\n\n.about-links {\n  max-width: 315px;\n  margin: 0 auto;\n  padding: 0;\n  list-style: none;\n  line-height: normal; }\n  .about-links li {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.25); }\n    .about-links li:first-child {\n      border-top: 1px solid rgba(255, 255, 255, 0.25); }\n  .about-links a {\n    display: block;\n    width: 100%;\n    padding: 10px 2px;\n    font-weight: 300; }\n\n.about-links-title {\n  font-size: 143%;\n  font-weight: 300; }\n\n.about-bottom {\n  margin-top: 50px;\n  font-size: 90%;\n  text-align: center; }\n  .about-bottom p {\n    margin: 0.25em 0; }\n\n.about .about-done {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 20px; }\n  .about .about-done svg,\n  .about .about-done:active svg {\n    fill: white; }\n\n.settings .dialog-box {\n  max-width: 630px; }\n\n.settings .dialog-tab-content {\n  height: 30.5em;\n  overflow: auto;\n  -webkit-overflow-scrolling: touch; }\n  @media only screen and (max-width: 720px) and (max-height: 640px) {\n    .settings .dialog-tab-content {\n      height: auto; } }\n\n.settings .settings-account-name {\n  font-size: 115%;\n  text-align: center;\n  width: 100%; }\n\n.settings .settings-writing {\n  padding-top: 48px; }\n\n.settings-group {\n  margin-bottom: 50px; }\n  .settings-group:last-child {\n    margin-bottom: 0; }\n  .settings-group p {\n    line-height: normal;\n    color: #6f7880; }\n\n.settings-items {\n  border: 1px solid #dbdee0; }\n\n.settings-item {\n  display: flex;\n  align-items: center;\n  height: 3em;\n  padding-left: 18px;\n  padding-right: 18px;\n  border-bottom: 1px solid #dbdee0; }\n  .settings-item:last-child {\n    border-bottom: none; }\n  .settings-item .button-borderless {\n    padding-right: 0; }\n  .settings-item .settings-item-label {\n    flex: 1 1 auto;\n    align-items: center;\n    font-size: 115%; }\n  .settings-item .settings-item-control {\n    flex: none; }\n  .settings-item .settings-item-text-input {\n    display: block;\n    width: 100%;\n    height: 100%;\n    padding: 0.25em 0.15em;\n    border: none;\n    line-height: 1.5em;\n    font-size: 115%; }\n    .settings-item .settings-item-text-input:focus {\n      position: relative;\n      z-index: 1;\n      outline: none; }\n\n.share-collaborate .panel-title {\n  padding-bottom: 8px;\n  border-bottom: 1px solid #dbdee0; }\n\n.share-collaborators {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  line-height: 1.5em; }\n\n.share-collaborator {\n  display: flex;\n  align-items: center;\n  margin: 20px 0; }\n  .share-collaborator .share-collaborator-photo {\n    flex: none;\n    margin-right: 10px;\n    width: 34px;\n    height: 34px;\n    border-radius: 50%;\n    overflow: hidden;\n    background: #dbdee0; }\n  .share-collaborator .share-collaborator-name {\n    flex: 1 1 auto;\n    font-size: 143%;\n    font-weight: 300;\n    line-height: 1.5em;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap; }\n  .share-collaborator .share-collaborator-remove {\n    flex: none;\n    margin-left: 10px;\n    opacity: 0;\n    transform: all 0.2s ease-in-out; }\n    .touch-enabled .share-collaborator .share-collaborator-remove {\n      opacity: 1; }\n  .share-collaborator:hover .share-collaborator-remove,\n  .share-collaborator .share-collaborator-remove:focus {\n    opacity: 1; }\n\n.editable-list {\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch;\n  margin: 0;\n  padding: 0;\n  list-style: none; }\n  .editable-list .editable-list-item {\n    display: flex;\n    flex: none;\n    padding: 0;\n    overflow: hidden;\n    white-space: nowrap;\n    -webkit-tap-highlight-color: transparent;\n    position: relative;\n    z-index: 10;\n    transition: all 0.2s ease-in-out; }\n    .editable-list .editable-list-item svg {\n      vertical-align: middle; }\n    .editable-list .editable-list-item .active {\n      color: #4895d9; }\n  .editable-list.editable-list-reordering .editable-list-item {\n    transition: none; }\n    .editable-list.editable-list-reordering .editable-list-item * {\n      cursor: ns-resize; }\n  .editable-list .editable-list-item-reordering {\n    z-index: 0; }\n  .editable-list .editable-list-item-left {\n    display: flex;\n    align-items: center;\n    flex: 1 0 auto;\n    transition: all 0.2s ease-in-out;\n    transform: translateX(0); }\n  .editable-list.editable-list-removable .editable-list-item-left {\n    transform: translateX(-24px); }\n  .editable-list .editable-list-item-content {\n    display: flex;\n    flex: 1 1 auto;\n    align-items: center; }\n  .editable-list .editable-list-trash,\n  .editable-list .editable-list-reorder {\n    flex: none;\n    opacity: 0;\n    pointer-events: none;\n    transition: all 0.2s ease-in-out; }\n    .editable-list .editable-list-trash svg,\n    .editable-list .editable-list-reorder svg {\n      transition: all 0.2s ease-in-out; }\n    .editable-list .editable-list-trash:focus,\n    .editable-list .editable-list-reorder:focus {\n      outline: none; }\n  .editable-list .editable-list-trash {\n    width: 22px;\n    margin-right: 4px; }\n    .editable-list .editable-list-trash svg {\n      fill: #d94f4f; }\n    .editable-list .editable-list-trash:focus svg {\n      fill: #a02222; }\n  .editable-list .editable-list-reorder {\n    display: flex;\n    align-items: center;\n    flex: none;\n    transform: translateX(24px); }\n    .editable-list .editable-list-reorder svg {\n      fill: #899199; }\n    .editable-list .editable-list-reorder:focus svg {\n      fill: #575e65; }\n  .editable-list.editable-list-editing .editable-list-item-left {\n    transform: translateX(-4px); }\n  .editable-list.editable-list-editing .editable-list-trash {\n    opacity: 1;\n    pointer-events: auto; }\n  .editable-list.editable-list-editing .editable-list-reorder {\n    opacity: 1;\n    pointer-events: auto;\n    transform: translateX(0); }\n\n.icon-button {\n  width: 32px;\n  height: 32px;\n  color: #4895d9; }\n  .icon-button svg {\n    transition: all 0.1s ease-in-out; }\n  .icon-button:disabled {\n    opacity: .4; }\n  .icon-button:active:not(:disabled) svg {\n    fill: #20619b; }\n\nsvg[class^=\'icon-\'] {\n  fill: currentColor; }\n\n.logo path {\n  fill: #4895d9; }\n\n.logo circle {\n  fill: #fff; }\n\n.navigation {\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: 0;\n  left: -216px;\n  width: 216px;\n  height: 100%;\n  overflow: hidden;\n  border-right: 1px solid #dbdee0;\n  background: white; }\n\n.navigation-folders {\n  flex: none;\n  padding: 10px 0; }\n\n.navigation-tags {\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n  flex: 0 1 auto;\n  overflow: hidden;\n  min-height: 9em;\n  padding: 12px 0 0;\n  border-top: 1px solid #dbdee0; }\n  .navigation-tags .tag-list-title {\n    padding: 8px 20px 0; }\n  .navigation-tags .editable-list-item {\n    padding: 0 5px 0 20px; }\n\n.navigation-tools {\n  flex: 1 0 auto;\n  padding: 10px 0;\n  border-top: 1px solid #dbdee0; }\n\n.navigation-footer {\n  display: flex;\n  flex: none;\n  justify-content: flex-start;\n  align-items: center;\n  padding: 0 20px 20px 20px;\n  color: #575e65; }\n\n.is-electron .navigation-tools,\n.is-electron .navigation-footer {\n  display: none; }\n\n.navigation-footer-item {\n  margin-right: 10px; }\n  .navigation-footer-item:last-child {\n    margin-right: 0; }\n\n.navigation-bar-item {\n  width: 100%;\n  padding: 4px 8px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  text-align: left; }\n  .navigation-bar-item svg {\n    fill: #899199; }\n  .navigation-bar-item.is-selected {\n    color: #4895d9; }\n    .navigation-bar-item.is-selected svg[class^=\'icon-\'] {\n      fill: #4895d9; }\n\n.navigation-bar-item__icon {\n  display: inline-block;\n  margin-right: .5em;\n  vertical-align: middle; }\n  .navigation-bar-item__icon svg {\n    vertical-align: middle;\n    position: relative;\n    top: -.2em; }\n\n.note-detail-wrapper {\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  border-left: 1px solid #dbdee0;\n  padding-top: 0; }\n\n.note-detail {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow-y: scroll;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  transition: all .3s ease-in-out; }\n  .note-detail.is-viewing-revisions {\n    padding-top: 51px; }\n  .note-detail div[data-contents] {\n    padding-bottom: 20px; }\n\n.note-detail-placeholder {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  flex: 1; }\n  .note-detail-placeholder .logo {\n    width: 140px;\n    height: 140px;\n    opacity: .2; }\n    .note-detail-placeholder .logo path {\n      fill: #899199; }\n  @media only screen and (max-width: 750px) {\n    .note-detail-placeholder {\n      display: none; } }\n\n.note-detail-textarea,\n.note-detail-markdown,\n.note-print {\n  width: 100%;\n  height: 100%;\n  max-width: 780px;\n  padding: 24px;\n  border: 0;\n  line-height: 1.5em;\n  font-size: 16px;\n  color: #575e65;\n  background: #fff;\n  resize: none;\n  -webkit-tap-highlight-color: transparent; }\n  .note-detail-textarea:focus,\n  .note-detail-markdown:focus,\n  .note-print:focus {\n    outline: none; }\n\n.is-line-length-full .note-detail-textarea,\n.is-line-length-full .note-detail-markdown {\n  max-width: none; }\n\n.note-detail-textarea {\n  min-height: 100%;\n  cursor: text; }\n  .note-detail-textarea div,\n  .note-detail-textarea span {\n    cursor: inherit; }\n  .note-detail-textarea::first-line {\n    font-size: 120%; }\n\n.note-detail-markdown {\n  overflow: visible;\n  -webkit-overflow-scrolling: touch; }\n  .note-detail-markdown p {\n    margin: 0 0 1.5em; }\n  .note-detail-markdown a {\n    overflow-wrap: break-word;\n    word-wrap: break-word; }\n  .note-detail-markdown img {\n    max-width: 100%;\n    height: auto; }\n\n.note-detail-markdown {\n  user-select: auto; }\n  .note-detail-markdown h1,\n  .note-detail-markdown h2,\n  .note-detail-markdown h3,\n  .note-detail-markdown h4,\n  .note-detail-markdown h5,\n  .note-detail-markdown h6 {\n    line-height: 1.15; }\n  .note-detail-markdown h1 {\n    font-weight: 300; }\n  .note-detail-markdown h5,\n  .note-detail-markdown h6 {\n    text-transform: uppercase; }\n  .note-detail-markdown hr {\n    border: 0;\n    border-top: 1px solid #c0c4c8; }\n  .note-detail-markdown blockquote {\n    font-style: italic;\n    border-left: 4px solid #c0c4c8;\n    margin-left: 0;\n    padding-left: 1em; }\n  .note-detail-markdown code {\n    font-size: 85%;\n    background: #f1f2f3; }\n  .note-detail-markdown pre {\n    border: 1px solid #c0c4c8;\n    padding: 1em;\n    border-radius: 3px; }\n  .note-detail-markdown pre code {\n    color: #6f7880;\n    background: transparent; }\n  .note-detail-markdown table {\n    border-collapse: collapse;\n    border-spacing: 0;\n    display: block;\n    width: 100%; }\n    .note-detail-markdown table tr:nth-child(2n) {\n      background-color: #f6f7f8; }\n    .note-detail-markdown table th, .note-detail-markdown table td {\n      border: 1px solid #c0c4c8;\n      padding: 6px 13px; }\n    .note-detail-markdown table th {\n      font-weight: 600; }\n\n.note-editor {\n  display: flex;\n  flex-direction: column;\n  flex: 1 0 auto; }\n\n.note-info {\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: 0;\n  left: 100%;\n  width: 268px;\n  height: 100%;\n  border-left: 1px solid #dbdee0;\n  overflow: auto;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch;\n  background: white; }\n  .note-info .note-info-panel {\n    flex: none;\n    padding: 20px;\n    border-bottom: 1px solid #dbdee0; }\n    .note-info .note-info-panel:last-child {\n      border: none; }\n  .note-info .note-info-header {\n    display: flex;\n    flex-direction: row;\n    align-items: center; }\n    .note-info .note-info-header h2 {\n      flex-grow: 1; }\n    .note-info .note-info-header button {\n      padding: 0; }\n  .note-info .note-info-item {\n    display: flex;\n    align-items: center;\n    margin-bottom: 2.25em; }\n    .note-info .note-info-item:last-child {\n      margin: 0; }\n  .note-info .note-info-item-text {\n    flex: 1 1 auto; }\n  .note-info .note-info-item-control {\n    flex: none;\n    width: 44px;\n    text-align: right; }\n  .note-info .note-info-detail {\n    color: #899199; }\n  .note-info .note-info-link-text {\n    width: 100%;\n    border: none;\n    padding: 0 8px 0 0;\n    text-overflow: ellipsis; }\n    .note-info .note-info-link-text:focus {\n      outline: none; }\n  .note-info .note-info-form {\n    display: flex; }\n  .note-info .note-info-copy-button {\n    padding: 0;\n    flex: 1 0 auto; }\n\n.note-list {\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  overflow: hidden; }\n  .note-list .condensed .note-list-item-excerpt {\n    display: none; }\n  .note-list .expanded .note-list-item-excerpt {\n    white-space: normal;\n    max-height: 88px; }\n  .note-list.is-empty {\n    align-items: center;\n    justify-content: center;\n    height: 100vh; }\n\n.note-list-placeholder {\n  color: #899199;\n  font-size: 1.3em; }\n\n.note-list-items {\n  flex: 1 1 auto;\n  overflow: auto;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch; }\n  .note-list-items div:focus {\n    outline: none; }\n\n.note-list-empty-trash {\n  flex: none;\n  padding: 10px 20px;\n  border-top: 1px solid #dbdee0;\n  text-align: center; }\n\n.note-list-item {\n  display: flex;\n  padding-left: 8px;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0); }\n  .note-list-item .note-list-item-pinner {\n    flex: none;\n    height: 14px;\n    width: 14px;\n    margin-right: 8px;\n    margin-top: 14px;\n    border-radius: 50%; }\n    .note-list-item .note-list-item-pinner:focus {\n      outline: none; }\n  .note-list-item:hover .note-list-item-pinner {\n    box-shadow: inset 0 0 0 2px #dbdee0, inset 0 0 0 3px #fff; }\n    .note-list-item:hover .note-list-item-pinner:hover {\n      background: #a4abb1; }\n  .note-list-item.note-list-item-pinned .note-list-item-pinner {\n    background: #2d3034;\n    box-shadow: inset 0 0 0 2px #c0c4c8, inset 0 0 0 3px #fff; }\n    .note-list-item.note-list-item-pinned .note-list-item-pinner:hover {\n      background: #dbdee0; }\n  .note-list-item.note-list-item-pinned.note-list-item-selected .note-list-item-pinner {\n    background: #4895d9;\n    box-shadow: inset 0 0 0 2px #b2d2ef, inset 0 0 0 3px #fff; }\n    .note-list-item.note-list-item-pinned.note-list-item-selected .note-list-item-pinner:hover {\n      background: #297cc5; }\n  .note-list-item .note-list-item-text {\n    flex: 1 1 auto;\n    overflow: hidden;\n    padding: 9px 0;\n    border-bottom: 1px solid #dbdee0; }\n    .note-list-item .note-list-item-text:focus {\n      outline: none; }\n  .note-list-item .note-list-item-title,\n  .note-list-item .note-list-item-excerpt {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden; }\n  .note-list-item.note-list-item-selected .note-list-item-title,\n  .note-list-item.note-list-item-selected .note-list-item-excerpt {\n    color: #4895d9; }\n  .note-list-item .note-list-item-published-icon {\n    margin-left: auto; }\n    .note-list-item .note-list-item-published-icon svg {\n      fill: #899199;\n      height: 12px;\n      width: 12px; }\n  .note-list-item .note-list-item-title {\n    display: flex;\n    font-size: 16px; }\n    .note-list-item .note-list-item-title span {\n      text-overflow: ellipsis;\n      overflow: hidden; }\n  .note-list-item .note-list-item-excerpt {\n    color: #899199; }\n\n.note-toolbar-wrapper {\n  display: flex;\n  justify-content: flex-end;\n  flex: none;\n  height: 56px;\n  border-bottom: 1px solid #dbdee0;\n  border-left: 1px solid #dbdee0; }\n\n.note-toolbar {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  padding: 0 15px; }\n\n.note-toolbar__column-left,\n.note-toolbar__column-right {\n  display: flex;\n  align-items: center; }\n\n@media only screen and (max-width: 750px) {\n  .note-toolbar__column-left {\n    display: none; }\n  .note-toolbar__column-right {\n    width: 100%;\n    justify-content: space-between; } }\n\n.note-toolbar__button {\n  flex: none;\n  margin-right: 14px;\n  text-align: center; }\n  .note-toolbar__button:last-child {\n    margin-right: 0; }\n\n.note-toolbar-back {\n  display: none; }\n  @media only screen and (max-width: 750px) {\n    .note-toolbar-back {\n      display: flex; } }\n\n.note-toolbar-trashed {\n  display: flex;\n  align-items: center;\n  padding: 10px 16px;\n  justify-content: flex-end; }\n  .note-toolbar-trashed .note-toolbar__button {\n    margin: 0 0 0 16px; }\n  .note-toolbar-trashed .basic-button,\n  .note-toolbar-trashed .button-primary {\n    border-width: 2px; }\n\n.note-toolbar-placeholder {\n  display: block;\n  height: 56px;\n  border-bottom: 1px solid #dbdee0; }\n\n.revision-selector {\n  background: #4895d9;\n  padding: 10px 20px 20px 20px;\n  color: #fff;\n  width: calc(100% - 328px);\n  z-index: 1000;\n  position: absolute;\n  height: 114px;\n  top: -114px;\n  transition: all 0.3s ease-in-out; }\n  .revision-selector.is-visible {\n    top: 0; }\n  @media only screen and (max-width: 750px) {\n    .revision-selector {\n      width: 100%; } }\n  .revision-selector .revision-buttons {\n    display: flex;\n    justify-content: center; }\n  .revision-selector .button-primary {\n    background: #fff;\n    color: #4895d9;\n    border-color: #fff; }\n    .revision-selector .button-primary:active {\n      background: #c7def3;\n      border-color: #c7def3; }\n  .revision-selector .button-secondary {\n    border-color: #fff;\n    color: #fff;\n    margin-right: 10px; }\n    .revision-selector .button-secondary:active {\n      background: #fff;\n      color: #4895d9; }\n  .revision-selector .revision-slider {\n    display: flex;\n    justify-content: center;\n    margin-bottom: 20px; }\n  .revision-selector input[type=\'range\'] {\n    width: 100%;\n    max-width: 625px;\n    -webkit-appearance: none;\n    background: #fff;\n    height: 2px;\n    border-radius: 5px;\n    outline: 0; }\n  .revision-selector input[type=\'range\']::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    background: #fff;\n    width: 17px;\n    height: 17px;\n    border-radius: 50%;\n    border: 2px solid #4895d9;\n    transition: 0.15s ease-in-out; }\n  .revision-selector input[type=\'range\']::-webkit-slider-thumb:active {\n    transform: scale(1.15); }\n  .revision-selector .revision-date {\n    width: 100%;\n    color: #fff;\n    text-align: center;\n    margin-bottom: 10px; }\n\n.search-bar {\n  flex: none;\n  height: 56px;\n  padding: 20px 15px;\n  border-bottom: 1px solid #dbdee0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center; }\n  .search-bar .button {\n    flex: none;\n    padding: 0;\n    width: 32px;\n    height: 32px; }\n\n.search-field {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  flex-grow: 1;\n  height: 1.75em;\n  margin: 0 12px;\n  border-radius: 50px;\n  border: 1px solid #dbdee0;\n  padding: 0 8px 1px 15px; }\n  .search-field input {\n    width: 100%;\n    border: none;\n    padding: 0;\n    -webkit-appearance: none;\n            appearance: none; }\n    .search-field input:focus {\n      outline: none; }\n  .search-field .icon-cross-small {\n    transition: all 200ms ease-in-out;\n    opacity: 0;\n    fill: #899199; }\n  .search-field.has-query .icon-cross-small {\n    opacity: 1; }\n\n.tag-email-tooltip {\n  position: absolute;\n  bottom: 40px;\n  padding: 5px 0;\n  max-width: 360px;\n  margin-left: 20px;\n  margin-right: 20px;\n  z-index: 100000;\n  opacity: 0.99999; }\n\n.tag-email-tooltip__arrow {\n  position: absolute;\n  width: 0;\n  height: 0;\n  border: solid transparent;\n  opacity: 0.75;\n  bottom: 0;\n  left: 50px;\n  margin-left: -5px;\n  border-width: 5px 5px 0;\n  border-top-color: #000; }\n\n.tag-email-tooltip__inside {\n  padding: 6px 8px;\n  color: #fff;\n  text-align: center;\n  border-radius: 3px;\n  background-color: #000;\n  opacity: 0.75; }\n\n.tag-field {\n  border-left: 1px solid #dbdee0; }\n\n.tag-editor {\n  display: flex;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  flex: 1 1 auto;\n  line-height: 1.75em;\n  white-space: nowrap;\n  overflow: visible;\n  max-height: 120px;\n  padding: 8px 12px; }\n  .tag-editor:focus {\n    outline: none; }\n  .tag-editor .hidden-tag {\n    width: 0;\n    height: 0;\n    border: 0;\n    padding: 0;\n    opacity: 0; }\n    .tag-editor .hidden-tag:focus {\n      outline: none; }\n\n.tag-input {\n  display: flex;\n  flex: 1 0 auto;\n  overflow: visible;\n  min-height: 26px; }\n  .tag-input input {\n    width: 100%;\n    height: 1.75em;\n    min-width: 140px;\n    outline: none;\n    font: 14px/1.5 -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen-Sans", "Ubuntu", "Cantarell", "Helvetica Neue", sans-serif;\n    color: #575e65;\n    background: transparent; }\n\n.tag-input__entry:empty:before {\n  content: attr(placeholder);\n  display: block;\n  color: #a4abb1; }\n\n.tag-input__entry b,\n.tag-input__entry strong {\n  font-weight: normal; }\n\n.tag-input__entry i,\n.tag-input__entry em {\n  font-style: normal; }\n\n.tag-input__entry:focus {\n  outline: none; }\n\n.tag-input__suggestion {\n  color: #a4abb1; }\n\n.tag-list {\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 auto;\n  overflow: hidden; }\n  .tag-list .tag-list-title {\n    display: flex;\n    flex: none;\n    justify-content: space-between;\n    align-items: center;\n    line-height: 1.25em;\n    margin-bottom: 0.25em; }\n    .tag-list .tag-list-title .tag-list-edit-toggle {\n      opacity: 0;\n      padding-right: 0; }\n      .touch-enabled .tag-list .tag-list-title .tag-list-edit-toggle {\n        opacity: 1; }\n  .tag-list:hover .tag-list-title .tag-list-edit-toggle, .tag-list.tag-list-editing .tag-list-title .tag-list-edit-toggle {\n    opacity: 1; }\n  .tag-list .tag-list-items {\n    flex: 1 1 auto; }\n  .tag-list .tag-list-input {\n    flex: 1 1 auto;\n    display: block;\n    width: 50px;\n    height: 2em;\n    line-height: 2em;\n    margin: 8px 0;\n    padding: 0;\n    border: none;\n    text-overflow: ellipsis;\n    font-size: 100%;\n    background: none;\n    -webkit-appearance: none;\n            appearance: none; }\n    .tag-list .tag-list-input:focus {\n      outline: none; }\n\n.tag-list-editing .tag-list-input {\n  cursor: text; }\n\ninput,\nbutton,\nselect,\ntextarea {\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit; }\n\ninput {\n  -webkit-tap-highlight-color: transparent; }\n  input[readonly] {\n    user-select: none; }\n\n.transparent-input {\n  color: inherit;\n  background-color: transparent; }\n  .transparent-input::placeholder {\n    color: #899199; }\n\n.focus-guard {\n  position: absolute;\n  left: -100px;\n  width: 0;\n  height: 0;\n  margin: 0;\n  padding: 0;\n  opacity: 0;\n  overflow: hidden;\n  pointer-events: none; }\n\nbutton {\n  background: transparent;\n  border: none;\n  outline: 0;\n  padding: 0;\n  cursor: default;\n  font-size: 14px;\n  -webkit-appearance: none;\n          appearance: none;\n  vertical-align: baseline; }\n\n.button {\n  display: inline-block;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  margin: 0;\n  outline: 0;\n  overflow: hidden;\n  text-decoration: none;\n  vertical-align: top;\n  transition: all 0.1s ease-in-out;\n  -webkit-tap-highlight-color: transparent;\n  background: transparent;\n  border-color: #4895d9;\n  border-style: solid;\n  border-width: 2px;\n  color: #4895d9;\n  font-size: 14px;\n  line-height: 1.5;\n  font-weight: 600;\n  border-radius: 3px;\n  padding: 8px 12px; }\n  .button:active, .button.active {\n    background: #4895d9;\n    color: #fff; }\n  .button[disabled], .button:disabled {\n    opacity: 0.5; }\n\n.button-primary {\n  background: #4895d9;\n  color: white; }\n  .button-primary:active, .button-primary.active {\n    background: #297cc5;\n    border-color: #297cc5; }\n\n.button-compact {\n  padding: 0.3em 18px;\n  line-height: 1.25em;\n  font-size: 90%; }\n\n.button-danger {\n  color: #d94f4f;\n  border-color: #d94f4f; }\n  .button-danger:active {\n    background: #d94f4f;\n    color: #fff; }\n\n.button-borderless {\n  border-width: 0;\n  background: transparent; }\n  .button-borderless svg[class^=\'icon-\'] {\n    transition: all 0.1s ease-in-out; }\n  .button-borderless:active {\n    color: #20619b;\n    background: transparent; }\n    .button-borderless:active svg[class^=\'icon-\'] {\n      fill: #20619b; }\n\n.button-borderless.button-danger:active {\n  color: #a02222; }\n\n.segmented-control {\n  display: flex;\n  flex-direction: row; }\n  .segmented-control .button-segmented-control {\n    border-radius: 0;\n    border-left-width: 0;\n    padding-left: 0;\n    padding-right: 0; }\n    .segmented-control .button-segmented-control:first-child {\n      border-left-width: 2px;\n      border-radius: 3px 0 0 3px; }\n    .segmented-control .button-segmented-control:last-child {\n      border-radius: 0 3px 3px 0; }\n\n.theme-light {\n  background-color: #fff;\n  color: #2d3034; }\n  .theme-light .theme-color-bg {\n    background-color: #fff; }\n  .theme-light .theme-color-bg-lighter {\n    background-color: #dbdee0; }\n  .theme-light .theme-color-fg {\n    color: #2d3034; }\n  .theme-light .theme-color-fg-dim {\n    color: #575e65; }\n  .theme-light .theme-color-border {\n    border-color: #dbdee0; }\n\n.theme-dark {\n  background-color: #2d3034;\n  color: #899199; }\n  .theme-dark .theme-color-bg {\n    background-color: #2d3034; }\n  .theme-dark .theme-color-bg-lighter {\n    background-color: #575e65; }\n  .theme-dark .theme-color-fg {\n    color: #dbdee0; }\n  .theme-dark .theme-color-fg-dim {\n    color: #c0c4c8; }\n  .theme-dark .theme-color-border {\n    border-color: #4b5157; }\n  .theme-dark .search-field {\n    border-color: #4b5157; }\n  .theme-dark ::-webkit-scrollbar-thumb {\n    background-color: #575e65;\n    border-color: #2d3034; }\n  .theme-dark ::-webkit-scrollbar-thumb:hover {\n    background-color: #6f7880; }\n  .theme-dark ::-webkit-scrollbar-thumb:active {\n    background-color: #899199; }\n  .theme-dark .button-borderless[disabled] svg[class^=\'icon-\'], .theme-dark .button-borderless:disabled svg[class^=\'icon-\'] {\n    fill: #404549; }\n  .theme-dark input,\n  .theme-dark textarea {\n    border-color: #4b5157;\n    color: #f1f2f3;\n    background-color: transparent; }\n  .theme-dark input::placeholder {\n    color: #899199; }\n  .theme-dark .transparent-input::placeholder {\n    color: #6f7880; }\n  .theme-dark .checkbox-control-base {\n    border-color: #575e65; }\n  .theme-dark .tag-field input {\n    background: transparent; }\n    .theme-dark .tag-field input::placeholder {\n      color: #a4abb1; }\n  .theme-dark .dialogs-overlay {\n    background: rgba(45, 48, 52, 0.75); }\n  .theme-dark .note-list-item:hover .note-list-item-pinner {\n    box-shadow: inset 0 0 0 2px #404549, inset 0 0 0 3px #2d3034; }\n    .theme-dark .note-list-item:hover .note-list-item-pinner:hover {\n      background: #6f7880; }\n  .theme-dark .note-list-item.note-list-item-pinned .note-list-item-pinner {\n    background: #fff;\n    box-shadow: inset 0 0 0 2px #6f7880, inset 0 0 0 3px #2d3034; }\n    .theme-dark .note-list-item.note-list-item-pinned .note-list-item-pinner:hover {\n      background: #404549; }\n  .theme-dark .note-list-item.note-list-item-pinned.note-list-item-selected .note-list-item-pinner {\n    background: #4895d9;\n    box-shadow: inset 0 0 0 2px #297cc5, inset 0 0 0 3px #2d3034; }\n    .theme-dark .note-list-item.note-list-item-pinned.note-list-item-selected .note-list-item-pinner:hover {\n      background: #72ade2; }\n  .theme-dark .note-detail-markdown { }\n    .theme-dark .note-detail-markdown hr {\n      border-color: #575e65; }\n    .theme-dark .note-detail-markdown blockquote {\n      border-color: #575e65; }\n    .theme-dark .note-detail-markdown code {\n      background: #404549; }\n    .theme-dark .note-detail-markdown pre {\n      border-color: #575e65; }\n    .theme-dark .note-detail-markdown pre code {\n      color: #899199;\n      background: transparent; }\n    .theme-dark .note-detail-markdown table th, .theme-dark .note-detail-markdown table td {\n      border-color: #575e65; }\n    .theme-dark .note-detail-markdown table tr:nth-child(2n) {\n      background-color: #383d41; }\n\n.theme-light .transparent-input,\n.theme-dark .transparent-input {\n  color: inherit;\n  background-color: transparent; }\n\n@media print {\n  html,\n  body,\n  .app-layout__note-column {\n    overflow: visible;\n    height: auto; }\n  .app,\n  .simplenote-app,\n  .app-layout__note-column {\n    display: block;\n    height: auto; }\n  .navigation,\n  .app-layout__source-column,\n  .revision-selector,\n  .note-toolbar-wrapper,\n  .note-detail-wrapper,\n  .note-detail-wrapper .note-detail,\n  .note-info,\n  .tag-field {\n    display: none; } }\n\n.note-print {\n  display: block;\n  max-width: 100%;\n  width: 100%;\n  padding: 5%;\n  color: #000;\n  overflow: visible;\n  white-space: pre-line; }\n',""])},function(e,t,n){var o=n(102);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(98)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){e.exports=n(4)("./node_modules/promise/index.js")},function(e){e.exports={name:"simplenote",description:"Light, clean, and free. Simplenote is modern note taking app available for iOS, Android, Mac, Windows, Linux, and the web.",author:{name:"Automattic, Inc.",email:"support@simplenote.com"},productName:"Simplenote",version:"1.1.7",main:"desktop/index.js",license:"GPL-2.0",homepage:"https://simplenote.com",scripts:{dev:"make dev",start:"make start NODE_ENV=development",test:"make test",lint:"make lint",format:"make format",build:"make build"},repository:{type:"git",url:"git://github.com/Automattic/simplenote-electron.git"},engines:{node:">= 7.9.0",npm:">= 6.4.0"},browserslist:["electron >=2"],jest:{globals:{config:{appVersion:"foo"}},roots:["desktop","lib"],setupTestFrameworkScriptFile:"<rootDir>setup-tests.js",testRegex:"(/test/.*\\.jsx?)|(test\\.jsx?)$"},prettier:{bracketSpacing:!0,singleQuote:!0,trailingComma:"es5"},devDependencies:{"@adlk/misty":"^0.1.0","@babel/core":"7.0.0","@babel/plugin-proposal-class-properties":"7.0.0","@babel/plugin-proposal-object-rest-spread":"7.0.0","@babel/preset-env":"7.0.0","@babel/preset-react":"7.0.0",ajv:"6.5.3",autoprefixer:"7.1.3","babel-core":"7.0.0-bridge.0","babel-eslint":"7.2.3","babel-loader":"8.0.0",classnames:"2.2.5",concurrently:"^4.0.1","css-loader":"0.28.9",electron:"2.0.8","electron-builder":"20.28.2","electron-packager":"9.1.0","electron-rebuild":"^1.8.2",enzyme:"3.5.0","enzyme-adapter-react-16.2":"1.1.0",eslint:"4.18.0","eslint-config-prettier":"2.9.0","eslint-loader":"2.0.0","eslint-plugin-jest":"21.12.1","eslint-plugin-prettier":"2.6.0","eslint-plugin-react":"7.6.1","hard-source-webpack-plugin":"0.12.0","html-webpack-plugin":"3.2.0",jest:"23.5.0","node-sass":"4.9.3","postcss-loader":"2.1.0",prettier:"1.10.2","react-dom":"16.2.0","react-onclickoutside":"6.7.1","react-test-renderer":"16.2.0","sass-loader":"6.0.6","style-loader":"0.20.2","wait-on":"^3.0.1",webpack:"4.5.0","webpack-cli":"2.0.14","webpack-dev-server":"3.1.3"},dependencies:{cookie:"0.3.1","create-hash":"1.1.3","crypto-random-string":"1.0.0","draft-js":"0.10.5","draft-js-simpledecorator":"1.0.2","electron-spellchecker":"^1.1.2","electron-window-state":"4.1.1","highlight.js":"9.12.0",isemail:"3.1.1",jszip:"3.1.5",lodash:"4.17.5",moment:"2.20.1",promise:"7.1.1","prop-types":"15.6.0",react:"16.2.0","react-addons-update":"15.6.2","react-overlays":"0.8.3","react-redux":"5.0.7","react-virtualized":"9.18.5",redux:"3.7.2","redux-localstorage":"0.4.1","redux-thunk":"2.2.0","sanitize-filename":"1.6.1",showdown:"1.8.6",simperium:"0.3.1","valid-url":"1.0.9"},optionalDependencies:{appdmg:"0.5.2"}}},function(e){e.exports={app_id:"chalk-bump-f49",app_key:"0",wpcc_client_id:"0",wpcc_redirect_url:"https://simplenote.com",is_app_engine:!0}},function(e,t,n){e.exports=n(4)("./node_modules/crypto-browserify/index.js")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(e);if(void 0===t)return n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:e.scrollLeft;n?n.scrollTo(t,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):e.scrollLeft=t};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(22));e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=function(e,t){var n,c={top:0,left:0};"fixed"===(0,l.default)(e,"position")?n=e.getBoundingClientRect():(t=t||(0,i.default)(e),n=(0,r.default)(e),"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(t)&&(c=(0,r.default)(t)),c.top+=parseInt((0,l.default)(t,"borderTopWidth"),10)-(0,a.default)(t)||0,c.left+=parseInt((0,l.default)(t,"borderLeftWidth"),10)-(0,s.default)(t)||0);return o({},n,{top:n.top-c.top-(parseInt((0,l.default)(e,"marginTop"),10)||0),left:n.left-c.left-(parseInt((0,l.default)(e,"marginLeft"),10)||0)})};var r=c(n(23)),i=c(n(54)),a=c(n(35)),s=c(n(108)),l=c(n(36));function c(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,i,a){var s="BODY"===i.tagName?(0,o.default)(n):(0,r.default)(n,i),c=(0,o.default)(t),d=c.height,u=c.width,p=void 0,h=void 0,f=void 0,m=void 0;if("left"===e||"right"===e){h=s.top+(s.height-d)/2,p="left"===e?s.left-u:s.left+s.width;var g=function(e,t,n,o){var r=l(n),i=r.scroll,a=r.height,s=e-o-i,c=e+o-i+t;return s<0?-s:c>a?a-c:0}(h,d,i,a);h+=g,m=50*(1-2*g/d)+"%",f=void 0}else{if("top"!==e&&"bottom"!==e)throw new Error('calcOverlayPosition(): No such placement of "'+e+'" found.');p=s.left+(s.width-u)/2,h="top"===e?s.top-d:s.top+s.height;var b=function(e,t,n,o){var r=l(n).width,i=e-o,a=e+o+t;if(i<0)return-i;if(a>r)return r-a;return 0}(p,u,i,a);p+=b,f=50*(1-2*b/u)+"%",m=void 0}return{positionLeft:p,positionTop:h,arrowOffsetLeft:f,arrowOffsetTop:m}};var o=s(n(23)),r=s(n(109)),i=s(n(35)),a=s(n(14));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=void 0,n=void 0,r=void 0;if("BODY"===e.tagName)t=window.innerWidth,n=window.innerHeight,r=(0,i.default)((0,a.default)(e).documentElement)||(0,i.default)(e);else{var s=(0,o.default)(e);t=s.width,n=s.height,r=(0,i.default)(e)}return{width:t,height:n,scroll:r}}e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=d(n(1)),i=d(n(47)),a=d(n(0)),s=d(n(34)),l=d(n(45)),c=d(n(44));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return r.handleHidden=function(){var e;(r.setState({exited:!0}),r.props.onExited)&&(e=r.props).onExited.apply(e,arguments)},r.state={exited:!n.show},r.onHiddenListener=r.handleHidden.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},t.prototype.render=function(){var e=this.props,t=e.container,n=e.containerPadding,o=e.target,r=e.placement,i=e.shouldUpdatePosition,d=e.rootClose,u=e.children,p=e.transition,h=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["container","containerPadding","target","placement","shouldUpdatePosition","rootClose","children","transition"]);if(!(h.show||p&&!this.state.exited))return null;var f=u;if(f=a.default.createElement(l.default,{container:t,containerPadding:n,target:o,placement:r,shouldUpdatePosition:i},f),p){var m=h.onExit,g=h.onExiting,b=h.onEnter,v=h.onEntering,y=h.onEntered;f=a.default.createElement(p,{in:h.show,appear:!0,onExit:m,onExiting:g,onExited:this.onHiddenListener,onEnter:b,onEntering:v,onEntered:y},f)}return d&&(f=a.default.createElement(c.default,{onRootClose:h.onHide},f)),a.default.createElement(s.default,{container:t},f)},t}(a.default.Component);u.propTypes=o({},s.default.propTypes,l.default.propTypes,{show:r.default.bool,rootClose:r.default.bool,onHide:function(e){var t=r.default.func;e.rootClose&&(t=t.isRequired);for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t.apply(void 0,[e].concat(o))},transition:i.default,onEnter:r.default.func,onEntering:r.default.func,onEntered:r.default.func,onExit:r.default.func,onExiting:r.default.func,onExited:r.default.func}),t.default=u,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=void 0;document.addEventListener?(document.addEventListener("focus",e,!0),t=function(){return document.removeEventListener("focus",e,!0)}):(document.attachEvent("onfocusin",e),t=function(){return document.detachEvent("onfocusin",e)});return{remove:t}},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var o=i(n(1)),r=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var a={children:o.default.node},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return this.props.children},t}(r.default.Component);s.propTypes=a,t.default=s,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var o=c(n(1)),r=c(n(21)),i=c(n(0)),a=c(n(10)),s=c(n(20)),l=c(n(14));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,c=Array(r),u=0;u<r;u++)c[u]=arguments[u];return n=o=d(this,e.call.apply(e,[this].concat(c))),o._mountOverlayTarget=function(){o._overlayTarget||(o._overlayTarget=document.createElement("div"),o._portalContainerNode=(0,s.default)(o.props.container,(0,l.default)(o).body),o._portalContainerNode.appendChild(o._overlayTarget))},o._unmountOverlayTarget=function(){o._overlayTarget&&(o._portalContainerNode.removeChild(o._overlayTarget),o._overlayTarget=null),o._portalContainerNode=null},o._renderOverlay=function(){var e=o.props.children?i.default.Children.only(o.props.children):null;if(null!==e){o._mountOverlayTarget();var t=!o._overlayInstance;o._overlayInstance=a.default.unstable_renderSubtreeIntoContainer(o,e,o._overlayTarget,function(){t&&o.props.onRendered&&o.props.onRendered()})}else o._unrenderOverlay(),o._unmountOverlayTarget()},o._unrenderOverlay=function(){o._overlayTarget&&(a.default.unmountComponentAtNode(o._overlayTarget),o._overlayInstance=null)},o.getMountNode=function(){return o._overlayTarget},d(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0,this._renderOverlay()},t.prototype.componentDidUpdate=function(){this._renderOverlay()},t.prototype.componentWillReceiveProps=function(e){this._overlayTarget&&e.container!==this.props.container&&(this._portalContainerNode.removeChild(this._overlayTarget),this._portalContainerNode=(0,s.default)(e.container,(0,l.default)(this).body),this._portalContainerNode.appendChild(this._overlayTarget))},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._unrenderOverlay(),this._unmountOverlayTarget()},t.prototype.render=function(){return null},t}(i.default.Component);u.displayName="Portal",u.propTypes={container:o.default.oneOfType([r.default,o.default.func]),onRendered:o.default.func},t.default=u,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.ariaHidden=i,t.hideSiblings=function(e,t){r(e,t,function(e){return i(!0,e)})},t.showSiblings=function(e,t){r(e,t,function(e){return i(!1,e)})};var o=["template","script","style"],r=function(e,t,n){t=[].concat(t),[].forEach.call(e.children,function(e){-1===t.indexOf(e)&&function(e){var t=e.nodeType,n=e.tagName;return 1===t&&-1===o.indexOf(n.toLowerCase())}(e)&&n(e)})};function i(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,o.default)(e)||function(e){return e&&"body"===e.tagName.toLowerCase()}(e)?function(e){var t=(0,r.default)(e),n=(0,o.default)(t).innerWidth;if(!n){var i=t.documentElement.getBoundingClientRect();n=i.right-Math.abs(i.left)}return t.body.clientWidth<n}(e):e.scrollHeight>e.clientHeight};var o=i(n(22)),r=i(n(17));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){e.exports=n(4)("./node_modules/dom-helpers/util/scrollbarSize.js")},function(e,t,n){"use strict";function o(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=o(e.className,t):e.setAttribute("class",o(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.add(t):(0,o.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(46));e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasClass=t.removeClass=t.addClass=void 0;var o=a(n(119)),r=a(n(118)),i=a(n(46));function a(e){return e&&e.__esModule?e:{default:e}}t.addClass=o.default,t.removeClass=r.default,t.hasClass=i.default,t.default={addClass:o.default,removeClass:r.default,hasClass:i.default}},function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(120)),r=l(n(36)),i=l(n(117)),a=l(n(116)),s=n(115);function l(e){return e&&e.__esModule?e:{default:e}}t.default=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=n.hideSiblingNodes,c=void 0===l||l,d=n.handleContainerOverflow,u=void 0===d||d;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.add=function(e,n,l){var c=t.modals.indexOf(e),d=t.containers.indexOf(n);if(-1!==c)return c;if(c=t.modals.length,t.modals.push(e),t.hideSiblingNodes&&(0,s.hideSiblings)(n,e.mountNode),-1!==d)return t.data[d].modals.push(e),c;var u={modals:[e],classes:l?l.split(/\s+/):[],overflowing:(0,a.default)(n)};return t.handleContainerOverflow&&function(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt((0,r.default)(t,"paddingRight")||0,10)+(0,i.default)()+"px"),(0,r.default)(t,n)}(u,n),u.classes.forEach(o.default.addClass.bind(null,n)),t.containers.push(n),t.data.push(u),c},this.remove=function(e){var n=t.modals.indexOf(e);if(-1!==n){var r=function(e,t){return function(e,t){var n=-1;return e.some(function(e,o){if(t(e,o))return n=o,!0}),n}(e,function(e){return-1!==e.modals.indexOf(t)})}(t.data,e),i=t.data[r],a=t.containers[r];i.modals.splice(i.modals.indexOf(e),1),t.modals.splice(n,1),0===i.modals.length?(i.classes.forEach(o.default.removeClass.bind(null,a)),t.handleContainerOverflow&&function(e,t){var n=e.style;Object.keys(n).forEach(function(e){return t.style[e]=n[e]})}(i,a),t.hideSiblingNodes&&(0,s.showSiblings)(a,e.mountNode),t.containers.splice(r,1),t.data.splice(r,1)):t.hideSiblingNodes&&(0,s.ariaHidden)(!1,i.modals[i.modals.length-1].mountNode)}},this.isTopModal=function(e){return!!t.modals.length&&t.modals[t.modals.length-1]===e},this.hideSiblingNodes=c,this.handleContainerOverflow=u,this.modals=[],this.containers=[],this.data=[]},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(48));var r={};function i(e,t){return function(n,i,a,s,l){var c=a||"<<anonymous>>",d=l||i;if(null!=n[i]){var u=a+"."+i;(0,o.default)(r[u],"The "+s+" `"+d+"` of `"+c+"` is deprecated. "+t+"."),r[u]=!0}for(var p=arguments.length,h=Array(p>5?p-5:0),f=5;f<p;f++)h[f-5]=arguments[f];return e.apply(void 0,[n,i,a,s,l].concat(h))}}i._resetWarned=function(){r={}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.default)();try{return e.activeElement}catch(e){}};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(17));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=x(n(123)),i=x(n(37)),a=x(n(18)),s=x(n(1)),l=x(n(21)),c=x(n(122)),d=x(n(47)),u=n(0),p=x(u),h=x(n(10)),f=x(n(48)),m=x(n(121)),g=x(n(34)),b=x(n(113)),v=x(n(27)),y=x(n(112)),w=x(n(20)),_=x(n(14));function x(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=new m.default,S=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=o=k(this,e.call.apply(e,[this].concat(i))),C.call(o),k(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.omitProps=function(e,t){var n={};return Object.keys(e).map(function(o){Object.prototype.hasOwnProperty.call(t,o)||(n[o]=e[o])}),n},t.prototype.render=function(){var e=this.props,n=e.show,r=e.container,i=e.children,a=e.transition,s=e.backdrop,l=e.className,c=e.style,d=e.onExit,h=e.onExiting,f=e.onEnter,m=e.onEntering,v=e.onEntered,y=p.default.Children.only(i),w=this.omitProps(this.props,t.propTypes);if(!(n||a&&!this.state.exited))return null;var _=y.props,x=_.role,k=_.tabIndex;return void 0!==x&&void 0!==k||(y=(0,u.cloneElement)(y,{role:void 0===x?"document":x,tabIndex:null==k?"-1":k})),a&&(y=p.default.createElement(a,{appear:!0,unmountOnExit:!0,in:n,onExit:d,onExiting:h,onExited:this.handleHidden,onEnter:f,onEntering:m,onEntered:v},y)),p.default.createElement(g.default,{ref:this.setMountNode,container:r,onRendered:this.onPortalRendered},p.default.createElement("div",o({ref:this.setModalNodeRef,role:x||"dialog"},w,{style:c,className:l}),s&&this.renderBackdrop(),p.default.createElement(b.default,{ref:this.setDialogRef},y)))},t.prototype.componentWillReceiveProps=function(e){e.show?this.setState({exited:!1}):e.transition||this.setState({exited:!0})},t.prototype.componentWillUpdate=function(e){!this.props.show&&e.show&&this.checkForFocus()},t.prototype.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},t.prototype.componentDidUpdate=function(e){var t=this.props.transition;!e.show||this.props.show||t?!e.show&&this.props.show&&this.onShow():this.onHide()},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.show,n=e.transition;this._isMounted=!1,(t||n&&!this.state.exited)&&this.onHide()},t.prototype.autoFocus=function(){if(this.props.autoFocus){var e=this.getDialogElement(),t=(0,r.default)((0,_.default)(this));e&&!(0,i.default)(e,t)&&(this.lastFocus=t,e.hasAttribute("tabIndex")||((0,f.default)(!1,'The modal content node does not accept focus. For the benefit of assistive technologies, the tabIndex of the node is being set to "-1".'),e.setAttribute("tabIndex",-1)),e.focus())}},t.prototype.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},t.prototype.getDialogElement=function(){return h.default.findDOMNode(this.dialog)},t.prototype.isTopModal=function(){return this.props.manager.isTopModal(this)},t}(p.default.Component);S.propTypes=o({},g.default.propTypes,{show:s.default.bool,container:s.default.oneOfType([l.default,s.default.func]),onShow:s.default.func,onHide:s.default.func,backdrop:s.default.oneOfType([s.default.bool,s.default.oneOf(["static"])]),renderBackdrop:s.default.func,onEscapeKeyDown:s.default.func,onEscapeKeyUp:(0,c.default)(s.default.func,"Please use onEscapeKeyDown instead for consistency"),onBackdropClick:s.default.func,backdropStyle:s.default.object,backdropClassName:s.default.string,containerClassName:s.default.string,keyboard:s.default.bool,transition:d.default,backdropTransition:d.default,autoFocus:s.default.bool,enforceFocus:s.default.bool,restoreFocus:s.default.bool,onEnter:s.default.func,onEntering:s.default.func,onEntered:s.default.func,onExit:s.default.func,onExiting:s.default.func,onExited:s.default.func,manager:s.default.object.isRequired}),S.defaultProps={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:E,renderBackdrop:function(e){return p.default.createElement("div",e)}};var C=function(){var e=this;this.state={exited:!this.props.show},this.renderBackdrop=function(){var t=e.props,n=t.backdropStyle,o=t.backdropClassName,r=t.renderBackdrop,i=t.backdropTransition,a=r({ref:function(t){return e.backdrop=t},style:n,className:o,onClick:e.handleBackdropClick});return i&&(a=p.default.createElement(i,{appear:!0,in:e.props.show},a)),a},this.onPortalRendered=function(){e.autoFocus(),e.props.onShow&&e.props.onShow()},this.onShow=function(){var t=(0,_.default)(e),n=(0,w.default)(e.props.container,t.body);e.props.manager.add(e,n,e.props.containerClassName),e._onDocumentKeydownListener=(0,v.default)(t,"keydown",e.handleDocumentKeyDown),e._onDocumentKeyupListener=(0,v.default)(t,"keyup",e.handleDocumentKeyUp),e._onFocusinListener=(0,y.default)(e.enforceFocus)},this.onHide=function(){e.props.manager.remove(e),e._onDocumentKeydownListener.remove(),e._onDocumentKeyupListener.remove(),e._onFocusinListener.remove(),e.props.restoreFocus&&e.restoreLastFocus()},this.setMountNode=function(t){e.mountNode=t?t.getMountNode():t},this.setModalNodeRef=function(t){e.modalNode=t},this.setDialogRef=function(t){e.dialog=t},this.handleHidden=function(){var t;(e.setState({exited:!0}),e.onHide(),e.props.onExited)&&(t=e.props).onExited.apply(t,arguments)},this.handleBackdropClick=function(t){t.target===t.currentTarget&&(e.props.onBackdropClick&&e.props.onBackdropClick(t),!0===e.props.backdrop&&e.props.onHide())},this.handleDocumentKeyDown=function(t){e.props.keyboard&&27===t.keyCode&&e.isTopModal()&&(e.props.onEscapeKeyDown&&e.props.onEscapeKeyDown(t),e.props.onHide())},this.handleDocumentKeyUp=function(t){e.props.keyboard&&27===t.keyCode&&e.isTopModal()&&e.props.onEscapeKeyUp&&e.props.onEscapeKeyUp(t)},this.checkForFocus=function(){a.default&&(e.lastFocus=(0,r.default)())},this.enforceFocus=function(){if(e.props.enforceFocus&&e._isMounted&&e.isTopModal()){var t=e.getDialogElement(),n=(0,r.default)((0,_.default)(e));t&&!(0,i.default)(t,n)&&t.focus()}}};S.Manager=m.default,t.default=S,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=m(n(23)),i=m(n(52)),a=m(n(1)),s=m(n(21)),l=m(n(0)),c=m(n(55)),d=m(n(27)),u=m(n(20)),p=m(n(51)),h=m(n(14)),f=m(n(50));function m(e){return e&&e.__esModule?e:{default:e}}var g=o({},c.default.propTypes,{container:a.default.oneOfType([s.default,a.default.func]),autoWidth:a.default.bool}),b=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return a.onWindowScroll=function(){a.onUpdate()},a.onWindowResize=function(){a.props.autoWidth&&(0,i.default)(function(){return a.onUpdate()})},a.onDocumentClick=function(){(0,i.default)(function(){return a.onUpdate()})},a.onUpdate=function(){if(a._isMounted){var e=(0,r.default)(a.positioner),t=e.top,n=e.width,o=(0,u.default)(a.props.container),i=void 0;if(o){var s=(0,p.default)((0,h.default)(a)),l=(0,r.default)(o);i=s-l.top-l.height}else i=null;a.updateState(t,i,n)}},a.updateState=function(e,t,n){e===a.state.offsetTop&&t===a.state.offsetBottom&&n===a.state.width||a.setState({offsetTop:e,offsetBottom:t,width:n})},a.state={offsetTop:null,offsetBottom:null,width:null},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this._isMounted=!0,this._windowScrollListener=(0,d.default)((0,f.default)(this),"scroll",function(){return e.onWindowScroll()}),this._windowResizeListener=(0,d.default)((0,f.default)(this),"resize",function(){return e.onWindowResize()}),this._documentClickListener=(0,d.default)((0,h.default)(this),"click",function(){return e.onDocumentClick()}),this.onUpdate()},t.prototype.componentWillReceiveProps=function(){this._needPositionUpdate=!0},t.prototype.componentDidUpdate=function(){this._needPositionUpdate&&(this._needPositionUpdate=!1,this.onUpdate())},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this._windowScrollListener&&this._windowScrollListener.remove(),this._documentClickListener&&this._documentClickListener.remove(),this._windowResizeListener&&this._windowResizeListener.remove()},t.prototype.render=function(){var e=this,t=this.props,n=t.autoWidth,r=t.viewportOffsetTop,i=t.children,a=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["autoWidth","viewportOffsetTop","children"]),s=this.state,d=s.offsetTop,u=s.offsetBottom,p=s.width;delete a.container;var h=Math.max(d,r||0),f=this.props,m=f.affixStyle,g=f.bottomStyle;return n&&(m=o({width:p},m),g=o({width:p},g)),l.default.createElement("div",null,l.default.createElement("div",{ref:function(t){e.positioner=t}}),l.default.createElement(c.default,o({},a,{offsetTop:h,viewportOffsetTop:r,offsetBottom:u,affixStyle:m,bottomStyle:g}),i))},t}(l.default.Component);b.displayName="AutoAffix",b.propTypes=g,b.defaultProps={viewportOffsetTop:0,autoWidth:!0},t.default=b,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,o.default)(e);return t&&t.defaultView||t.parentWindow};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(17));e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){};(function(e){return e&&e.__esModule?e:{default:e}})(n(18)).default&&(o=document.addEventListener?function(e,t,n,o){return e.removeEventListener(t,n,o||!1)}:document.attachEvent?function(e,t,n){return e.detachEvent("on"+t,n)}:void 0),t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){};(function(e){return e&&e.__esModule?e:{default:e}})(n(18)).default&&(o=document.addEventListener?function(e,t,n,o){return e.addEventListener(t,n,o||!1)}:document.attachEvent?function(e,t,n){return e.attachEvent("on"+t,function(t){(t=t||window.event).target=t.target||t.srcElement,t.currentTarget=e,n.call(e,t)})}:void 0),t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!(!e||!o.test(e))};var o=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var o="transform",r=void 0,i=void 0,a=void 0,s=void 0,l=void 0,c=void 0,d=void 0,u=void 0,p=void 0,h=void 0,f=void 0;if(function(e){return e&&e.__esModule?e:{default:e}}(n(18)).default){var m=function(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),o=void 0,r=void 0,i="",a=0;a<n.length;a++){var s=n[a];if(s+"TransitionProperty"in e){i="-"+s.toLowerCase(),o=t[s]("TransitionEnd"),r=t[s]("AnimationEnd");break}}!o&&"transitionProperty"in e&&(o="transitionend");!r&&"animationName"in e&&(r="animationend");return e=null,{animationEnd:r,transitionEnd:o,prefix:i}}();r=m.prefix,t.transitionEnd=i=m.transitionEnd,t.animationEnd=a=m.animationEnd,t.transform=o=r+"-"+o,t.transitionProperty=s=r+"-transition-property",t.transitionDuration=l=r+"-transition-duration",t.transitionDelay=d=r+"-transition-delay",t.transitionTiming=c=r+"-transition-timing-function",t.animationName=u=r+"-animation-name",t.animationDuration=p=r+"-animation-duration",t.animationTiming=h=r+"-animation-delay",t.animationDelay=f=r+"-animation-timing-function"}t.transform=o,t.transitionProperty=s,t.transitionTiming=c,t.transitionDelay=d,t.transitionDuration=l,t.transitionEnd=i,t.animationName=u,t.animationDuration=p,t.animationTiming=h,t.animationDelay=f,t.animationEnd=a,t.default={transform:o,end:i,property:s,timing:c,delay:d,duration:l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return"removeProperty"in e.style?e.style.removeProperty(t):e.style.removeAttribute(t)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):{getPropertyValue:function(t){var n=e.style;"float"==(t=(0,o.default)(t))&&(t="styleFloat");var a=e.currentStyle[t]||null;if(null==a&&n&&n[t]&&(a=n[t]),i.test(a)&&!r.test(t)){var s=n.left,l=e.runtimeStyle,c=l&&l.left;c&&(l.left=e.currentStyle.left),n.left="fontSize"===t?"1em":a,a=n.pixelLeft+"px",n.left=s,c&&(l.left=c)}return a}}};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(53));var r=/^(top|right|bottom|left)$/,i=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(o,"-$1").toLowerCase()};var o=/([A-Z])/g;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(e).replace(r,"-ms-")};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(133));var r=/^ms-/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(o,function(e,t){return t.toUpperCase()})};var o=/-(.)/g;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,r.default)(e);return n?n.innerHeight:t?e.clientHeight:(0,o.default)(e).height};var o=i(n(23)),r=i(n(22));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){e.exports=n(4)("./node_modules/webpack/buildin/module.js")},function(e,t,n){e.exports=n(4)("./node_modules/punycode/punycode.js")},function(e,t,n){e.exports=n(4)("./node_modules/process/browser.js")},function(e,t,n){e.exports=n(4)("./node_modules/immutable/dist/immutable.js")},function(e,t,n){"use strict";function o(e){return e>=55296&&e<=56319}function r(e){return e>=56320&&e<=57343}e.exports=function(e){if("string"!=typeof e)throw new Error("Input must be string");for(var t=e.length,n=0,i=null,a=null,s=0;s<t;s++)r(i=e.charCodeAt(s))?null!=a&&o(a)?n+=1:n+=3:i<=127?n+=1:i>=128&&i<=2047?n+=2:i>=2048&&i<=65535&&(n+=3),a=i;return n}},function(e,t,n){"use strict";function o(e){return e>=55296&&e<=56319}function r(e){return e>=56320&&e<=57343}e.exports=function(e,t,n){if("string"!=typeof t)throw new Error("Input must be string");for(var i,a,s=t.length,l=0,c=0;c<s;c+=1){if(i=t.charCodeAt(c),a=t[c],o(i)&&r(t.charCodeAt(c+1))&&(a+=t[c+=1]),(l+=e(a))===n)return t.slice(0,c+1);if(l>n)return t.slice(0,c-a.length+1)}return t}},function(e,t,n){"use strict";var o=n(142),r=n(141);e.exports=o.bind(null,r)},function(e,t,n){"use strict";var o=n(59),r=n(8),i=n(40),a=n(39),s=n(19),l=n(66),c=n(16);function d(e,t){this.options=e,this.loadOptions=t}d.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=o(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,o,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<r;)t=e.readInt(2),n=e.readInt(2),o=e.readData(n),this.extraFields[t]={id:t,length:n,value:o}},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var o=this.findExtraFieldUnicodeComment();if(null!==o)this.fileCommentStr=o;else{var i=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=o(e.value);return 1!==t.readInt(1)?null:a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=o(e.value);return 1!==t.readInt(1)?null:a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},e.exports=d},function(e,t,n){"use strict";var o=n(56);function r(e){o.call(this,e)}n(8).inherits(r,o),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=r},function(e,t,n){"use strict";var o=n(57);function r(e){o.call(this,e)}n(8).inherits(r,o),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=r},function(e,t,n){"use strict";var o=n(59),r=n(8),i=n(60),a=n(144),s=(n(19),n(16));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var o=this.reader.readString(4)===t;return this.reader.setIndex(n),o},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=r.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,o=this.zip64EndOfCentralSize-44;0<o;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(e);var t=e;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var o=t-n;if(o>0)this.isSignature(t,i.CENTRAL_FILE_HEADER)||(this.reader.zero=o);else if(o<0)throw new Error("Corrupted zip: missing "+Math.abs(o)+" bytes.")},prepareReader:function(e){this.reader=o(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=l},function(e,t,n){"use strict";var o=n(8),r=n(24),i=n(19),a=(o=n(8),n(147)),s=n(67),l=n(29);function c(e){return new r.Promise(function(t,n){var o=e.decompressed.getContentWorker().pipe(new s);o.on("error",function(e){n(e)}).on("end",function(){o.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}e.exports=function(e,t){var n=this;return t=o.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),l.isNode&&l.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new a(t);return n.load(e),n}).then(function(e){var n=[r.Promise.resolve(e)],o=e.files;if(t.checkCRC32)for(var i=0;i<o.length;i++)n.push(c(o[i]));return r.Promise.all(n)}).then(function(e){for(var o=e.shift(),r=o.files,i=0;i<r.length;i++){var a=r[i];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return o.zipComment.length&&(n.comment=o.zipComment),n})}},function(e,t,n){"use strict";var o=n(8),r=n(12);function i(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}o.inherits(i,r),i.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},i.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=i},function(e,t,n){"use strict";var o=n(8),r=n(12),i=n(19),a=n(39),s=n(60),l=function(e,t){var n,o="";for(n=0;n<t;n++)o+=String.fromCharCode(255&e),e>>>=8;return o},c=function(e,t,n,r,c,d){var u,p,h=e.file,f=e.compression,m=d!==i.utf8encode,g=o.transformTo("string",d(h.name)),b=o.transformTo("string",i.utf8encode(h.name)),v=h.comment,y=o.transformTo("string",d(v)),w=o.transformTo("string",i.utf8encode(v)),_=b.length!==h.name.length,x=w.length!==v.length,k="",E="",S="",C=h.dir,N=h.date,O={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(O.crc32=e.crc32,O.compressedSize=e.compressedSize,O.uncompressedSize=e.uncompressedSize);var T=0;t&&(T|=8),m||!_&&!x||(T|=2048);var R=0,j=0;C&&(R|=16),"UNIX"===c?(j=798,R|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(h.unixPermissions,C)):(j=20,R|=function(e,t){return 63&(e||0)}(h.dosPermissions)),u=N.getUTCHours(),u<<=6,u|=N.getUTCMinutes(),u<<=5,u|=N.getUTCSeconds()/2,p=N.getUTCFullYear()-1980,p<<=4,p|=N.getUTCMonth()+1,p<<=5,p|=N.getUTCDate(),_&&(E=l(1,1)+l(a(g),4)+b,k+="up"+l(E.length,2)+E),x&&(S=l(1,1)+l(a(y),4)+w,k+="uc"+l(S.length,2)+S);var D="";return D+="\n\0",D+=l(T,2),D+=f.magic,D+=l(u,2),D+=l(p,2),D+=l(O.crc32,4),D+=l(O.compressedSize,4),D+=l(O.uncompressedSize,4),D+=l(g.length,2),D+=l(k.length,2),{fileRecord:s.LOCAL_FILE_HEADER+D+g+k,dirRecord:s.CENTRAL_FILE_HEADER+l(j,2)+D+l(y.length,2)+"\0\0\0\0"+l(R,4)+l(r,4)+g+k+y}};function d(e,t,n,o){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=o,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(d,r),d.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,o=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,r.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-o-1))/n:100}}))},d.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=c(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=c(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return s.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,r=function(e,t,n,r,i){var a=o.transformTo("string",i(r));return s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(n,4)+l(a.length,2)+a}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},d.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(e){var t=this._sources;if(!r.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},d.prototype.lock=function(){r.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},e.exports=d},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){"use strict";var o=n(15),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,c,d,u,p){var h,f,m,g,b,v,y,w,_,x=p.bits,k=0,E=0,S=0,C=0,N=0,O=0,T=0,R=0,j=0,D=0,I=null,P=0,L=new o.Buf16(16),A=new o.Buf16(16),z=null,F=0;for(k=0;k<=15;k++)L[k]=0;for(E=0;E<l;E++)L[t[n+E]]++;for(N=x,C=15;C>=1&&0===L[C];C--);if(N>C&&(N=C),0===C)return c[d++]=20971520,c[d++]=20971520,p.bits=1,0;for(S=1;S<C&&0===L[S];S++);for(N<S&&(N=S),R=1,k=1;k<=15;k++)if(R<<=1,(R-=L[k])<0)return-1;if(R>0&&(0===e||1!==C))return-1;for(A[1]=0,k=1;k<15;k++)A[k+1]=A[k]+L[k];for(E=0;E<l;E++)0!==t[n+E]&&(u[A[t[n+E]]++]=E);if(0===e?(I=z=u,v=19):1===e?(I=r,P-=257,z=i,F-=257,v=256):(I=a,z=s,v=-1),D=0,E=0,k=S,b=d,O=N,T=0,m=-1,g=(j=1<<N)-1,1===e&&j>852||2===e&&j>592)return 1;for(;;){y=k-T,u[E]<v?(w=0,_=u[E]):u[E]>v?(w=z[F+u[E]],_=I[P+u[E]]):(w=96,_=0),h=1<<k-T,S=f=1<<O;do{c[b+(D>>T)+(f-=h)]=y<<24|w<<16|_|0}while(0!==f);for(h=1<<k-1;D&h;)h>>=1;if(0!==h?(D&=h-1,D+=h):D=0,E++,0==--L[k]){if(k===C)break;k=t[n+u[E]]}if(k>N&&(D&g)!==m){for(0===T&&(T=N),b+=S,R=1<<(O=k-T);O+T<C&&!((R-=L[O+T])<=0);)O++,R<<=1;if(j+=1<<O,1===e&&j>852||2===e&&j>592)return 1;c[m=D&g]=N<<24|O<<16|b-d|0}}return 0!==D&&(c[b+D]=k-T<<24|64<<16|0),p.bits=N,0}},function(e,t,n){"use strict";e.exports=function(e,t){var n,o,r,i,a,s,l,c,d,u,p,h,f,m,g,b,v,y,w,_,x,k,E,S,C;n=e.state,o=e.next_in,S=e.input,r=o+(e.avail_in-5),i=e.next_out,C=e.output,a=i-(t-e.avail_out),s=i+(e.avail_out-257),l=n.dmax,c=n.wsize,d=n.whave,u=n.wnext,p=n.window,h=n.hold,f=n.bits,m=n.lencode,g=n.distcode,b=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{f<15&&(h+=S[o++]<<f,f+=8,h+=S[o++]<<f,f+=8),y=m[h&b];t:for(;;){if(h>>>=w=y>>>24,f-=w,0===(w=y>>>16&255))C[i++]=65535&y;else{if(!(16&w)){if(0==(64&w)){y=m[(65535&y)+(h&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}_=65535&y,(w&=15)&&(f<w&&(h+=S[o++]<<f,f+=8),_+=h&(1<<w)-1,h>>>=w,f-=w),f<15&&(h+=S[o++]<<f,f+=8,h+=S[o++]<<f,f+=8),y=g[h&v];n:for(;;){if(h>>>=w=y>>>24,f-=w,!(16&(w=y>>>16&255))){if(0==(64&w)){y=g[(65535&y)+(h&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(x=65535&y,f<(w&=15)&&(h+=S[o++]<<f,(f+=8)<w&&(h+=S[o++]<<f,f+=8)),(x+=h&(1<<w)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=w,f-=w,x>(w=i-a)){if((w=x-w)>d&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=0,E=p,0===u){if(k+=c-w,w<_){_-=w;do{C[i++]=p[k++]}while(--w);k=i-x,E=C}}else if(u<w){if(k+=c+u-w,(w-=u)<_){_-=w;do{C[i++]=p[k++]}while(--w);if(k=0,u<_){_-=w=u;do{C[i++]=p[k++]}while(--w);k=i-x,E=C}}}else if(k+=u-w,w<_){_-=w;do{C[i++]=p[k++]}while(--w);k=i-x,E=C}for(;_>2;)C[i++]=E[k++],C[i++]=E[k++],C[i++]=E[k++],_-=3;_&&(C[i++]=E[k++],_>1&&(C[i++]=E[k++]))}else{k=i-x;do{C[i++]=C[k++],C[i++]=C[k++],C[i++]=C[k++],_-=3}while(_>2);_&&(C[i++]=C[k++],_>1&&(C[i++]=C[k++]))}break}}break}}while(o<r&&i<s);o-=_=f>>3,h&=(1<<(f-=_<<3))-1,e.next_in=o,e.next_out=i,e.avail_in=o<r?r-o+5:5-(o-r),e.avail_out=i<s?s-i+257:257-(i-s),n.hold=h,n.bits=f}},function(e,t,n){"use strict";var o=n(15),r=n(65),i=n(64),a=n(153),s=n(152),l=0,c=1,d=2,u=4,p=5,h=6,f=0,m=1,g=2,b=-2,v=-3,y=-4,w=-5,_=8,x=1,k=2,E=3,S=4,C=5,N=6,O=7,T=8,R=9,j=10,D=11,I=12,P=13,L=14,A=15,z=16,F=17,M=18,B=19,U=20,W=21,q=22,H=23,$=24,V=25,K=26,Z=27,Y=28,X=29,G=30,Q=31,J=32,ee=852,te=592,ne=15;function oe(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function re(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=x,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new o.Buf32(ee),t.distcode=t.distdyn=new o.Buf32(te),t.sane=1,t.back=-1,f):b}function ie(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,re(e)):b}function ae(e,t){var n,o;return e&&e.state?(o=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?b:(null!==o.window&&o.wbits!==t&&(o.window=null),o.wrap=n,o.wbits=t,ie(e))):b}function se(e,t){var n,r;return e?(r=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},e.state=r,r.window=null,(n=ae(e,t))!==f&&(e.state=null),n):b}var le,ce,de=!0;function ue(e){if(de){var t;for(le=new o.Buf32(512),ce=new o.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(c,e.lens,0,288,le,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(d,e.lens,0,32,ce,0,e.work,{bits:5}),de=!1}e.lencode=le,e.lenbits=9,e.distcode=ce,e.distbits=5}function pe(e,t,n,r){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new o.Buf8(a.wsize)),r>=a.wsize?(o.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>r&&(i=r),o.arraySet(a.window,t,n-r,i,a.wnext),(r-=i)?(o.arraySet(a.window,t,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}t.inflateReset=ie,t.inflateReset2=ae,t.inflateResetKeep=re,t.inflateInit=function(e){return se(e,ne)},t.inflateInit2=se,t.inflate=function(e,t){var n,ee,te,ne,re,ie,ae,se,le,ce,de,he,fe,me,ge,be,ve,ye,we,_e,xe,ke,Ee,Se,Ce=0,Ne=new o.Buf8(4),Oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return b;(n=e.state).mode===I&&(n.mode=P),re=e.next_out,te=e.output,ae=e.avail_out,ne=e.next_in,ee=e.input,ie=e.avail_in,se=n.hold,le=n.bits,ce=ie,de=ae,ke=f;e:for(;;)switch(n.mode){case x:if(0===n.wrap){n.mode=P;break}for(;le<16;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(2&n.wrap&&35615===se){n.check=0,Ne[0]=255&se,Ne[1]=se>>>8&255,n.check=i(n.check,Ne,2,0),se=0,le=0,n.mode=k;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg="incorrect header check",n.mode=G;break}if((15&se)!==_){e.msg="unknown compression method",n.mode=G;break}if(le-=4,xe=8+(15&(se>>>=4)),0===n.wbits)n.wbits=xe;else if(xe>n.wbits){e.msg="invalid window size",n.mode=G;break}n.dmax=1<<xe,e.adler=n.check=1,n.mode=512&se?j:I,se=0,le=0;break;case k:for(;le<16;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(n.flags=se,(255&n.flags)!==_){e.msg="unknown compression method",n.mode=G;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=G;break}n.head&&(n.head.text=se>>8&1),512&n.flags&&(Ne[0]=255&se,Ne[1]=se>>>8&255,n.check=i(n.check,Ne,2,0)),se=0,le=0,n.mode=E;case E:for(;le<32;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}n.head&&(n.head.time=se),512&n.flags&&(Ne[0]=255&se,Ne[1]=se>>>8&255,Ne[2]=se>>>16&255,Ne[3]=se>>>24&255,n.check=i(n.check,Ne,4,0)),se=0,le=0,n.mode=S;case S:for(;le<16;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}n.head&&(n.head.xflags=255&se,n.head.os=se>>8),512&n.flags&&(Ne[0]=255&se,Ne[1]=se>>>8&255,n.check=i(n.check,Ne,2,0)),se=0,le=0,n.mode=C;case C:if(1024&n.flags){for(;le<16;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}n.length=se,n.head&&(n.head.extra_len=se),512&n.flags&&(Ne[0]=255&se,Ne[1]=se>>>8&255,n.check=i(n.check,Ne,2,0)),se=0,le=0}else n.head&&(n.head.extra=null);n.mode=N;case N:if(1024&n.flags&&((he=n.length)>ie&&(he=ie),he&&(n.head&&(xe=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),o.arraySet(n.head.extra,ee,ne,he,xe)),512&n.flags&&(n.check=i(n.check,ee,he,ne)),ie-=he,ne+=he,n.length-=he),n.length))break e;n.length=0,n.mode=O;case O:if(2048&n.flags){if(0===ie)break e;he=0;do{xe=ee[ne+he++],n.head&&xe&&n.length<65536&&(n.head.name+=String.fromCharCode(xe))}while(xe&&he<ie);if(512&n.flags&&(n.check=i(n.check,ee,he,ne)),ie-=he,ne+=he,xe)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=T;case T:if(4096&n.flags){if(0===ie)break e;he=0;do{xe=ee[ne+he++],n.head&&xe&&n.length<65536&&(n.head.comment+=String.fromCharCode(xe))}while(xe&&he<ie);if(512&n.flags&&(n.check=i(n.check,ee,he,ne)),ie-=he,ne+=he,xe)break e}else n.head&&(n.head.comment=null);n.mode=R;case R:if(512&n.flags){for(;le<16;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(se!==(65535&n.check)){e.msg="header crc mismatch",n.mode=G;break}se=0,le=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=I;break;case j:for(;le<32;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}e.adler=n.check=oe(se),se=0,le=0,n.mode=D;case D:if(0===n.havedict)return e.next_out=re,e.avail_out=ae,e.next_in=ne,e.avail_in=ie,n.hold=se,n.bits=le,g;e.adler=n.check=1,n.mode=I;case I:if(t===p||t===h)break e;case P:if(n.last){se>>>=7&le,le-=7&le,n.mode=Z;break}for(;le<3;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}switch(n.last=1&se,le-=1,3&(se>>>=1)){case 0:n.mode=L;break;case 1:if(ue(n),n.mode=U,t===h){se>>>=2,le-=2;break e}break;case 2:n.mode=F;break;case 3:e.msg="invalid block type",n.mode=G}se>>>=2,le-=2;break;case L:for(se>>>=7&le,le-=7&le;le<32;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if((65535&se)!=(se>>>16^65535)){e.msg="invalid stored block lengths",n.mode=G;break}if(n.length=65535&se,se=0,le=0,n.mode=A,t===h)break e;case A:n.mode=z;case z:if(he=n.length){if(he>ie&&(he=ie),he>ae&&(he=ae),0===he)break e;o.arraySet(te,ee,ne,he,re),ie-=he,ne+=he,ae-=he,re+=he,n.length-=he;break}n.mode=I;break;case F:for(;le<14;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(n.nlen=257+(31&se),se>>>=5,le-=5,n.ndist=1+(31&se),se>>>=5,le-=5,n.ncode=4+(15&se),se>>>=4,le-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=G;break}n.have=0,n.mode=M;case M:for(;n.have<n.ncode;){for(;le<3;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}n.lens[Oe[n.have++]]=7&se,se>>>=3,le-=3}for(;n.have<19;)n.lens[Oe[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Ee={bits:n.lenbits},ke=s(l,n.lens,0,19,n.lencode,0,n.work,Ee),n.lenbits=Ee.bits,ke){e.msg="invalid code lengths set",n.mode=G;break}n.have=0,n.mode=B;case B:for(;n.have<n.nlen+n.ndist;){for(;be=(Ce=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,ve=65535&Ce,!((ge=Ce>>>24)<=le);){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(ve<16)se>>>=ge,le-=ge,n.lens[n.have++]=ve;else{if(16===ve){for(Se=ge+2;le<Se;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(se>>>=ge,le-=ge,0===n.have){e.msg="invalid bit length repeat",n.mode=G;break}xe=n.lens[n.have-1],he=3+(3&se),se>>>=2,le-=2}else if(17===ve){for(Se=ge+3;le<Se;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}le-=ge,xe=0,he=3+(7&(se>>>=ge)),se>>>=3,le-=3}else{for(Se=ge+7;le<Se;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}le-=ge,xe=0,he=11+(127&(se>>>=ge)),se>>>=7,le-=7}if(n.have+he>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=G;break}for(;he--;)n.lens[n.have++]=xe}}if(n.mode===G)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=G;break}if(n.lenbits=9,Ee={bits:n.lenbits},ke=s(c,n.lens,0,n.nlen,n.lencode,0,n.work,Ee),n.lenbits=Ee.bits,ke){e.msg="invalid literal/lengths set",n.mode=G;break}if(n.distbits=6,n.distcode=n.distdyn,Ee={bits:n.distbits},ke=s(d,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Ee),n.distbits=Ee.bits,ke){e.msg="invalid distances set",n.mode=G;break}if(n.mode=U,t===h)break e;case U:n.mode=W;case W:if(ie>=6&&ae>=258){e.next_out=re,e.avail_out=ae,e.next_in=ne,e.avail_in=ie,n.hold=se,n.bits=le,a(e,de),re=e.next_out,te=e.output,ae=e.avail_out,ne=e.next_in,ee=e.input,ie=e.avail_in,se=n.hold,le=n.bits,n.mode===I&&(n.back=-1);break}for(n.back=0;be=(Ce=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,ve=65535&Ce,!((ge=Ce>>>24)<=le);){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(be&&0==(240&be)){for(ye=ge,we=be,_e=ve;be=(Ce=n.lencode[_e+((se&(1<<ye+we)-1)>>ye)])>>>16&255,ve=65535&Ce,!(ye+(ge=Ce>>>24)<=le);){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}se>>>=ye,le-=ye,n.back+=ye}if(se>>>=ge,le-=ge,n.back+=ge,n.length=ve,0===be){n.mode=K;break}if(32&be){n.back=-1,n.mode=I;break}if(64&be){e.msg="invalid literal/length code",n.mode=G;break}n.extra=15&be,n.mode=q;case q:if(n.extra){for(Se=n.extra;le<Se;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}n.length+=se&(1<<n.extra)-1,se>>>=n.extra,le-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=H;case H:for(;be=(Ce=n.distcode[se&(1<<n.distbits)-1])>>>16&255,ve=65535&Ce,!((ge=Ce>>>24)<=le);){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(0==(240&be)){for(ye=ge,we=be,_e=ve;be=(Ce=n.distcode[_e+((se&(1<<ye+we)-1)>>ye)])>>>16&255,ve=65535&Ce,!(ye+(ge=Ce>>>24)<=le);){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}se>>>=ye,le-=ye,n.back+=ye}if(se>>>=ge,le-=ge,n.back+=ge,64&be){e.msg="invalid distance code",n.mode=G;break}n.offset=ve,n.extra=15&be,n.mode=$;case $:if(n.extra){for(Se=n.extra;le<Se;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}n.offset+=se&(1<<n.extra)-1,se>>>=n.extra,le-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=G;break}n.mode=V;case V:if(0===ae)break e;if(he=de-ae,n.offset>he){if((he=n.offset-he)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=G;break}he>n.wnext?(he-=n.wnext,fe=n.wsize-he):fe=n.wnext-he,he>n.length&&(he=n.length),me=n.window}else me=te,fe=re-n.offset,he=n.length;he>ae&&(he=ae),ae-=he,n.length-=he;do{te[re++]=me[fe++]}while(--he);0===n.length&&(n.mode=W);break;case K:if(0===ae)break e;te[re++]=n.length,ae--,n.mode=W;break;case Z:if(n.wrap){for(;le<32;){if(0===ie)break e;ie--,se|=ee[ne++]<<le,le+=8}if(de-=ae,e.total_out+=de,n.total+=de,de&&(e.adler=n.check=n.flags?i(n.check,te,de,re-de):r(n.check,te,de,re-de)),de=ae,(n.flags?se:oe(se))!==n.check){e.msg="incorrect data check",n.mode=G;break}se=0,le=0}n.mode=Y;case Y:if(n.wrap&&n.flags){for(;le<32;){if(0===ie)break e;ie--,se+=ee[ne++]<<le,le+=8}if(se!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=G;break}se=0,le=0}n.mode=X;case X:ke=m;break e;case G:ke=v;break e;case Q:return y;case J:default:return b}return e.next_out=re,e.avail_out=ae,e.next_in=ne,e.avail_in=ie,n.hold=se,n.bits=le,(n.wsize||de!==e.avail_out&&n.mode<G&&(n.mode<Z||t!==u))&&pe(e,e.output,e.next_out,de-e.avail_out)?(n.mode=Q,y):(ce-=e.avail_in,de-=e.avail_out,e.total_in+=ce,e.total_out+=de,n.total+=de,n.wrap&&de&&(e.adler=n.check=n.flags?i(n.check,te,de,e.next_out-de):r(n.check,te,de,e.next_out-de)),e.data_type=n.bits+(n.last?64:0)+(n.mode===I?128:0)+(n.mode===U||n.mode===A?256:0),(0===ce&&0===de||t===u)&&ke===f&&(ke=w),ke)},t.inflateEnd=function(e){if(!e||!e.state)return b;var t=e.state;return t.window&&(t.window=null),e.state=null,f},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?b:(n.head=t,t.done=!1,f):b},t.inflateSetDictionary=function(e,t){var n,o=t.length;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==D?b:n.mode===D&&r(1,t,o,0)!==n.check?v:pe(e,t,o,o)?(n.mode=Q,y):(n.havedict=1,f):b},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";var o=n(154),r=n(15),i=n(63),a=n(61),s=n(38),l=n(62),c=n(151),d=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=o.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new c,o.inflateGetHeader(this.strm,this.header)}function p(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}u.prototype.push=function(e,t){var n,s,l,c,u,p,h=this.strm,f=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?h.input=i.binstring2buf(e):"[object ArrayBuffer]"===d.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new r.Buf8(f),h.next_out=0,h.avail_out=f),(n=o.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(p="string"==typeof m?i.string2buf(m):"[object ArrayBuffer]"===d.call(m)?new Uint8Array(m):m,n=o.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===g&&(n=a.Z_OK,g=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=i.utf8border(h.output,h.next_out),c=h.next_out-l,u=i.buf2string(h.output,l),h.next_out=c,h.avail_out=f-c,c&&r.arraySet(h.output,h.output,l,c,0),this.onData(u)):this.onData(r.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(g=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=o.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),h.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=u,t.inflate=p,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},t.ungzip=p},function(e,t,n){"use strict";var o=n(15),r=4,i=0,a=1,s=2;function l(e){for(var t=e.length;--t>=0;)e[t]=0}var c=0,d=1,u=2,p=29,h=256,f=h+1+p,m=30,g=19,b=2*f+1,v=15,y=16,w=7,_=256,x=16,k=17,E=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],C=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=new Array(2*(f+2));l(T);var R=new Array(2*m);l(R);var j=new Array(512);l(j);var D=new Array(256);l(D);var I=new Array(p);l(I);var P,L,A,z=new Array(m);function F(e,t,n,o,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=o,this.max_length=r,this.has_stree=e&&e.length}function M(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function B(e){return e<256?j[e]:j[256+(e>>>7)]}function U(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function W(e,t,n){e.bi_valid>y-n?(e.bi_buf|=t<<e.bi_valid&65535,U(e,e.bi_buf),e.bi_buf=t>>y-e.bi_valid,e.bi_valid+=n-y):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function q(e,t,n){W(e,n[2*t],n[2*t+1])}function H(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function $(e,t,n){var o,r,i=new Array(v+1),a=0;for(o=1;o<=v;o++)i[o]=a=a+n[o-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=H(i[s]++,s))}}function V(e){var t;for(t=0;t<f;t++)e.dyn_ltree[2*t]=0;for(t=0;t<m;t++)e.dyn_dtree[2*t]=0;for(t=0;t<g;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*_]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function K(e){e.bi_valid>8?U(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Z(e,t,n,o){var r=2*t,i=2*n;return e[r]<e[i]||e[r]===e[i]&&o[t]<=o[n]}function Y(e,t,n){for(var o=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&Z(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!Z(t,o,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=o}function X(e,t,n){var o,r,i,a,s=0;if(0!==e.last_lit)do{o=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===o?q(e,r,t):(q(e,(i=D[r])+h+1,t),0!==(a=S[i])&&W(e,r-=I[i],a),q(e,i=B(--o),n),0!==(a=C[i])&&W(e,o-=z[i],a))}while(s<e.last_lit);q(e,_,t)}function G(e,t){var n,o,r,i=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=b,n=0;n<l;n++)0!==i[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)Y(e,i,n);r=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Y(e,i,1),o=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=o,i[2*r]=i[2*n]+i[2*o],e.depth[r]=(e.depth[n]>=e.depth[o]?e.depth[n]:e.depth[o])+1,i[2*n+1]=i[2*o+1]=r,e.heap[1]=r++,Y(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,o,r,i,a,s,l=t.dyn_tree,c=t.max_code,d=t.stat_desc.static_tree,u=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,f=t.stat_desc.max_length,m=0;for(i=0;i<=v;i++)e.bl_count[i]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<b;n++)(i=l[2*l[2*(o=e.heap[n])+1]+1]+1)>f&&(i=f,m++),l[2*o+1]=i,o>c||(e.bl_count[i]++,a=0,o>=h&&(a=p[o-h]),s=l[2*o],e.opt_len+=s*(i+a),u&&(e.static_len+=s*(d[2*o+1]+a)));if(0!==m){do{for(i=f-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[f]--,m-=2}while(m>0);for(i=f;0!==i;i--)for(o=e.bl_count[i];0!==o;)(r=e.heap[--n])>c||(l[2*r+1]!==i&&(e.opt_len+=(i-l[2*r+1])*l[2*r],l[2*r+1]=i),o--)}}(e,t),$(i,c,e.bl_count)}function Q(e,t,n){var o,r,i=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,o=0;o<=n;o++)r=a,a=t[2*(o+1)+1],++s<l&&r===a||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==i&&e.bl_tree[2*r]++,e.bl_tree[2*x]++):s<=10?e.bl_tree[2*k]++:e.bl_tree[2*E]++,s=0,i=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4))}function J(e,t,n){var o,r,i=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),o=0;o<=n;o++)if(r=a,a=t[2*(o+1)+1],!(++s<l&&r===a)){if(s<c)do{q(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==i&&(q(e,r,e.bl_tree),s--),q(e,x,e.bl_tree),W(e,s-3,2)):s<=10?(q(e,k,e.bl_tree),W(e,s-3,3)):(q(e,E,e.bl_tree),W(e,s-11,7));s=0,i=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4)}}l(z);var ee=!1;function te(e,t,n,r){W(e,(c<<1)+(r?1:0),3),function(e,t,n,r){K(e),r&&(U(e,n),U(e,~n)),o.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){ee||(function(){var e,t,n,o,r,i=new Array(v+1);for(n=0,o=0;o<p-1;o++)for(I[o]=n,e=0;e<1<<S[o];e++)D[n++]=o;for(D[n-1]=o,r=0,o=0;o<16;o++)for(z[o]=r,e=0;e<1<<C[o];e++)j[r++]=o;for(r>>=7;o<m;o++)for(z[o]=r<<7,e=0;e<1<<C[o]-7;e++)j[256+r++]=o;for(t=0;t<=v;t++)i[t]=0;for(e=0;e<=143;)T[2*e+1]=8,e++,i[8]++;for(;e<=255;)T[2*e+1]=9,e++,i[9]++;for(;e<=279;)T[2*e+1]=7,e++,i[7]++;for(;e<=287;)T[2*e+1]=8,e++,i[8]++;for($(T,f+1,i),e=0;e<m;e++)R[2*e+1]=5,R[2*e]=H(e,5);P=new F(T,S,h+1,f,v),L=new F(R,C,0,m,v),A=new F(new Array(0),N,0,g,w)}(),ee=!0),e.l_desc=new M(e.dyn_ltree,P),e.d_desc=new M(e.dyn_dtree,L),e.bl_desc=new M(e.bl_tree,A),e.bi_buf=0,e.bi_valid=0,V(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,n,o){var l,c,p=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<h;t++)if(0!==e.dyn_ltree[2*t])return a;return i}(e)),G(e,e.l_desc),G(e,e.d_desc),p=function(e){var t;for(Q(e,e.dyn_ltree,e.l_desc.max_code),Q(e,e.dyn_dtree,e.d_desc.max_code),G(e,e.bl_desc),t=g-1;t>=3&&0===e.bl_tree[2*O[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),l=e.opt_len+3+7>>>3,(c=e.static_len+3+7>>>3)<=l&&(l=c)):l=c=n+5,n+4<=l&&-1!==t?te(e,t,n,o):e.strategy===r||c===l?(W(e,(d<<1)+(o?1:0),3),X(e,T,R)):(W(e,(u<<1)+(o?1:0),3),function(e,t,n,o){var r;for(W(e,t-257,5),W(e,n-1,5),W(e,o-4,4),r=0;r<o;r++)W(e,e.bl_tree[2*O[r]+1],3);J(e,e.dyn_ltree,t-1),J(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,p+1),X(e,e.dyn_ltree,e.dyn_dtree)),V(e),o&&K(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(D[n]+h+1)]++,e.dyn_dtree[2*B(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){W(e,d<<1,3),q(e,_,T),function(e){16===e.bi_valid?(U(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var o,r=n(15),i=n(156),a=n(65),s=n(64),l=n(38),c=0,d=1,u=3,p=4,h=5,f=0,m=1,g=-2,b=-3,v=-5,y=-1,w=1,_=2,x=3,k=4,E=0,S=2,C=8,N=9,O=15,T=8,R=286,j=30,D=19,I=2*R+1,P=15,L=3,A=258,z=A+L+1,F=32,M=42,B=69,U=73,W=91,q=103,H=113,$=666,V=1,K=2,Z=3,Y=4,X=3;function G(e,t){return e.msg=l[t],t}function Q(e){return(e<<1)-(e>4?9:0)}function J(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function te(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ne(e,t){e.pending_buf[e.pending++]=t}function oe(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function re(e,t,n,o){var i=e.avail_in;return i>o&&(i=o),0===i?0:(e.avail_in-=i,r.arraySet(t,e.input,e.next_in,i,n),1===e.state.wrap?e.adler=a(e.adler,t,i,n):2===e.state.wrap&&(e.adler=s(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function ie(e,t){var n,o,r=e.max_chain_length,i=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-z?e.strstart-(e.w_size-z):0,c=e.window,d=e.w_mask,u=e.prev,p=e.strstart+A,h=c[i+a-1],f=c[i+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===f&&c[n+a-1]===h&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<p);if(o=A-(p-i),i=p-A,o>a){if(e.match_start=t,a=o,o>=s)break;h=c[i+a-1],f=c[i+a]}}}while((t=u[t&d])>l&&0!=--r);return a<=e.lookahead?a:e.lookahead}function ae(e){var t,n,o,i,a,s=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-z)){r.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=n=e.hash_size;do{o=e.head[--t],e.head[t]=o>=s?o-s:0}while(--n);t=n=s;do{o=e.prev[--t],e.prev[t]=o>=s?o-s:0}while(--n);i+=s}if(0===e.strm.avail_in)break;if(n=re(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=L)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+L-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<L)););}while(e.lookahead<z&&0!==e.strm.avail_in)}function se(e,t){for(var n,o;;){if(e.lookahead<z){if(ae(e),e.lookahead<z&&t===c)return V;if(0===e.lookahead)break}if(n=0,e.lookahead>=L&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-z&&(e.match_length=ie(e,n)),e.match_length>=L)if(o=i._tr_tally(e,e.strstart-e.match_start,e.match_length-L),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=L){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else o=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(o&&(te(e,!1),0===e.strm.avail_out))return V}return e.insert=e.strstart<L-1?e.strstart:L-1,t===p?(te(e,!0),0===e.strm.avail_out?Z:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?V:K}function le(e,t){for(var n,o,r;;){if(e.lookahead<z){if(ae(e),e.lookahead<z&&t===c)return V;if(0===e.lookahead)break}if(n=0,e.lookahead>=L&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=L-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-z&&(e.match_length=ie(e,n),e.match_length<=5&&(e.strategy===w||e.match_length===L&&e.strstart-e.match_start>4096)&&(e.match_length=L-1)),e.prev_length>=L&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-L,o=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-L),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=L-1,e.strstart++,o&&(te(e,!1),0===e.strm.avail_out))return V}else if(e.match_available){if((o=i._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return V}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(o=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<L-1?e.strstart:L-1,t===p?(te(e,!0),0===e.strm.avail_out?Z:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?V:K}function ce(e,t,n,o,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=o,this.func=r}function de(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=S,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?M:H,e.adler=2===t.wrap?0:1,t.last_flush=c,i._tr_init(t),f):G(e,g)}function ue(e){var t=de(e);return t===f&&function(e){e.window_size=2*e.w_size,J(e.head),e.max_lazy_match=o[e.level].max_lazy,e.good_match=o[e.level].good_length,e.nice_match=o[e.level].nice_length,e.max_chain_length=o[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=L-1,e.match_available=0,e.ins_h=0}(e.state),t}function pe(e,t,n,o,i,a){if(!e)return g;var s=1;if(t===y&&(t=6),o<0?(s=0,o=-o):o>15&&(s=2,o-=16),i<1||i>N||n!==C||o<8||o>15||t<0||t>9||a<0||a>k)return G(e,g);8===o&&(o=9);var l=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*I),this.dyn_dtree=new r.Buf16(2*(2*j+1)),this.bl_tree=new r.Buf16(2*(2*D+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(P+1),this.heap=new r.Buf16(2*R+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*R+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=o,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+L-1)/L),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,ue(e)}o=[new ce(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ae(e),0===e.lookahead&&t===c)return V;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var o=e.block_start+n;if((0===e.strstart||e.strstart>=o)&&(e.lookahead=e.strstart-o,e.strstart=o,te(e,!1),0===e.strm.avail_out))return V;if(e.strstart-e.block_start>=e.w_size-z&&(te(e,!1),0===e.strm.avail_out))return V}return e.insert=0,t===p?(te(e,!0),0===e.strm.avail_out?Z:Y):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),V)}),new ce(4,4,8,4,se),new ce(4,5,16,8,se),new ce(4,6,32,32,se),new ce(4,4,16,16,le),new ce(8,16,32,32,le),new ce(8,16,128,128,le),new ce(8,32,128,256,le),new ce(32,128,258,1024,le),new ce(32,258,258,4096,le)],t.deflateInit=function(e,t){return pe(e,t,C,O,T,E)},t.deflateInit2=pe,t.deflateReset=ue,t.deflateResetKeep=de,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?g:(e.state.gzhead=t,f):g},t.deflate=function(e,t){var n,r,a,l;if(!e||!e.state||t>h||t<0)return e?G(e,g):g;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===$&&t!==p)return G(e,0===e.avail_out?v:g);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===M)if(2===r.wrap)e.adler=0,ne(r,31),ne(r,139),ne(r,8),r.gzhead?(ne(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),ne(r,255&r.gzhead.time),ne(r,r.gzhead.time>>8&255),ne(r,r.gzhead.time>>16&255),ne(r,r.gzhead.time>>24&255),ne(r,9===r.level?2:r.strategy>=_||r.level<2?4:0),ne(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(ne(r,255&r.gzhead.extra.length),ne(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=B):(ne(r,0),ne(r,0),ne(r,0),ne(r,0),ne(r,0),ne(r,9===r.level?2:r.strategy>=_||r.level<2?4:0),ne(r,X),r.status=H);else{var b=C+(r.w_bits-8<<4)<<8;b|=(r.strategy>=_||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(b|=F),b+=31-b%31,r.status=H,oe(r,b),0!==r.strstart&&(oe(r,e.adler>>>16),oe(r,65535&e.adler)),e.adler=1}if(r.status===B)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),ee(e),a=r.pending,r.pending!==r.pending_buf_size));)ne(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=U)}else r.status=U;if(r.status===U)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),ee(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,ne(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.gzindex=0,r.status=W)}else r.status=W;if(r.status===W)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),ee(e),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,ne(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.status=q)}else r.status=q;if(r.status===q&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&ee(e),r.pending+2<=r.pending_buf_size&&(ne(r,255&e.adler),ne(r,e.adler>>8&255),e.adler=0,r.status=H)):r.status=H),0!==r.pending){if(ee(e),0===e.avail_out)return r.last_flush=-1,f}else if(0===e.avail_in&&Q(t)<=Q(n)&&t!==p)return G(e,v);if(r.status===$&&0!==e.avail_in)return G(e,v);if(0!==e.avail_in||0!==r.lookahead||t!==c&&r.status!==$){var y=r.strategy===_?function(e,t){for(var n;;){if(0===e.lookahead&&(ae(e),0===e.lookahead)){if(t===c)return V;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return V}return e.insert=0,t===p?(te(e,!0),0===e.strm.avail_out?Z:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?V:K}(r,t):r.strategy===x?function(e,t){for(var n,o,r,a,s=e.window;;){if(e.lookahead<=A){if(ae(e),e.lookahead<=A&&t===c)return V;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=L&&e.strstart>0&&(o=s[r=e.strstart-1])===s[++r]&&o===s[++r]&&o===s[++r]){a=e.strstart+A;do{}while(o===s[++r]&&o===s[++r]&&o===s[++r]&&o===s[++r]&&o===s[++r]&&o===s[++r]&&o===s[++r]&&o===s[++r]&&r<a);e.match_length=A-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=L?(n=i._tr_tally(e,1,e.match_length-L),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(te(e,!1),0===e.strm.avail_out))return V}return e.insert=0,t===p?(te(e,!0),0===e.strm.avail_out?Z:Y):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?V:K}(r,t):o[r.level].func(r,t);if(y!==Z&&y!==Y||(r.status=$),y===V||y===Z)return 0===e.avail_out&&(r.last_flush=-1),f;if(y===K&&(t===d?i._tr_align(r):t!==h&&(i._tr_stored_block(r,0,0,!1),t===u&&(J(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),ee(e),0===e.avail_out))return r.last_flush=-1,f}return t!==p?f:r.wrap<=0?m:(2===r.wrap?(ne(r,255&e.adler),ne(r,e.adler>>8&255),ne(r,e.adler>>16&255),ne(r,e.adler>>24&255),ne(r,255&e.total_in),ne(r,e.total_in>>8&255),ne(r,e.total_in>>16&255),ne(r,e.total_in>>24&255)):(oe(r,e.adler>>>16),oe(r,65535&e.adler)),ee(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?f:m)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==M&&t!==B&&t!==U&&t!==W&&t!==q&&t!==H&&t!==$?G(e,g):(e.state=null,t===H?G(e,b):f):g},t.deflateSetDictionary=function(e,t){var n,o,i,s,l,c,d,u,p=t.length;if(!e||!e.state)return g;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==M||n.lookahead)return g;for(1===s&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(J(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new r.Buf8(n.w_size),r.arraySet(u,t,p-n.w_size,n.w_size,0),t=u,p=n.w_size),l=e.avail_in,c=e.next_in,d=e.input,e.avail_in=p,e.next_in=0,e.input=t,ae(n);n.lookahead>=L;){o=n.strstart,i=n.lookahead-(L-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[o+L-1])&n.hash_mask,n.prev[o&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=o,o++}while(--i);n.strstart=o,n.lookahead=L-1,ae(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=L-1,n.match_available=0,e.next_in=c,e.input=d,e.avail_in=l,n.wrap=s,f},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var o=n(157),r=n(15),i=n(63),a=n(38),s=n(62),l=Object.prototype.toString,c=0,d=-1,u=0,p=8;function h(e){if(!(this instanceof h))return new h(e);this.options=r.assign({level:d,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=o.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(a[n]);if(t.header&&o.deflateSetHeader(this.strm,t.header),t.dictionary){var f;if(f="string"==typeof t.dictionary?i.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=o.deflateSetDictionary(this.strm,f))!==c)throw new Error(a[n]);this._dict_set=!0}}function f(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(e,t){var n,a,s=this.strm,d=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=i.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(d),s.next_out=0,s.avail_out=d),1!==(n=o.deflate(s,a))&&n!==c)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(i.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=o.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==a||(this.onEnd(c),s.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=h,t.deflate=f,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,f(e,t)}},function(e,t,n){"use strict";var o={};(0,n(15).assign)(o,n(158),n(155),n(61)),e.exports=o},function(e,t,n){"use strict";var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=n(159),i=n(8),a=n(12),s=o?"uint8array":"array";function l(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}t.magic="\b\0",i.inherits(l,a),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(i.transformTo(s,e.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},t.compressWorker=function(e){return new l("Deflate",e)},t.uncompressWorker=function(){return new l("Inflate",{})}},function(e,t,n){"use strict";var o=n(66),r=n(150);t.generateWorker=function(e,t,n){var i=new r(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach(function(e,n){a++;var r=function(e,t){var n=e||t,r=o[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(r,s).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(i)}),i.entriesCount=a}catch(e){i.error(e)}return i}},function(e,t,n){"use strict";var o=n(71),r=n(69),i=n(19),a=n(40),s=n(12),l=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!r&&(t=t.pipe(new i.Utf8EncodeWorker)),!a&&r&&(t=t.pipe(new i.Utf8DecodeWorker))}catch(e){(t=new s("error")).error(e)}return new o(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new i.Utf8EncodeWorker)),a.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new r(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<c.length;u++)l.prototype[c[u]]=d;e.exports=l},function(e,t,n){"use strict";var o=n(77).Readable;function r(e,t,n){o.call(this,t),this._helper=e;var r=this;e.on("data",function(e,t){r.push(e)||r._helper.pause(),n&&n(t)}).on("error",function(e){r.emit("error",e)}).on("end",function(){r.push(null)})}n(8).inherits(r,o),r.prototype._read=function(){this._helper.resume()},e.exports=r},function(e,t,n){"use strict";var o=n(12),r=n(8);function i(e){o.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(i,o),i.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},e.exports=i},function(e,t,n){"use strict";(function(t){var n,o,r=t.MutationObserver||t.WebKitMutationObserver;if(r){var i=0,a=new r(d),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=i=++i%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){d(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(d,0)};else{var l=new t.MessageChannel;l.port1.onmessage=d,n=function(){l.port2.postMessage(0)}}var c=[];function d(){var e,t;o=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}o=!1}e.exports=function(e){1!==c.push(e)||o||n()}}).call(this,n(41))},function(e,t,n){"use strict";var o=n(165);function r(){}var i={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==r&&h(this,e)}function d(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(e,t,n){o(function(){var o;try{o=t(n)}catch(t){return i.reject(e,t)}o===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,o)})}function p(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var n=!1;function o(t){n||(n=!0,i.reject(e,t))}function r(t){n||(n=!0,i.resolve(e,t))}var a=f(function(){t(r,o)});"error"===a.status&&o(a.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}e.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(r);this.state!==l?u(n,this.state===s?e:t,this.outcome):this.queue.push(new d(n,e,t));return n},d.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){i.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},i.resolve=function(e,t){var n=f(p,t);if("error"===n.status)return i.reject(e,n.value);var o=n.value;if(o)h(e,o);else{e.state=s,e.outcome=t;for(var r=-1,a=e.queue.length;++r<a;)e.queue[r].callFulfilled(t)}return e},i.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,o=e.queue.length;++n<o;)e.queue[n].callRejected(t);return e},c.resolve=function(e){if(e instanceof this)return e;return i.resolve(new this(r),e)},c.reject=function(e){var t=new this(r);return i.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);var a=new Array(n),s=0,l=-1,c=new this(r);for(;++l<n;)d(e[l],l);return c;function d(e,r){t.resolve(e).then(function(e){a[r]=e,++s!==n||o||(o=!0,i.resolve(c,a))},function(e){o||(o=!0,i.reject(c,e))})}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);var a=-1,s=new this(r);for(;++a<n;)l(e[a]);return s;function l(e){t.resolve(e).then(function(e){o||(o=!0,i.resolve(s,e))},function(e){o||(o=!0,i.reject(s,e))})}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){e.exports=n(28).document&&document.documentElement},function(e,t){e.exports=function(e,t,n){var o=void 0===n;switch(t.length){case 0:return o?e():e.call(n);case 1:return o?e(t[0]):e.call(n,t[0]);case 2:return o?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var o,r,i,a=n(74),s=n(169),l=n(168),c=n(72),d=n(28),u=d.process,p=d.setImmediate,h=d.clearImmediate,f=d.MessageChannel,m=0,g={},b=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},v=function(e){b.call(e.data)};p&&h||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++m]=function(){s("function"==typeof e?e:Function(e),t)},o(m),m},h=function(e){delete g[e]},"process"==n(167)(u)?o=function(e){u.nextTick(a(b,e,1))}:f?(i=(r=new f).port2,r.port1.onmessage=v,o=a(i.postMessage,i,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(o=function(e){d.postMessage(e+"","*")},d.addEventListener("message",v,!1)):o="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:p,clear:h}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var o=n(43);e.exports=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){e.exports=!n(42)&&!n(73)(function(){return 7!=Object.defineProperty(n(72)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var o=n(43);e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var o=n(174),r=n(173),i=n(172),a=Object.defineProperty;t.f=n(42)?Object.defineProperty:function(e,t,n){if(o(e),t=i(t,!0),o(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var o=n(175),r=n(171);e.exports=n(42)?function(e,t,n){return o.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var o=n(28),r=n(75),i=n(74),a=n(176),s=function(e,t,n){var l,c,d,u=e&s.F,p=e&s.G,h=e&s.S,f=e&s.P,m=e&s.B,g=e&s.W,b=p?r:r[t]||(r[t]={}),v=b.prototype,y=p?o:h?o[t]:(o[t]||{}).prototype;for(l in p&&(n=t),n)(c=!u&&y&&void 0!==y[l])&&l in b||(d=c?y[l]:n[l],b[l]=p&&"function"!=typeof y[l]?n[l]:m&&c?i(d,o):g&&y[l]==d?function(e){var t=function(t,n,o){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,o)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):f&&"function"==typeof d?i(Function.call,d):d,f&&((b.virtual||(b.virtual={}))[l]=d,e&s.R&&v&&!v[l]&&a(v,l,d)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,n){var o=n(178),r=n(170);o(o.G+o.B,{setImmediate:r.set,clearImmediate:r.clear})},function(e,t,n){n(179),e.exports=n(75).setImmediate},function(e,t,n){e.exports=n(4)("./node_modules/stream-browserify/index.js")},function(e,t,n){"use strict";var o=n(19),r=n(8),i=n(12),a=n(71),s=n(70),l=n(40),c=n(162),d=n(161),u=n(29),p=n(149),h=function(e,t,n){var o,a=r.getTypeOf(t),d=r.extend(n||{},s);d.date=d.date||new Date,null!==d.compression&&(d.compression=d.compression.toUpperCase()),"string"==typeof d.unixPermissions&&(d.unixPermissions=parseInt(d.unixPermissions,8)),d.unixPermissions&&16384&d.unixPermissions&&(d.dir=!0),d.dosPermissions&&16&d.dosPermissions&&(d.dir=!0),d.dir&&(e=m(e)),d.createFolders&&(o=f(e))&&g.call(this,o,!0);var h="string"===a&&!1===d.binary&&!1===d.base64;n&&void 0!==n.binary||(d.binary=!h),(t instanceof l&&0===t.uncompressedSize||d.dir||!t||0===t.length)&&(d.base64=!1,d.binary=!0,t="",d.compression="STORE",a="string");var b=null;b=t instanceof l||t instanceof i?t:u.isNode&&u.isStream(t)?new p(e,t):r.prepareContent(e,t,d.binary,d.optimizedBinaryString,d.base64);var v=new c(e,b,d);this.files[e]=v},f=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:s.createFolders,e=m(e),this.files[e]||h.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function b(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,o;for(t in this.files)this.files.hasOwnProperty(t)&&(o=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,o))},filter:function(e){var t=[];return this.forEach(function(n,o){e(n,o)&&t.push(o)}),t},file:function(e,t,n){if(1===arguments.length){if(b(e)){var o=e;return this.filter(function(e,t){return!t.dir&&o.test(e)})}var r=this.files[this.root+e];return r&&!r.dir?r:null}return e=this.root+e,h.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(b(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=g.call(this,t),o=this.clone();return o.root=n.name,o},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),o=0;o<n.length;o++)delete this.files[n[o].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=r.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");r.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var s=n.comment||this.comment||"";t=d.generateWorker(this,n,s)}catch(e){(t=new i("error")).error(e)}return new a(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};e.exports=v},function(e,t){window.wpcom=window.wpcom||{},window._tkq=window._tkq||[],window.wpcom.tracks=function(){var e,t,n,o={},r={},i=null,a={},s=function(e){var t="tk_"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&"),n=new RegExp("(?:(?:^|.*;)\\s*"+t+"\\s*\\=\\s*([^;]*).*$)|^.*$");return decodeURIComponent(document.cookie.replace(n,"$1"))||null},l=function(e){var t=(new Date).getTime();return document.cookie="tk_tc="+t+"; domain="+e+"; path=/;",s("tc")===t},c=function(e,t,n){var o="tk_"+encodeURIComponent(e),r=new Date;void 0===n&&(n=15768e4),r.setTime(r.getTime()+1e3*n),document.cookie=o+"="+encodeURIComponent(t)+function(){if(null===i){i="";let e,t=document.location.host.toLowerCase().split(":")[0].split(".");if("undefined"!=typeof TRACKS_COOKIE_DOMAIN)i=TRACKS_COOKIE_DOMAIN;else for(let n=1;n<=t.length;++n)if(e="."+t.slice(-n).join("."),l(e)){i=e;break}""!==i&&(i="; domain="+i)}return i}()+"; path=/; expires="+r.toUTCString()},d=function(e){return s(e)||o[e]},u=function(e,t,n){o[e]=t,c(e,t,n)},p=function(){e||((e=function(){if(s("wordpress")||s("wordpress_sec")||s("wordpress_loggedin"))return d("ni")}())?t="wpcom:user_id":(t="anon",(e=d("ai"))||(e=function(){var e=[];if(window.crypto&&window.crypto.getRandomValues)e=new Uint8Array(18),window.crypto.getRandomValues(e);else for(let t=0;t<18;++t)e[t]=Math.floor(256*Math.random());return btoa(String.fromCharCode.apply(String,e))}(),u("ai",e))))},h=function(){var e=d("qs");return e?e.split(" "):[]},f=function(e){for(;e.join(" ").length>2048;)e=e.slice(1);u("qs",e.join(" "),1800)},m=function(e){var t,n=[],o=h();for(t=0;t<o.length;++t)e!==o[t]&&n.push(o[t]);f(n)},g=function(e){if(!navigator.userAgent.match(/bingbot|bot|borg|google(^tv)|yahoo|slurp|msnbot|msrbot|openbot|archiver|netresearch|lycos|scooter|altavista|teoma|gigabot|baiduspider|blitzbot|oegp|charlotte|furlbot|http%20client|polybot|htdig|ichiro|mogimogi|larbin|pompos|scrubby|searchsight|seekbot|semanticdiscovery|silk|snappy|speedy|spider|voila|vortex|voyager|zao|zeal|fast-webcrawler|converacrawler|dataparksearch|findlinks|crawler|Netvibes|Sogou Pic Spider|ICC-Crawler|Innovazion Crawler|Daumoa|EtaoSpider|A6-Indexer|YisouSpider|Riddler|DBot|wsr-agent|Xenu|SeznamBot|PaperLiBot|SputnikBot|CCBot|ProoXiBot|Scrapy|Genieo|Screaming Frog|YahooCacheSystem|CiBra|Nutch/)){if(e in a)return;a[e]=!0;let t=new Image;!function(e){m(e);let t=h();t.push(e),f(t)}(e),t.query=e,t.onload=function(){delete a[e],t&&m(t.query)},t.src="https://pixel.wp.com/t.gif?"+e+"&_rt="+(new Date).getTime()+"&_=_"}},b=function(){h().forEach(g)},v=function(e,t){if(null===e||"object"!=typeof e)return e;null!==t&&"object"==typeof t||(t=e.constructor());for(const n in e)e.hasOwnProperty(n)&&(t[n]=v(e[n]));return t},y=function(o){p(),b(),o._ui=e,o._ut=t,n&&(o._ul=n);let i=new Date;o._ts=i.getTime(),o._tz=i.getTimezoneOffset()/60;const a=window.navigator,s=window.screen;o._lg=a.language,o._pf=a.platform,o._ht=s.height,o._wd=s.width;const l=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,c=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;o._sx=void 0!==l?l:0,o._sy=void 0!==c?c:0,void 0!==document.location&&(o._dl=document.location.toString()),void 0!==document.referrer&&(o._dr=document.referrer),v(r,o),g(function(e){var t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}(o))},w={storeContext:function(e){"object"==typeof e&&(r=e)},identifyUser:function(o,r){if(r&&(n=r),"0"===o||""===o||null===o||e===o)return;t="wpcom:user_id",u("ni",e=o);const i=d("ai");i&&y({_en:"_aliasUser",anonId:i}),u("ai","",-1)},recordEvent:function(e,t){"_setProperties"!==e&&((t=t||{})._en=e,y(t))},setProperties:function(e){e._en="_setProperties",y(e)},clearIdentity:function(){e=null,n=null,u("ni","",-1),u("ai","",-1),p()}},_=function(e){if(this.a=1,e&&e.length)for(let t=0;t<e.length;t++)this.push(e[t])};return _.prototype.push=function(e){if(e)if("object"==typeof e&&e.length){const t=e.splice(0,1);w[t]&&w[t].apply(null,e)}else"function"==typeof e&&e()},window._tkq.a||(b(),window._tkq=new _(window._tkq)),w}()},function(e,t,n){e.exports=n(96)}]);